<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title></title>
    <url>/2022/03/08/javaWeb/%E7%BD%91%E5%85%B3/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/spring/javaConfig/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/10/%E5%88%86%E5%B8%83%E5%BC%8F/Untitled/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/10/%E5%88%86%E5%B8%83%E5%BC%8F/netty/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/10/%E5%88%86%E5%B8%83%E5%BC%8F/kafka/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/10/%E5%88%86%E5%B8%83%E5%BC%8F/springCloud/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/%E7%BB%84%E4%BB%B6/RabbitMQ/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/10/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/Untitled/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/10/java/java%E8%AE%BE%E8%AE%A1/java%E5%86%85%E9%83%A8%E7%B1%BB/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/java/java%E9%AB%98%E7%BA%A7/%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%BB%A7%E6%89%BF/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/javaWeb/servlet/servlet%E5%8C%85/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/utils/python/python%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%AD%97%E5%85%B8%E6%A0%91/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%B9%B6%E6%9F%A5%E9%9B%86/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95/%E8%B4%AA%E5%BF%83/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JLang/Class/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JLang/%E5%BC%82%E5%B8%B8/Error/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JLang/%E5%BC%82%E5%B8%B8/Exception/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JUtil/Strean/Stream/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JUtil/%E6%AF%94%E8%BE%83/Comparator/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JUtil/%E9%9B%86%E5%90%88/Iterator/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>字符原理</title>
    <url>/2022/03/08/408/%E5%AD%97%E7%AC%A6%E5%8E%9F%E7%90%86/</url>
    <content><![CDATA[<h3 id="Unicode-和-UTF-8-关系"><a href="#Unicode-和-UTF-8-关系" class="headerlink" title="Unicode 和 UTF-8 关系"></a>Unicode 和 UTF-8 关系</h3><blockquote>
<p>Unicode 为世界上所有字符都分配了一个唯一的数字编号，这个编号范围从 0x000000 到 0x10FFFF (十六进制)，有 110 多万，每个字符都有一个唯一的 Unicode 编号，这个编号一般写成 16 进制，在前面加上 U+。例如：“马”的 Unicode 是U+9A6C。</p>
</blockquote>
]]></content>
      <categories>
        <category>408</category>
      </categories>
  </entry>
  <entry>
    <title>socket编程</title>
    <url>/2022/03/12/java/socket%E7%BC%96%E7%A8%8B/</url>
    <content><![CDATA[<h3 id="TCP-UDP"><a href="#TCP-UDP" class="headerlink" title="TCP UDP"></a>TCP UDP</h3><ul>
<li><strong>TCP</strong>：传输控制协议，是一种面向连接的、可靠的、基于字节流的传输层通信协议，TCP 层是位于 IP 层之上，应用层之下的中间层。TCP 保障了两个应用程序之间的可靠通信。通常用于互联网协议，被称 TCP / IP。</li>
<li><strong>UDP</strong>：用户数据报协议，位于 OSI 模型的传输层。一个无连接的协议。提供了应用程序之间要发送数据的数据报。由于UDP缺乏可靠性且属于无连接协议，所以应用程序通常必须容许一些丢失、错误或重复的数据包</li>
</ul>
<h3 id="socket"><a href="#socket" class="headerlink" title="socket"></a>socket</h3><ol>
<li><p>在计算机网络中，叫套接字socket (ip:port)</p>
<p>top连接={socket1,socket2}</p>
</li>
<li><p>在程序通信中，叫socket Api，网络通信接口，这是对TCP、IP的封装</p>
</li>
</ol>
<h3 id="socket编程"><a href="#socket编程" class="headerlink" title="socket编程"></a>socket编程</h3><blockquote>
<p>当连接建立时，服务器会创建一个 Socket 对象。客户端和服务器现在可以通过对 Socket 对象的写入和读取来进行通信。</p>
</blockquote>
<h2 id="二、类"><a href="#二、类" class="headerlink" title="二、类"></a>二、类</h2><h3 id="2-1-ServerSocket"><a href="#2-1-ServerSocket" class="headerlink" title="2.1 ServerSocket"></a>2.1 ServerSocket</h3><table>
<thead>
<tr>
<th>序号</th>
<th>方法名</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>ServerSocket(int port)</td>
<td>构造函数</td>
</tr>
<tr>
<td>2</td>
<td><strong>getLocalPort</strong></td>
<td>获得端口</td>
</tr>
<tr>
<td>3</td>
<td><strong>accept</strong></td>
<td>监听</td>
</tr>
<tr>
<td>4</td>
<td></td>
<td></td>
</tr>
<tr>
<td>5</td>
<td></td>
<td></td>
</tr>
<tr>
<td>6</td>
<td></td>
<td></td>
</tr>
<tr>
<td>7</td>
<td></td>
<td></td>
</tr>
<tr>
<td>8</td>
<td></td>
<td></td>
</tr>
<tr>
<td>9</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id="2-2-Socket"><a href="#2-2-Socket" class="headerlink" title="2.2 Socket"></a>2.2 Socket</h3><table>
<thead>
<tr>
<th>序号</th>
<th>方法名</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>Socket(String host, int port)</td>
<td>构造函数</td>
</tr>
<tr>
<td>2</td>
<td>**connect(**SocketAddress host, int timeout)</td>
<td>连接</td>
</tr>
<tr>
<td>3</td>
<td><strong>getInetAddress</strong></td>
<td>获得地址</td>
</tr>
<tr>
<td>4</td>
<td><strong>getPort</strong></td>
<td></td>
</tr>
<tr>
<td>5</td>
<td><strong>getInputStream</strong></td>
<td>获得输入流</td>
</tr>
<tr>
<td>6</td>
<td>OutputStream</td>
<td>获得输出流</td>
</tr>
<tr>
<td></td>
<td><strong>close</strong></td>
<td>关闭</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id="2-3-InetAddress"><a href="#2-3-InetAddress" class="headerlink" title="2.3 InetAddress"></a>2.3 InetAddress</h3><table>
<thead>
<tr>
<th>序号</th>
<th>方法名</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><h4 id="阻塞IO"><a href="#阻塞IO" class="headerlink" title="阻塞IO"></a>阻塞IO</h4><p>进程进行IO操作的适合被挂起，防止被运行，指导IO操作完成。</p>
<h4 id="非阻塞IO"><a href="#非阻塞IO" class="headerlink" title="非阻塞IO"></a>非阻塞IO</h4><p>IO操作立即返回，返回值为读取到的数据大小。等到总线发送了中断信号，就表示IO操作完成。</p>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/linux/linux--%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/</url>
    <content><![CDATA[<ol>
<li><p>nohup(no hang up) 挂起运行  </p>
</li>
<li><p>crontab </p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">crontab</span> -e  <span class="comment">#进入当前用户b</span></span><br></pre></td></tr></table></figure></li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">*    *    *    *    *</span><br><span class="line">-    -    -    -    -</span><br><span class="line">|    |    |    |    |</span><br><span class="line">|    |    |    |    +----- 星期中星期几 (<span class="number">0</span> - <span class="number">6</span>) (星期天 为<span class="number">0</span>)</span><br><span class="line">|    |    |    +---------- 月份 (<span class="number">1</span> - <span class="number">12</span>) </span><br><span class="line">|    |    +--------------- 一个月中的第几天 (<span class="number">1</span> - <span class="number">31</span>)</span><br><span class="line">|    +-------------------- 小时 (<span class="number">0</span> - <span class="number">23</span>)</span><br><span class="line">+------------------------- 分钟 (<span class="number">0</span> - <span class="number">59</span>)</span><br></pre></td></tr></table></figure>

<p>例如：</p>
<ol>
<li><p>每一分钟执行一次 /bin/ls：</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">*</span> <span class="emphasis">* *</span> <span class="emphasis">* *</span> /bin/ls</span><br></pre></td></tr></table></figure></li>
<li><p>在 12 月内, 每天的早上 6 点到 12 点，每隔 3 个小时 0 分钟执行一次 /usr/bin/backup：</p>
<figure class="highlight basic"><table><tr><td class="code"><pre><span class="line"><span class="symbol">0 </span><span class="number">6</span>-<span class="number">12</span>/<span class="number">3</span> * <span class="number">12</span> * /<span class="keyword">usr</span>/bin/backup</span><br></pre></td></tr></table></figure></li>
<li><p>周一到周五每天下午 5:00 寄一封信给 <a href="mailto:&#97;&#x6c;&#101;&#120;&#64;&#100;&#111;&#109;&#x61;&#x69;&#110;&#46;&#110;&#x61;&#x6d;&#101;">&#97;&#x6c;&#101;&#120;&#64;&#100;&#111;&#109;&#x61;&#x69;&#110;&#46;&#110;&#x61;&#x6d;&#101;</a>：</p>
<figure class="highlight basic"><table><tr><td class="code"><pre><span class="line"><span class="symbol">0 </span><span class="number">17</span> * * <span class="number">1</span>-<span class="number">5</span> mail -s <span class="string">&quot;hi&quot;</span> alex@domain.<span class="keyword">name</span> &lt; /tmp/maildata</span><br></pre></td></tr></table></figure></li>
<li><p>每月每天的午夜 0 点 20 分, 2 点 20 分, 4 点 20 分….执行 echo “haha”：</p>
<figure class="highlight basic"><table><tr><td class="code"><pre><span class="line"><span class="symbol">20 </span><span class="number">0</span>-<span class="number">23</span>/<span class="number">2</span> * * * echo <span class="string">&quot;haha&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><pre><code>0 */2 * * * /sbin/service httpd restart  意思是每两个小时重启一次apache 

50 7 * * * /sbin/service sshd start  意思是每天7：50开启ssh服务 

50 22 * * * /sbin/service sshd stop  意思是每天22：50关闭ssh服务 

0 0 1,15 * * fsck /home  每月1号和15号检查/home 磁盘 

1 * * * * /home/bruce/backup  每小时的第一分执行 /home/bruce/backup这个文件 

00 03 * * 1-5 find /home &quot;*.xxx&quot; -mtime +4 -exec rm &#123;&#125; \;  每周一至周五3点钟，在目录/home中，查找文件名为*.xxx的文件，并删除4天前的文件。

30 6 */10 * * ls  意思是每月的1、11、21、31日是的6：30执行一次ls命令
</code></pre>
</li>
<li><p>ping baidu.com -c  3 请求三次baidu </p>
</li>
<li><p>ssh-keygen -t rsa 生成rsa型密钥默认在 ~/.ssh中，有两个文件，一个私钥，一个pub公钥</p>
</li>
<li><p>yum 类似于Pip</p>
</li>
<li><p>定时同步时间：0 1 * * * /usr/sbin/ntpdate cn.pool.ntp.org</p>
</li>
<li><p>防火墙</p>
<ol>
<li>systemctl status firewalld.service  查看防火墙状态</li>
<li>systemctl stop firewalld.service 关闭防护墙</li>
<li>systemctl disable firewalld.service 开启</li>
</ol>
</li>
<li></li>
</ol>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/linux/linux-mysql/</url>
    <content><![CDATA[<ol>
<li><p>重启mysql</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">service mysqld restart</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>linux-用户</title>
    <url>/2022/03/08/linux/linux-%E7%94%A8%E6%88%B7/</url>
    <content><![CDATA[<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">useradd 添加用户</span><br><span class="line">useradd -d <span class="regexp">/home/</span>wyg -m wyg 创建wyg，并指定他的目录</span><br></pre></td></tr></table></figure>

<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">userdel</span> -r wyg 删除用户并删去其目录</span><br></pre></td></tr></table></figure>

<p>用户修改</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">usermod</span></span><br></pre></td></tr></table></figure>

<p>用户管理</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">chown -R wyg <span class="selector-tag">a</span>   赋予<span class="selector-tag">a</span>文件权限给w</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>linux命令</title>
    <url>/2022/03/08/linux/linux%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、简单操作"><a href="#一、简单操作" class="headerlink" title="一、简单操作"></a>一、简单操作</h2><h3 id="1-1-文件"><a href="#1-1-文件" class="headerlink" title="1.1 文件"></a>1.1 文件</h3><ol>
<li><p>ls -a 连同带.的隐藏文件文件一起查看</p>
</li>
<li><p>解压  tar xzf ..gz</p>
<table>
<thead>
<tr>
<th>文件类型</th>
<th>压缩</th>
<th>解压</th>
<th>打包</th>
</tr>
</thead>
<tbody><tr>
<td>tar文件</td>
<td>tar文件不是压缩文件</td>
<td>tar -xvf  name.tar</td>
<td>tar -cvf name.jar name</td>
</tr>
<tr>
<td>gz文件</td>
<td>tar -zcvf name.tar.gz name</td>
<td>tar -zxvf name.gz</td>
<td></td>
</tr>
<tr>
<td>zip文件</td>
<td>zip name.zip name</td>
<td>unzip name.zip</td>
<td></td>
</tr>
<tr>
<td>rar文件</td>
<td>rar a name.rar name</td>
<td>rar x name.rar</td>
<td></td>
</tr>
</tbody></table>
</li>
</ol>
<pre><code>1. 说明

    1. c建立新的压缩文件
    2. v 显示操作过程
    3. f 指定文件
    4. x 提取文件
</code></pre>
<ol start="3">
<li><p>删除非空文件夹 rm -rf aaa</p>
</li>
<li><p>搜索文件(非文件夹,- type d表示文件夹) </p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">find  basePath  [1]  name </span><br><span class="line">find / -name name</span><br><span class="line">find . -type d 文件夹 f 文件</span><br><span class="line">find . -ipath &quot;*data*&quot; 文件路径包含data的文件</span><br></pre></td></tr></table></figure></li>
<li><p>查看文件夹大小</p>
<ol>
<li><p>以byte为单位</p>
<p>ls -ll</p>
</li>
<li><p>以KB MB为单位</p>
<p>ls -lh</p>
</li>
</ol>
</li>
</ol>
<span id="more"></span>

<ol start="7">
<li><p>shell可执行</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">chmod +x a.sh</span><br><span class="line">chmod 700 a.sh</span><br></pre></td></tr></table></figure></li>
<li><p>修改文件夹/文件名</p>
<p>mv f1 f2</p>
</li>
</ol>
<h3 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h3><p>chomd</p>
<ol>
<li><p>设置拥有者可读写，其他人不可读写执行</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">chmod</span> <span class="number">600</span> file</span><br></pre></td></tr></table></figure></li>
<li><p>设置所有人可以读写及执行</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">chmod</span> <span class="number">777</span> file</span><br></pre></td></tr></table></figure></li>
<li><p>其他</p>
<figure class="highlight diff"><table><tr><td class="code"><pre><span class="line"><span class="deletion">-rw------- (600)    只有拥有者有读写权限。</span></span><br><span class="line"><span class="deletion">-rw-r--r-- (644)    只有拥有者有读写权限；而属组用户和其他用户只有读权限。</span></span><br><span class="line"><span class="deletion">-rwx------ (700)    只有拥有者有读、写、执行权限。</span></span><br><span class="line"><span class="deletion">-rwxr-xr-x (755)    拥有者有读、写、执行权限；而属组用户和其他用户只有读、执行权限。</span></span><br><span class="line"><span class="deletion">-rwx--x--x (711)    拥有者有读、写、执行权限；而属组用户和其他用户只有执行权限。</span></span><br><span class="line"><span class="deletion">-rw-rw-rw- (666)    所有用户都有文件读、写权限。</span></span><br><span class="line"><span class="deletion">-rwxrwxrwx (777)    所有用户都有读、写、执行权限</span></span><br></pre></td></tr></table></figure></li>
<li></li>
</ol>
<h2 id="二、进程、端口"><a href="#二、进程、端口" class="headerlink" title="二、进程、端口"></a>二、进程、端口</h2><ol>
<li><p>查看redis进程 ps -ef | grep redis</p>
</li>
<li><p>查看端口 lsof -i:8000  </p>
<p>netstat -lnp|grep 3306</p>
</li>
<li><p>杀死进程pid   kill 1002</p>
</li>
</ol>
<h2 id="三、用户"><a href="#三、用户" class="headerlink" title="三、用户"></a>三、用户</h2><ol>
<li><p>删除用户</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">userdel -r username</span></span><br></pre></td></tr></table></figure></li>
<li></li>
</ol>
<h2 id="四、vim"><a href="#四、vim" class="headerlink" title="四、vim"></a>四、vim</h2><ol>
<li>搜索：c    /str</li>
</ol>
<h2 id="五、下载"><a href="#五、下载" class="headerlink" title="五、下载"></a>五、下载</h2><ol>
<li><p>wget</p>
<p>下载url对应的网络资源</p>
</li>
<li><p>yum</p>
<p>一键式安装软件</p>
</li>
<li><p>rpm</p>
<p>用于安装软件，有些软件的压缩包是a.rpm。</p>
</li>
</ol>
]]></content>
      <categories>
        <category>os</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/linux/linux%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4%E9%9B%86/</url>
    <content><![CDATA[<ol>
<li><p>man 阅读联机帮助 </p>
</li>
<li><p>mkdir 创建目录 </p>
</li>
<li><p>cd 切换目录 </p>
</li>
<li><p>touch 创建空文件 </p>
</li>
<li><p>echo 创建带有内容的文件 </p>
</li>
<li><p>cat 查看文件内容 </p>
</li>
<li><p>cp 拷贝 mv 移动或者重命名 </p>
</li>
<li><p>rm 删除文件 </p>
</li>
<li><p>find 在文件系统中搜索某文件  find / -name jvm</p>
</li>
<li><p>wc 统计文本中的行数，字数，字符数 </p>
</li>
<li><p>grep 在文本文件中查找某个字符串 </p>
</li>
<li><p>rm dir 删除空目录（dir是指一个目录名） </p>
</li>
<li><p>ln 创建链接文件 </p>
</li>
<li><p>more/less 分页显示文本文件内容 </p>
</li>
<li><p>head/tail 显示文件头，尾内容 </p>
</li>
<li><p>stat 显示指定文件详细信息，比ls更详细 </p>
</li>
<li><p>who 显示在线登录用户 </p>
</li>
<li><p>whoami 显示当前操作用户 </p>
</li>
<li><p>hostname 显示主机名 </p>
</li>
<li><p>uname 显示系统信息 </p>
</li>
<li><p>top 查看进程信息 </p>
</li>
<li><p>ps 显示瞬间进入状态 </p>
</li>
<li><p>du 查看目录大小 </p>
</li>
<li><p>df 查看磁盘大小</p>
</li>
<li><p>ifconfig 查看网络情况 </p>
</li>
<li><p>ping 测试网络连接 </p>
</li>
<li><p>kill -9 进程号 强制终止进</p>
</li>
<li><p>重启reboot</p>
</li>
<li><p>关机halt</p>
</li>
<li><p>shutdown -h 10   10小时后关机</p>
</li>
<li><p>创建用户useradd username</p>
</li>
<li><p>赋予密码 passwd username</p>
</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/linux/linux%E7%9F%A5%E8%AF%86/</url>
    <content><![CDATA[<ol>
<li>linux system 和systemctl区别</li>
<li>./ 和sh区别</li>
<li>netword和managenetwork区别</li>
<li>bashrc与profile的区别</li>
<li>进程信息保存在/proc文件夹里面，proc下每个pid对应一个文件夹</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>linux高级命令</title>
    <url>/2022/03/08/linux/linux%E9%AB%98%E7%BA%A7%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<h3 id="查看cpu-内存占用情况"><a href="#查看cpu-内存占用情况" class="headerlink" title="查看cpu/内存占用情况"></a>查看cpu/内存占用情况</h3><ol>
<li><p>free -h 查看内存情况</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211111004922374.png" alt="image-20211111004922374"></p>
<blockquote>
<p>1.CPU占用最多的前10个进程：<br>ps auxw|head -1;ps auxw|sort -rn -k3|head -10<br>2.内存消耗最多的前10个进程<br>ps auxw|head -1;ps auxw|sort -rn -k4|head -10<br>3.虚拟内存使用最多的前10个进程</p>
<p>ps auxw|head -1;ps auxw|sort -rn -k5|head -10</p>
<p>%MEM 进程的内存占用率</p>
<p>VSZ 进程所使用的虚存的大小</p>
<p>RSS实际内存</p>
</blockquote>
</li>
<li><p>具体进程</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">cat /proc/<span class="number">3664</span>(具体进程号)/status　</span><br></pre></td></tr></table></figure></li>
</ol>
<p>​        </p>
<h2 id="硬件信息"><a href="#硬件信息" class="headerlink" title="硬件信息"></a>硬件信息</h2><h2 id="系统性能监控"><a href="#系统性能监控" class="headerlink" title="系统性能监控"></a>系统性能监控</h2><h2 id="内存、磁盘"><a href="#内存、磁盘" class="headerlink" title="内存、磁盘"></a>内存、磁盘</h2><ol>
<li><p>free 显示内存使用信息</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">free -s 2 每两秒监控一次内存信息</span><br><span class="line">free -bkmh  以b,kb,mb方式显示 h:人类方式显示</span><br></pre></td></tr></table></figure>

<ol>
<li><p>说明</p>
<p>total：总物理内存</p>
<p>Shared：表示多个进程共享的内存总额。</p>
<p>Buffers/cached：表示 磁盘缓存的大小。</p>
<p>swap: 交换区/虚拟内存</p>
</li>
</ol>
</li>
<li><p>fdisk</p>
</li>
</ol>
<h3 id="系统管理"><a href="#系统管理" class="headerlink" title="系统管理"></a>系统管理</h3><ol>
<li><p> ps</p>
</li>
<li><p>top 系统信息</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">时间：top - 09:44:56 </span><br><span class="line">开机天数：up 16 days, 21:23,  </span><br><span class="line">连接人数：1 user, </span><br><span class="line">处理任务平均时间：load average: 9.59, 4.75, 1.92</span><br><span class="line">进程数：Tasks: 145 total,  </span><br><span class="line">正在运行进程数：2 running,</span><br><span class="line">睡眠进程数：143 sleeping,  </span><br><span class="line">停止进程数：0 stopped</span><br><span class="line">冻结进程数：0 zombie</span><br><span class="line">cpu占比：Cpu(s): 99.8%us, </span><br><span class="line">内核占比：0.1%sy, 0.0%ni,  0.2%id,  0.0%wa,  0.0%hi,  0.0%si,  0.0%st</span><br><span class="line">物理总内存Mem:   4147888k total, </span><br><span class="line">已用内存：2493092k used, </span><br><span class="line">空闲内存：1654796k free, </span><br><span class="line">缓存区内存：158188k buffers</span><br><span class="line">虚拟内存：Swap:  5144568k total,       56k used,  5144512k free,  2013180k cached</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h2><ol>
<li><p>jps查看java进程</p>
</li>
<li><p>lsof </p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">lsof</span> -i:<span class="number">8001</span> 产看<span class="number">8001</span>端口的进程</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>lsof</p>
<figure class="highlight tcl"><table><tr><td class="code"><pre><span class="line">lsof -p <span class="keyword">pid</span>    该<span class="keyword">pid</span>打开的文件</span><br><span class="line">lsof filePath   操作该文件的进程</span><br></pre></td></tr></table></figure>

<ol>
<li>含义说明<ol>
<li>commend 进程名称</li>
<li>pid 进程标识</li>
<li>ppid 父进程id</li>
<li>user 进程所有者</li>
<li>fd 文件描述符，表示对该文件的行为  如：读，写，</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h2><ol>
<li>ifconfig 查看网络设备状态</li>
<li>netstat</li>
</ol>
<h2 id="cpu"><a href="#cpu" class="headerlink" title="cpu"></a>cpu</h2><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><ol>
<li><p>查看位数  uname -a</p>
</li>
<li><p>查看是ubantu还是centos</p>
<ol>
<li><p>cat /etc/issue</p>
</li>
<li><p>uname -n</p>
</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>os</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/linux/vim/</url>
    <content><![CDATA[<hr>
<h2 id="title-vim使用"><a href="#title-vim使用" class="headerlink" title="title:vim使用"></a>title:vim使用</h2><ol>
<li><p>搜索</p>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line"><span class="symbol">:/str</span></span><br><span class="line">小写n 下一条</span><br><span class="line">大写N 上一条</span><br></pre></td></tr></table></figure></li>
<li><p>标移动</p>
<p>gg 文首</p>
<p>G 最后一行</p>
<p>数字n+上下左右   移动n个位置</p>
</li>
<li><p>分窗</p>
<p>:vsp 横向</p>
<p>:sp 纵向</p>
<p>ctrl +w+方向 编辑某个分窗</p>
</li>
<li><p>复制粘贴</p>
<p>y 复制当前字符</p>
<p>yy 复制当前行</p>
<p>p 粘贴</p>
</li>
<li><p>撤回，恢复</p>
<p>u 撤销</p>
<p>ctrl+r 恢复</p>
</li>
<li><p>快速追加一行</p>
<p>o 在本行下追加 </p>
</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>shell</title>
    <url>/2022/03/08/linux/shell/</url>
    <content><![CDATA[<h2 id="一、变量"><a href="#一、变量" class="headerlink" title="一、变量"></a>一、变量</h2><blockquote>
<p>赋值，定义不用$，获取需要$或者${}</p>
</blockquote>
<h3 id="1-1-定义"><a href="#1-1-定义" class="headerlink" title="1.1 定义"></a>1.1 定义</h3><ol>
<li><p>普通定义：your_name=”runoob.com”</p>
<ol>
<li><p>不需要加$</p>
</li>
<li><p>变量名和等号之间不能有空格</p>
</li>
</ol>
</li>
<li><p>特殊定义</p>
<figure class="highlight mel"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="keyword">file</span> <span class="keyword">in</span> <span class="string">`ls /etc`</span></span><br><span class="line">或</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">file</span> <span class="keyword">in</span> $(<span class="keyword">ls</span> /etc)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="1-2-使用"><a href="#1-2-使用" class="headerlink" title="1.2 使用"></a>1.2 使用</h3><blockquote>
<p>需要$</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">your_name=&quot;qinjx&quot;</span><br><span class="line">echo $your_name</span><br><span class="line">echo $&#123;your_name&#125;</span><br><span class="line">echo &quot;I am good at $&#123;your_name&#125;Script&quot;</span><br></pre></td></tr></table></figure>

<h2 id="二、运算符"><a href="#二、运算符" class="headerlink" title="二、运算符"></a>二、运算符</h2><h2 id="三、数据结构"><a href="#三、数据结构" class="headerlink" title="三、数据结构"></a>三、数据结构</h2><h3 id="2-1-字符串"><a href="#2-1-字符串" class="headerlink" title="2.1 字符串"></a>2.1 字符串</h3><h4 id="单引号"><a href="#单引号" class="headerlink" title="单引号"></a>单引号</h4><ul>
<li>单引号里的任何字符都会原样输出，单引号字符串中的变量无效</li>
<li>单引号字串中不能出现单独一个的单引号（对单引号使用转义符后也不行），但可成对出现，作为字符串拼接使用。</li>
</ul>
<h4 id="双引号"><a href="#双引号" class="headerlink" title="双引号"></a>双引号</h4><ul>
<li>双引号里可以有变量</li>
<li>双引号里可以出现转义字符</li>
</ul>
<h4 id="字符串拼接"><a href="#字符串拼接" class="headerlink" title="字符串拼接"></a>字符串拼接</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">greeting=&quot;hello, &quot;$your_name&quot; !&quot;</span><br><span class="line">greeting_1=&quot;hello, $&#123;your_name&#125; !&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml">1. 字符串长度:  $</span><span class="template-tag">&#123;#<span class="name">str</span>&#125;</span><span class="xml"> </span></span><br><span class="line"><span class="xml">2. 子串：$</span><span class="template-variable">&#123;str:1:4&#125;</span><span class="xml"> </span></span><br></pre></td></tr></table></figure>



<h3 id="2-2-数组"><a href="#2-2-数组" class="headerlink" title="2.2 数组"></a>2.2 数组</h3><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">array_name</span>=(value<span class="number">0</span> value<span class="number">1</span> value<span class="number">2</span> value<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>. 单个赋值：array_name<span class="selector-attr">[0]</span>=value0</span><br><span class="line"><span class="number">2</span>. 获取：valuen=$&#123;array_name<span class="selector-attr">[0]</span>&#125;</span><br><span class="line"><span class="number">3</span>. 长度：length=$&#123;<span class="selector-id">#array_name</span><span class="selector-attr">[@]</span>&#125;、$&#123;<span class="selector-id">#array_name</span><span class="selector-attr">[*]</span>&#125;</span><br><span class="line"><span class="number">4</span>. 元素长度：length=$&#123;<span class="selector-id">#array_name</span><span class="selector-attr">[n]</span>&#125;</span><br></pre></td></tr></table></figure>



<h2 id="四、函数"><a href="#四、函数" class="headerlink" title="四、函数"></a>四、函数</h2><h3 id="3-1-自定义函数"><a href="#3-1-自定义函数" class="headerlink" title="3.1 自定义函数"></a>3.1 自定义函数</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">demoFun()&#123;</span><br><span class="line">	echo &quot;第一个参数为 $1 !&quot;</span><br><span class="line">    echo &quot;第二个参数为 $2 !&quot;</span><br><span class="line">    echo &quot;这是我的第一个 shell 函数!&quot;</span><br><span class="line">    return &quot;aaa&quot;</span><br><span class="line">&#125;</span><br><span class="line">echo &quot;-----函数开始执行-----&quot;</span><br><span class="line">demoFun 1 2 </span><br></pre></td></tr></table></figure>

<h4 id="3-12-返回值"><a href="#3-12-返回值" class="headerlink" title="3.12 返回值"></a>3.12 返回值</h4><p> 获得上个返回值 $?</p>
<h4 id="3-11-参数"><a href="#3-11-参数" class="headerlink" title="3.11 参数"></a>3.11 参数</h4><ol>
<li><p>取参：$n  当n&gt;=10时，需要使用${n}来获取参数</p>
</li>
<li><p>参数个数：$#</p>
</li>
<li><p>拿到所有参数</p>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>. <span class="variable">$*</span>  <span class="string">&quot;1 2 3&quot;</span></span><br><span class="line"><span class="number">2</span>. <span class="variable">$@</span>   <span class="string">&quot;1&quot;</span> ,<span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p>当前进程号：$$</p>
</li>
</ol>
<h3 id="3-2-函数参数"><a href="#3-2-函数参数" class="headerlink" title="3.2 函数参数"></a>3.2 函数参数</h3><h2 id="五、shell脚本"><a href="#五、shell脚本" class="headerlink" title="五、shell脚本"></a>五、shell脚本</h2><h3 id="4-1-脚本传参"><a href="#4-1-脚本传参" class="headerlink" title="4.1 脚本传参"></a>4.1 脚本传参</h3><p>和shell的函数传参相同，用$n 获取</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">echo &quot;执行的文件名：$0&quot;;</span><br><span class="line">echo &quot;第一个参数为：$1&quot;;</span><br><span class="line">echo &quot;第二个参数为：$2&quot;;</span><br><span class="line">echo &quot;第三个参数为：$3&quot;;</span><br></pre></td></tr></table></figure>

<h2 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h2><ol>
<li><p>scanf   read</p>
</li>
<li><p>print    echo  </p>
</li>
<li><p>获取当前时间 date</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">echo $(date &quot;+%Y-%m-%d %H:%M:%S&quot;) &gt;&gt; a.txt</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><ol>
<li>sh脚本中不能用alias</li>
</ol>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title>xshell的使用</title>
    <url>/2022/03/08/linux/%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<h3 id="连接VMware"><a href="#连接VMware" class="headerlink" title="连接VMware"></a>连接VMware</h3><ol>
<li><p>配置linux的网络连接</p>
<ol>
<li><p><a href="https://www.cnblogs.com/shireenlee4testing/p/9469650.html">参考-如何使用Xshell连接VMware上的Linux虚拟机</a></p>
</li>
<li><p>在VMware workstation里，点击菜单栏上的【编辑】–&gt;【虚拟网络编辑器】，打开下方的虚拟网络编辑器。</p>
<ol>
<li>选择VMnet8（NAT模式）</li>
<li>管理员模式下取消勾选【使用本地DHCP服务…】</li>
</ol>
</li>
<li><p>net设置查看子网ip和网关ip</p>
<span id="more"></span></li>
<li><p>root下 vi /etc/sysconfig/network-scripts/ifcfg-ens* </p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"><span class="attribute">BOOTPROTO</span>=static</span><br><span class="line"><span class="attribute">IPADDR</span>=192.168.44.3    </span><br><span class="line"><span class="attribute">NETMASK</span>=255.255.255.0</span><br><span class="line"><span class="attribute">GATEWAY</span>=192.168.44.2    				</span><br><span class="line"><span class="attribute">ONBOOT</span>=<span class="literal">yes</span></span><br><span class="line"></span><br><span class="line">192.168.44.0    vmware.net.config.z</span><br><span class="line"><span class="attribute">IPADDR</span>=192.168.44.3    host<span class="built_in"> ip</span></span><br><span class="line"><span class="built_in"></span><span class="attribute">GATEWAY</span>=192.168.44.2   getway----vmware.net.config.getway</span><br></pre></td></tr></table></figure></li>
<li><p>设置DNS</p>
<p>vi /etc/sysconfig/network</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">NETWORKING</span>=<span class="literal">yes</span></span><br><span class="line"><span class="attr">HOSTNAME</span>=slave1</span><br></pre></td></tr></table></figure></li>
<li><p>修改主机名</p>
<p>vim /etc/hostname</p>
<p>slave1</p>
</li>
<li><p>重启网络服务</p>
<ol>
<li>systemctl stop NetworkManager 关闭manager</li>
<li>systemctl restart network</li>
<li>service network restart</li>
</ol>
</li>
<li><p>设置windows的网络连接</p>
<ol>
<li><p>设置VMnet8在Windows上的IP属性，（打开控制面板–&gt;网络和Internet，在右侧点击【更改适配器设置】，进入“网络连接”页面）</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211006230732307.png" alt="image-20211006230732307"></p>
</li>
</ol>
</li>
<li><p>连接 ssh 192.168.44.3</p>
</li>
</ol>
</li>
<li><p>免密连接</p>
<ol>
<li><a href="https://www.cnblogs.com/dadonggg/p/8350423.html">参考—Xshell配置ssh免密码登录-密钥公钥(Public key)</a></li>
<li>ssh登录原理<ol>
<li>客户端发出认证请求；</li>
<li>服务器端使用客户端发送的公钥对一个随机的256位的字符串进行加密，并发送给 客户端；</li>
<li>客户端使用私钥对字符串进行解密，并生成一个MD5值发送给服务器端；</li>
<li>服务器端根据原始随机字符串生成MD5值进行匹配, 确认客户端身份；</li>
<li>至此, 双方互相确认对方身份并建立加密信道, 可以正式进行安全通信。</li>
<li><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211007002314884.png" alt="image-20211007002314884"></li>
</ol>
</li>
</ol>
</li>
</ol>
<p>cat id_rsa_2048_master.pub &gt;&gt; ~/.ssh/authorized_keys</p>
]]></content>
      <categories>
        <category>utils</category>
      </categories>
  </entry>
  <entry>
    <title>Idea的JavaWeb创建</title>
    <url>/2022/03/08/javaWeb/JavaWeb%E5%88%9B%E5%BB%BA/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="发现"><a href="#发现" class="headerlink" title="发现"></a>发现</h3><ol>
<li>Filter是单例的，hashcode都一样,并且这个进程和正在使用这个过滤器的Servlet的进程是一样的</li>
<li>Servlet是多例的，每次访问都会创建一个新的</li>
<li>Filter用注解的时候，不会</li>
<li>JavaWeb会自动给每个访问添加cookie(“JSESSIONID”,”id”)</li>
<li>response.addCookie(c)  setMaxAge(1000) 单位是s</li>
<li>对于javaWeb或者springMvc的错误,可以参考运行旁边的 tomcat Localhost，tomcat catlina日志</li>
<li>mvc运行失败可能是war包部署错误</li>
</ol>
<h3 id="基本创建"><a href="#基本创建" class="headerlink" title="基本创建"></a>基本创建</h3><ol>
<li><p>Maven项目，从原型创建，选择</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">org.apache.maven.archetypes:maven-archetype-webapp</span><br></pre></td></tr></table></figure></li>
<li><p>在main下创建源文件夹java，资源文件夹resources</p>
</li>
<li><p>重写WEB-INF/web.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns</span>=<span class="string">&quot;http://java.sun.com/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">version</span>=<span class="string">&quot;3.0&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>编辑运行配置，添加本地:tomcat&gt;8.0，部署:添加工件 war exploaded</p>
</li>
</ol>
<h3 id="注解-WebServlet"><a href="#注解-WebServlet" class="headerlink" title="注解@WebServlet"></a>注解@WebServlet</h3><ol>
<li><p>加入依赖 javax.servlet-api-4.0.1.jar</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>注意@WebServlet的url需要/</p>
</li>
</ol>
<h3 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h3><ol>
<li><p>class</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> filter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> util.StringUtil;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: WangYongGan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2021/12/3 17:06</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyFilter1</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">/** FilterConfig 方法</span></span><br><span class="line"><span class="comment">         * getFilterName</span></span><br><span class="line"><span class="comment">         * getServletContext</span></span><br><span class="line"><span class="comment">         * getInitParameter</span></span><br><span class="line"><span class="comment">         * getInitParameterNames</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        System.out.println(StringUtil.getLastName(getClass().getName())+<span class="string">&quot; id &quot;</span>+<span class="keyword">this</span>.hashCode());</span><br><span class="line">        System.out.println(servletRequest.getRemoteAddr());</span><br><span class="line">        HttpServletRequest request= (HttpServletRequest) servletRequest;</span><br><span class="line">        System.out.println(request.getServletPath());</span><br><span class="line">        System.out.println(request.getContextPath());</span><br><span class="line">        filterChain.doFilter(servletRequest,servletResponse);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>注册 注解: @WebFilter(“/*”)</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>f1<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>filter.MyFilter1<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>f1<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><h3 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h3><h2 id="MVC"><a href="#MVC" class="headerlink" title="MVC"></a>MVC</h2><h3 id="MVC创建"><a href="#MVC创建" class="headerlink" title="MVC创建"></a>MVC创建</h3><ol>
<li><p>创建自定义配置maven工程</p>
</li>
<li><p>加入依赖</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>配置web资源文件 </p>
<ul>
<li>项目结构-&gt;Facet 加号 web</li>
<li>部署描述符 src/main/webapp/web.xml</li>
<li>Web资源目录 src/main/webapp</li>
</ul>
</li>
<li><p>web.xml配置文件</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatchServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:spring.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatchServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>resources/spring.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans-4.2.xsd  http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.wyg.controller&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/view/&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span><span class="comment">&lt;!--一定要写对这个//--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span><span class="comment">&lt;!--视图解析器  自定义前缀 后缀--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--注解驱动--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span>&gt;</span><span class="tag">&lt;/<span class="name">mvc:annotation-driven</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--静态资源  images/a.jpg   images/xx/a.jpg--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--mapping：访问路径    localtion：真实路径,第一个/是webapp根目录--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:resources</span> <span class="attr">mapping</span>=<span class="string">&quot;/images/**&quot;</span> <span class="attr">location</span>=<span class="string">&quot;/images/&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">mvc:resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="注解驱动"><a href="#注解驱动" class="headerlink" title="注解驱动"></a>注解驱动</h3><h3 id="资源路径"><a href="#资源路径" class="headerlink" title="资源路径"></a>资源路径</h3>]]></content>
      <categories>
        <category>javaWeb</category>
      </categories>
  </entry>
  <entry>
    <title>servletContext</title>
    <url>/2022/03/08/javaWeb/ServletContext/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="ServletContext"><a href="#ServletContext" class="headerlink" title="ServletContext"></a>ServletContext</h3><ol>
<li><p>存活于整个web应用，程序–容器间通信</p>
</li>
<li><p>作用</p>
<ol>
<li><p>获取mime类型</p>
<ol>
<li>大类型/小类型 text/html  image/jpg</li>
<li>context.getMimeType(String src)</li>
</ol>
</li>
<li><p>域共享数据</p>
<ol>
<li><p>setAttribute</p>
</li>
<li><p>getAtrribute</p>
</li>
<li><p>removeAtrribute</p>
</li>
<li><p>范围：所有用户，所有请求的数据，王存李取。(很少用)</p>
<span id="more"></span></li>
</ol>
</li>
<li><p>获取文件真实路径</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">context.getRealPath(<span class="string">&quot;a.txt&quot;</span>);<span class="comment">//web资源路径直接写</span></span><br><span class="line">context.getRealPath(<span class="string">&quot;/WEB-INF/classes/a.txt&quot;</span>);<span class="comment">//src下的需要指定WEB-INFO/classes</span></span><br></pre></td></tr></table></figure>

<p>project</p>
<pre><code>├── index.html
├── index.jsp
├── login.html
└── WEB-INF
    ├── classes
    │   └── com
    │       └── wyg
    └── web.xml
</code></pre>
</li>
</ol>
</li>
<li><p>获取ServletContext</p>
<ol>
<li><p>两种方式，两个相等</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ServletContext context=req.getServletContext();</span><br><span class="line">ServletContext context2=<span class="keyword">this</span>.getServletContext();</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>javaWeb</category>
      </categories>
  </entry>
  <entry>
    <title>http</title>
    <url>/2022/03/08/javaWeb/http/</url>
    <content><![CDATA[<h3 id="Http"><a href="#Http" class="headerlink" title="Http"></a>Http</h3><ol>
<li>Hyper Text Transfer Protocol 超文本传输协议，客户端&lt;—&gt;服务端 数据交换格式<ol>
<li> 基于TCP/IP的高级协议</li>
<li> 默认端口80</li>
<li> 一次请求对应一次响应</li>
<li> 无状态，每个请求独立，不能数据交换</li>
<li>各个版本<ol>
<li>1.0 每个请求都要一次建立连接，断开连接</li>
<li>1.1 请求复用，请求完等一会，等其他的请求复用这个连接</li>
</ol>
</li>
</ol>
<span id="more"></span></li>
</ol>
<h4 id="请求消息格式"><a href="#请求消息格式" class="headerlink" title="请求消息格式"></a>请求消息格式</h4><ol>
<li><p>请求行</p>
<ol>
<li><p>组成请求方式 请求url 请求协议</p>
</li>
<li><p>GET /login.html HTTP/1.1</p>
</li>
<li><p>请求方式</p>
<ol>
<li>Get：请求参数在请求行中,url有限制，不安全（参数可见）</li>
<li>Post: 请求参数在请求体中，url可无限大，安全。</li>
</ol>
</li>
</ol>
</li>
<li><p>请求头</p>
<p>k:v</p>
<p>请求名称：请求头值</p>
<p>get:</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211003214231021.png" alt="image-20211003214231021"></p>
<p>post:</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211003214506976.png" alt="image-20211003214506976"></p>
<p>user-agent：浏览器版本信息（解决浏览器兼容）。</p>
<p>accept:可接受的文件格式</p>
<p>referer: 告诉服务器我从哪里来，</p>
<ol>
<li>防盗链，防止别人盗取链接。</li>
<li>访问统计。</li>
<li>如果直接访问而不是通过连接访问，那么这个值就是null</li>
</ol>
<p>connection: keep-live 1.1版本的请求复用</p>
</li>
<li><p>请求空行，分割请求体和请求头的</p>
</li>
<li><p>请求体(正文,post才有)，封装post请求参数的</p>
</li>
</ol>
<h4 id="响应消息格式"><a href="#响应消息格式" class="headerlink" title="响应消息格式"></a>响应消息格式</h4><ol>
<li><p>响应行</p>
<p>HTTP /2.0 200 OK</p>
<p>协议:版本 状态码</p>
<p>状态码</p>
<ol>
<li>1xx: 服务端未接受全部请求消息</li>
<li>2xx: 成功</li>
<li>3xx: 不在我这。<ol>
<li>302 重定向，在别人哪</li>
<li>304 访问缓存(成功了)，在浏览器的缓存中</li>
</ol>
</li>
<li>4xx: 客户端错误<ol>
<li>401 需要身份认证</li>
<li>403 服务器收到了请求，但拒绝执行，可能是没权限</li>
<li>404 url写错了</li>
<li>405 没有这个get/post方法</li>
<li>414 url过长</li>
</ol>
</li>
<li>5xx: 服务端错误<ol>
<li>500:java报错(1/0)</li>
<li></li>
</ol>
</li>
</ol>
</li>
<li><p>响应头</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211004025720770.png" alt="image-20211004025720770"></p>
<ol>
<li>content-type 响应编码格式(text/html;charset=utf-8)</li>
<li>content-disposition 响应数据格式<ol>
<li>in-line: 当前页面直接显示</li>
<li>attachment:附件(超链接下载)</li>
</ol>
</li>
</ol>
</li>
<li><p>响应空行</p>
</li>
<li><p>响应体</p>
<p>data: html  string json 图片二进制数据</p>
</li>
</ol>
<h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><ol>
<li><p>url:统一资源定位符:<a href="http://localhost:8080/d2%E4%B8%AD%E5%8D%8E%E4%BA%BA%E6%B0%91%E5%85%B1%E5%92%8C%E5%9B%BD">http://localhost:8080/d2中华人民共和国</a></p>
<p>uri:统一资源标识符:/d2 共和国</p>
</li>
</ol>
]]></content>
      <categories>
        <category>javaWeb</category>
      </categories>
  </entry>
  <entry>
    <title>javaWeb</title>
    <url>/2022/03/08/javaWeb/javaWeb/</url>
    <content><![CDATA[<p><a href="https://www.cnblogs.com/xdp-gacl/p/3798347.html">参考</a></p>
<h2 id="一、格式约定"><a href="#一、格式约定" class="headerlink" title="一、格式约定"></a>一、格式约定</h2><h3 id="1-1-util类"><a href="#1-1-util类" class="headerlink" title="1.1 util类"></a>1.1 util类</h3><ol>
<li>介绍</li>
<li>属性</li>
<li>方法</li>
<li>细节</li>
</ol>
]]></content>
      <categories>
        <category>javaWeb</category>
      </categories>
  </entry>
  <entry>
    <title>java-web</title>
    <url>/2022/03/08/javaWeb/java_web/</url>
    <content><![CDATA[<h3 id="web-网页"><a href="#web-网页" class="headerlink" title="web(网页)"></a>web(网页)</h3><ol>
<li>静态web <ol>
<li>html css</li>
<li>静态文件</li>
<li>模板引擎</li>
<li>即所有的数据都不变化</li>
</ol>
</li>
<li>动态web 这个叫javaWeb<ol>
<li><p>提供给人的数据会根据用户的请求而会变化</p>
<span id="more"></span></li>
</ol>
</li>
<li>web的组成<ol>
<li>html css js</li>
<li>jsp servlet</li>
<li>java</li>
<li>jar</li>
<li>配置文件</li>
<li>服务器</li>
</ol>
</li>
</ol>
<h3 id="javaWeb项目结构"><a href="#javaWeb项目结构" class="headerlink" title="javaWeb项目结构"></a>javaWeb项目结构</h3><ol>
<li><p>文件结构</p>
<ol>
<li>根目录(parent)<ol>
<li>WEN-INF目录<ol>
<li>web.xml:web核心配置</li>
<li>Classes:字节码文件（java编译后）</li>
<li>lib:依赖jar包</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li><p>web+idea</p>
<ol>
<li><p>启动idea,配置启 添加本地tomcat</p>
<p>配置</p>
<ol>
<li>虚拟目录</li>
<li>端口</li>
</ol>
</li>
<li><p>添加facet的Web</p>
<ol>
<li>配置文件path:web.xml</li>
<li>资源目录 path:webapp</li>
</ol>
</li>
<li><p>在启动配置的tomcat的部署下方配置上下文以配置路径</p>
</li>
<li><p>热部署–&gt;debug方式启动</p>
</li>
<li><p>右键new servlet</p>
<p>javaProject.iml/pom.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sourceRoots</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">url</span>=<span class="string">&quot;file://$MODULE_DIR$/src&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">url</span>=<span class="string">&quot;file://$MODULE_DIR$/src/main/java&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">sourceRoots</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h3 id="一些理解"><a href="#一些理解" class="headerlink" title="一些理解"></a>一些理解</h3><ol>
<li>tomcat，</li>
<li>servlet 一种规范，实现这个规范的Class能够随时接受Requeset,Response，就好象一直运行在tomcat上一样。</li>
<li>request 一种规范，将浏览器的请求数据进行封装，其中httoRequest将http协议的请求进行封装，这个封装体可以把这些数据到处共享。</li>
<li>response</li>
<li>其他<ol>
<li>@WebServlet(“”)请求模式路径</li>
<li></li>
</ol>
</li>
</ol>
<h3 id="issue"><a href="#issue" class="headerlink" title="issue"></a>issue</h3><ol>
<li><p>Request请求参数乱码</p>
<ol>
<li><p>tomcat&gt;8 get方式不会乱码(url)</p>
</li>
<li><p>post(stream)-&gt;设置流的编码–&gt;</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">req.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>Response设置编码</p>
</li>
</ol>
]]></content>
      <categories>
        <category>javaWeb</category>
      </categories>
  </entry>
  <entry>
    <title>java发送http请求</title>
    <url>/2022/03/08/javaWeb/java%E5%8F%91%E9%80%81Http%E8%AF%B7%E6%B1%82/</url>
    <content><![CDATA[<h3 id=""><a href="#" class="headerlink" title=""></a></h3>]]></content>
      <categories>
        <category>javaWeb</category>
      </categories>
  </entry>
  <entry>
    <title>url</title>
    <url>/2022/03/08/javaWeb/url/</url>
    <content><![CDATA[<h3 id="URL-组成"><a href="#URL-组成" class="headerlink" title="URL 组成"></a>URL 组成</h3><ul>
<li><strong>协议为(protocol)：</strong>http</li>
<li>**主机为(host:port)**：<a href="http://www.runoob.com/">www.runoob.com</a></li>
<li><strong>端口号为(port):</strong> 80 ，以上URL实例并未指定端口，因为 HTTP 协议默认的端口号为 80。</li>
<li><strong>文件路径为(path)：</strong>/index.html</li>
<li>**请求参数(query)**：language=cn</li>
<li><strong>定位位置(fragment)：</strong>j2se，定位到网页中 id 属性为 j2se 的 HTML 元素位置 。</li>
</ul>
<h3 id="URL-api"><a href="#URL-api" class="headerlink" title="URL api"></a>URL api</h3><ol>
<li><p>构造函数</p>
<ol>
<li>public URL(String url)</li>
<li>public URL(String protocol, String host, int port, String path)</li>
</ol>
</li>
<li><p>获取成分</p>
<ol>
<li>getPath()</li>
<li>getQuery()</li>
<li>获取授权部分 getAuthority()</li>
<li>获取端口 getPort()</li>
<li>获取协议 getProtocol()</li>
<li>获取主机 getHost()</li>
<li>获取路径getFile()</li>
</ol>
</li>
<li><p>打开连接</p>
<p>public URLConnection openConnection()</p>
</li>
</ol>
<h3 id="URLConnection-api"><a href="#URLConnection-api" class="headerlink" title="URLConnection api"></a>URLConnection api</h3><ol>
<li><p>读取response/资源 流  </p>
<p>public InputStream getInputStream()</p>
</li>
<li><p>写request </p>
<p>public OutputStream getOutputStream()</p>
</li>
<li><p>获取URL</p>
<p>getURL</p>
</li>
</ol>
]]></content>
      <categories>
        <category>javaWeb</category>
      </categories>
  </entry>
  <entry>
    <title>Web概念</title>
    <url>/2022/03/08/javaWeb/web%E6%A6%82%E5%BF%B5/</url>
    <content><![CDATA[<h3 id="http和https区别"><a href="#http和https区别" class="headerlink" title="http和https区别"></a>http和https区别</h3><ol>
<li>作用: http是超文本传输协议,定义了请求报文和响应报文</li>
<li>http是明文传输,不进行任何加密</li>
<li>https是安全套接字超文本传输协议=SSL协议+Http,是一种安全版的Http</li>
</ol>
<h4 id="https加密原理"><a href="#https加密原理" class="headerlink" title="https加密原理:"></a>https加密原理:</h4><ol>
<li>客户端和服务端建立SSL</li>
<li>服务器将证书(公钥)发给客户端</li>
<li></li>
</ol>
<h3 id="cookie-sission"><a href="#cookie-sission" class="headerlink" title="cookie  sission"></a>cookie  sission</h3><h3 id="get-post"><a href="#get-post" class="headerlink" title="get post"></a>get post</h3><h3 id="过滤器-拦截器"><a href="#过滤器-拦截器" class="headerlink" title="过滤器 拦截器"></a>过滤器 拦截器</h3>]]></content>
  </entry>
  <entry>
    <title>java四大域对象</title>
    <url>/2022/03/08/javaWeb/%E5%9B%9B%E5%A4%A7%E5%9F%9F%E5%AF%B9%E8%B1%A1/</url>
    <content><![CDATA[<h3 id="java四大域对象-转载"><a href="#java四大域对象-转载" class="headerlink" title="java四大域对象-转载"></a><a href="https://blog.csdn.net/u014253011/article/details/85718649">java四大域对象-转载</a></h3><ol>
<li><p>request HttpServletContext </p>
<ol>
<li><p>生命周期：</p>
<p>在Service方法调用前由服务器创建，传入service方法。整个请求结束，request生命结束。<br>用户发送一个请求，开始，服务器返回响应，请求结束，生命周期结束；</p>
</li>
<li><p>作用范围：整个请求链（请求转发也存在）/一次请求转发的范围</p>
</li>
<li><p>作用：获取请求数据，共享数据，请求转发。</p>
</li>
</ol>
</li>
<li><p>session HttpSession</p>
<ol>
<li><p>生命周期</p>
<p>在第一次调用request.getSession()方法时，服务器会检查是否已经有对应的session，如果没有就在内存中创建一个session并返回。<br>（1）当一段时间内session没有被使用（默认为30分钟），则服务器会销毁该session。<br>（2）如果服务器非正常关闭，没有到期的session也会跟着销毁。<br>（3）如果调用session提供的invalidate()，可以立即销毁session。</p>
</li>
<li></li>
</ol>
</li>
<li><p>application ServletContext</p>
<ol>
<li>生命周期：整个web服务</li>
<li>作用范围：整个web应用</li>
<li>作用：<ol>
<li>读取配置文件</li>
<li>在不同Servlet 之间转发</li>
</ol>
</li>
</ol>
</li>
<li><p>page(jsp)   pageContext</p>
<ol>
<li>可以作为入口对象获取其他三大域对象的引用，获取其所有域中的数据</li>
<li>作用于整个JSP页面，是四大作用域中最小的一个</li>
</ol>
</li>
<li><p>特点</p>
<ol>
<li>之所以他们是域对象，原因是他们都内置了map集合，都有setAttribute和getAttribute方法。</li>
<li>都有生命周期，servlet{init,service,destory}也有生命周期。</li>
</ol>
</li>
<li><p>如果一个数据只在当前jsp页面使用，可以使用pageContext域</p>
<p>如果一个数据，除了在当前Servlet中使用，还要在请求转发中使用，使用request域</p>
<p>如果一个数据，除了现在我自己要用，过一会我自己还要用，存在session域</p>
<p>如果一个数据，除了我自己用其他人也要用，存在ServleContext域中</p>
</li>
<li><p>域对象：能够在自己的作用范围共享数据。</p>
</li>
</ol>
]]></content>
      <categories>
        <category>javaWeb</category>
      </categories>
  </entry>
  <entry>
    <title>数据交互</title>
    <url>/2022/03/08/javaWeb/%E6%95%B0%E6%8D%AE%E4%BA%A4%E4%BA%92/</url>
    <content><![CDATA[<h3 id="数据交互类型"><a href="#数据交互类型" class="headerlink" title="数据交互类型"></a>数据交互类型</h3><ol>
<li><p>BeanUtils</p>
<p>map–&gt;obj</p>
<ol>
<li>解析map–&gt;封装javaBean</li>
</ol>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="module-access"><span class="module"><span class="identifier">BeanUtils</span>.</span></span>populate(obj,map)</span><br></pre></td></tr></table></figure>

<ol>
<li><p>getProperty</p>
</li>
<li><p>setProperty</p>
<span id="more"></span></li>
</ol>
</li>
<li><p>javaBean</p>
<ol>
<li><p>public修饰class setter getter</p>
</li>
<li><p>空参构造器</p>
</li>
<li><p>成员变量Private</p>
<ol>
<li><p>属性 有同名setter(setName) getter</p>
<p>哪怕类没有这个成员变量，可以理解为属性是一对setter/getter的驼峰方法</p>
</li>
<li><p>成员变量 可以是属性，也可以不是，可以理解为类的变量。</p>
</li>
<li><p>一般情况下属性==成员变量</p>
</li>
</ol>
</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>javaWeb</category>
      </categories>
  </entry>
  <entry>
    <title>文件操作</title>
    <url>/2022/03/08/javaWeb/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/</url>
    <content><![CDATA[<ol>
<li><p>文件下载中文名问题</p>
</li>
<li><p>文件下载问题</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">response.setHeader(<span class="string">&quot;content-disposition&quot;</span>, <span class="string">&quot;attachment; filename=&quot;</span> +fileName);</span><br><span class="line">response.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line"><span class="comment">//获取要下载的文件输入流</span></span><br><span class="line">InputStream in = <span class="keyword">new</span> FileInputStream(filePath);</span><br><span class="line"><span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//创建数据缓冲区</span></span><br><span class="line"><span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="comment">//通过response对象获取outputStream流</span></span><br><span class="line">OutputStream out = response.getOutputStream();</span><br><span class="line"><span class="comment">//将FileInputStream流写入到buffer缓冲区</span></span><br><span class="line"><span class="keyword">while</span> ((len = in.read(buffer)) &gt; <span class="number">0</span>)</span><br><span class="line">    out.write(buffer, <span class="number">0</span>, len);<span class="comment">//使用OutputStream将缓冲区的数据输出到浏览器</span></span><br><span class="line">in.close();</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>javaWeb</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/other/%E5%B0%B1%E4%B8%9A%E7%96%91%E9%97%AE/</url>
    <content><![CDATA[<h3 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h3><ol>
<li>上班还需要学习吗  <ol>
<li>新技术</li>
<li>底层技术</li>
</ol>
</li>
<li>上班</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/other/%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0/</url>
    <content><![CDATA[<h3 id="需求问题"><a href="#需求问题" class="headerlink" title="需求问题"></a>需求问题</h3><ol>
<li>这个功能是否已经完成，</li>
<li></li>
</ol>
<h3 id="技术问题"><a href="#技术问题" class="headerlink" title="技术问题"></a>技术问题</h3><ol>
<li>postman登录测试怎么完成 </li>
<li>数据库的连接问题</li>
<li>Repository是mybatispluS?</li>
</ol>
<h3 id="处理"><a href="#处理" class="headerlink" title="处理"></a>处理</h3><ol>
<li>所有api<ol>
<li>api/dict 增删改查</li>
<li>dictDetail增删改查</li>
</ol>
</li>
</ol>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">map 检验</span><br><span class="line"></span><br><span class="line"><span class="regexp">//</span>        Map&lt;String, Map&lt;String, Paper&gt;&gt; map = records.parallelStream().collect(</span><br><span class="line"><span class="regexp">//</span>                Collectors.groupingBy(Paper::getExamId,</span><br><span class="line"><span class="regexp">//</span>                        Collectors.toMap(Paper::getUserId, Function.identity(), (o1, o2) -&gt; (o1.getUserScore() &gt; o2.getUserScore() ? o1 : o2))));</span><br><span class="line"><span class="regexp">//</span>        Debug.debug(<span class="string">&quot;map1&quot;</span>);</span><br><span class="line"><span class="regexp">//</span>        map.forEach((k, v) -&gt; &#123;</span><br><span class="line"><span class="regexp">//</span>            System.out.println(<span class="string">&quot;exam-&gt;&quot;</span>+k + <span class="string">&quot;:&quot;</span>);</span><br><span class="line"><span class="regexp">//</span>            v.forEach((a, b) -&gt; System.out.println(<span class="string">&quot;\tuser:&quot;</span> + a + <span class="string">&quot;:  &quot;</span> + b.getUserScore()));</span><br><span class="line"><span class="regexp">//</span>        &#125;);</span><br></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>开发遇到的问题</title>
    <url>/2022/03/08/other/%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h3 id="奇怪的问题"><a href="#奇怪的问题" class="headerlink" title="奇怪的问题"></a>奇怪的问题</h3><ol>
<li>pdf文件下载失败<ol>
<li>业务逻辑是用户上传json，然后我根据这个json转成html，再调用cmd将html转换成pdf,最后将pdf返回给用户。</li>
<li>一开始我把整个逻辑写在一个请求里面，发现失败，没有报错，而是warning,Request method ‘POST’ not supported。</li>
<li>我就认为是post请求不能下载文件</li>
<li>然后我分开把保存文件卸载一个post里面，下载卸载一个get里面，用户传一个json后我返回一个地址，然后前端再根据把这个地址作为参数发送到另一个get请求，成功了</li>
<li>问题解决了，但是我还是有点疑惑为什么不能post下载，然后我就网上搜了搜，但没有发现有效的信息，后面也确实发现我这个情况太特殊了。我就把post更改拆分成很多个很多个请求，把post请求里面的request参数去掉，还是不行。然后我就开始了调试，因为没有报错，所以我一直以为不是程序内部的问题，而是我用错了方法，但是我一调试，竟然发现能下载。。。</li>
<li>然后我就用思考，控制变量法嘛，我用thread.sleep发现也能下载成功</li>
<li>然后我用log一堆替代sleep 最终发现了错误位置，是因为没有发现这个文件而直接response.set404了，而404是get请求，但这不重要，重要的是这个文件不存咋，然后我就想到了cmd生成pdf文件需要另开一个线程，这边还没生成，我那边就读取，所以导致了失败。</li>
</ol>
</li>
<li>下载问题2<ol>
<li>最后发现cmd的执行需要联网，所以cmd一直卡着，导致java程序没发现文件。</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>other</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/other/%E9%9C%80%E6%B1%821/</url>
    <content><![CDATA[<h3 id="处理"><a href="#处理" class="headerlink" title="处理"></a>处理</h3><ol>
<li>题目-试卷<ol>
<li>el_exam  : 试卷   </li>
<li>el_repo 考试-题库   对应于3</li>
<li>el_paper 学生–试卷 考试ing试卷状态</li>
<li>el_qu_answer 题目id–答案id</li>
<li>el_qu 题目id-内容</li>
<li>el_paper_qu_answer 试卷id-题目id-回答id-是否选中-答案id</li>
</ol>
</li>
<li>题目-题库<ol>
<li>el_repo 题库(id，各个数量) 需要增加一个类别</li>
<li>el_qu_repo 题库id-试题id表</li>
</ol>
</li>
</ol>
<h3 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h3><ol>
<li><p>题库类别  –&gt;数据库 加一个id</p>
</li>
<li><p>考试时间  前端问题—-后端时间已经精确到时分秒</p>
</li>
<li><p>试题默认数量  RepoController的/exam/api/repo/detail   自带通过id查询数量的方法</p>
</li>
<li><p>移动试题  </p>
</li>
<li><p>成绩显示姓名 本地回显没问题</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211013130356858.png" alt="image-20211013130356858"></p>
</li>
<li><p>考试次数大于2  增加方法 localhost:8101/exam/api/exam/exam/isValid</p>
</li>
</ol>
<h3 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h3><ol>
<li><p>题库类别  –添加字段</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211012162844210.png" alt="image-20211012162844210"></p>
</li>
<li><p>考试时间</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211012162641407.png" alt="image-20211012162641407"></p>
</li>
<li><p>试题默认<img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211012162559390.png" alt="image-20211012162559390">总数量</p>
</li>
<li><p>移动试题</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211012162903396.png" alt="image-20211012162903396"></p>
</li>
<li><p>成绩处显示姓名</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211012162814949.png" alt="image-20211012162814949"></p>
</li>
<li><p>考试次数大于2</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211012163049400.png" alt="image-20211012163049400"></p>
</li>
</ol>
<h3 id="疑问"><a href="#疑问" class="headerlink" title="疑问"></a>疑问</h3><h3 id="处理-1"><a href="#处理-1" class="headerlink" title="处理"></a>处理</h3><ol>
<li></li>
</ol>
<h3 id="解决-1"><a href="#解决-1" class="headerlink" title="解决"></a>解决</h3><p>1. </p>
]]></content>
  </entry>
  <entry>
    <title>hexo使用</title>
    <url>/2022/03/08/utils/blog/</url>
    <content><![CDATA[<p>搭建个人博客</p>
<ol>
<li><p>下载node.js</p>
</li>
<li><p>npm下载cnpm</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">npm install -g cnpm  --registry=https:<span class="regexp">//</span>registry.npm.taobao.org</span><br></pre></td></tr></table></figure>

<span id="more"></span></li>
<li><p>下载hexo </p>
<figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line">cnpm install -g hexo-<span class="keyword">cli</span></span><br></pre></td></tr></table></figure></li>
<li><p>创建目录</p>
</li>
<li><p>hexo初始化blog 和deployer</p>
<figure class="highlight coffeescript"><table><tr><td class="code"><pre><span class="line">cd blog</span><br><span class="line">hexo init</span><br><span class="line"><span class="built_in">npm</span> install hexo-deployer-git --save</span><br><span class="line"><span class="built_in">npm</span> i hexo-renderer-swig</span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">git clone https:<span class="regexp">//gi</span>tee.com<span class="regexp">/weilining/</span>hexo-starter.git blog</span><br><span class="line">cd blog</span><br><span class="line">git submodule init</span><br><span class="line">git submodule update</span><br><span class="line">npm config set registry http:<span class="regexp">//</span>registry.npm.taobao.org</span><br><span class="line">npm i</span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></li>
<li><p>hexo g 生成静态文件</p>
</li>
<li><p>启动(localhost:4000)</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">hexo</span> s -p <span class="number">4000</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h3><ol>
<li><p>创建文章</p>
<figure class="highlight 1c"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;文章&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p>生成静态文件</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">hexo g</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="通过github搭建"><a href="#通过github搭建" class="headerlink" title="通过github搭建"></a>通过github搭建</h3><ol>
<li><p>创建public仓库 name/name.github.io    </p>
</li>
<li><p>下载插件</p>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">cnpm install <span class="comment">--save hexo-deployer-git</span></span><br></pre></td></tr></table></figure></li>
<li><p>修改config.yml</p>
<figure class="highlight dts"><table><tr><td class="code"><pre><span class="line"><span class="symbol">deploy:</span></span><br><span class="line"><span class="symbol">  type:</span> git</span><br><span class="line"><span class="symbol">  repo:</span> https:<span class="comment">//github.com/Wang-yonggan/Wang-yonggan.github.io.git</span></span><br><span class="line"><span class="symbol">  branch:</span> master</span><br></pre></td></tr></table></figure></li>
<li><p>分类：</p>
<ol>
<li>```<br>hexo new page categories<figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">   <span class="number">2</span>.  index.md加入<span class="keyword">type</span>: categories</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>. hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">### 主题</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span>. git <span class="keyword">clone</span> <span class="title">..  themes</span>/name</span><br><span class="line"></span><br></pre></td></tr></table></figure>
git clone <a href="https://github.com/litten/hexo-theme-yilia.git">https://github.com/litten/hexo-theme-yilia.git</a> themes/yilia</li>
</ol>
<p>git clone <a href="https://github.com/theme-next/hexo-theme-next">https://github.com/theme-next/hexo-theme-next</a> themes/next</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line"><span class="bullet">2.</span> vim config.yml</span><br><span class="line"></span><br><span class="line">   theme:name</span><br><span class="line"></span><br><span class="line"><span class="bullet">3.</span> hexo clean</span><br><span class="line"></span><br><span class="line"><span class="section">### config.yml</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> webset</span><br><span class="line"><span class="bullet">   1.</span> title 标题</span><br><span class="line"><span class="bullet">   2.</span> subtitle 副标题</span><br><span class="line"><span class="bullet">   3.</span> description 网站描述 seo</span><br><span class="line"><span class="bullet">   4.</span> author 作者</span><br><span class="line"><span class="bullet">   5.</span> language 语言</span><br><span class="line"><span class="bullet">   6.</span> timezone 时区</span><br><span class="line"></span><br><span class="line"><span class="bullet">2.</span> URL</span><br><span class="line"></span><br><span class="line">   url：网站的网址</span><br><span class="line">   root：网站的根目录</span><br><span class="line">   permalink：文章的永久链接格式，可以在permalink这里配置，如默认中的配置，在hello world文章中就会是这样的url</span><br><span class="line"></span><br><span class="line"><span class="bullet">3.</span> directory</span><br><span class="line"><span class="bullet">   1.</span> source<span class="emphasis">_dir：存放hexo文章的文件夹，我们写的md文件都放在这个配置对应的文件夹下，默认值是source</span></span><br><span class="line"><span class="emphasis">   2. public_</span>dir：存放hexo g生成的文件，执行hexo g后根目录就会出现这个文件夹，默认值是public</span><br><span class="line"><span class="bullet">   3.</span> tag<span class="emphasis">_dir：按标签存放文章的目录，默认值是tags，如果我们给文章添加标签，使用hexo g时public文件夹下就会多出一个tags文件夹（根据我们的配置文件夹名不同），这里给hello-world.md添加一个tags</span></span><br><span class="line"><span class="emphasis">   4. archive_</span>dir：归档文件夹，存放归档文件，默认值为archives</span><br><span class="line"><span class="bullet">   5.</span> category<span class="emphasis">_dir：分类文件夹，按分类存放的文件，和上面的tags一样，只要在文章中的Font-matter添加了categories就会在使用hexo g构造时出现相应的文件夹</span></span><br><span class="line"><span class="emphasis">   6. code_</span>dir：Include code 文件夹，source<span class="emphasis">_dir 下的子目录，默认值为downloads/code</span></span><br><span class="line"><span class="emphasis">   7. i18n_</span>dir：国际化（i18n）文件夹，默认值:lang</span><br><span class="line"><span class="bullet">   8.</span> skip<span class="emphasis">_render：跳过指定文件的渲染，匹配到的文件将会被不做改动复制到public文件夹下，如果路径对应的是我们的文章，那会直接忽略掉该文章，我们这样设置来忽略掉hello-world.md文件</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">### issue</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">1. 下载主题没有显示：</span></span><br><span class="line"><span class="emphasis">   1. 文件夹名问题</span></span><br><span class="line"><span class="emphasis">   2. config未该</span></span><br><span class="line"><span class="emphasis">   3. 没有clean+g+d</span></span><br><span class="line"><span class="emphasis">   4. gitee没有更行部署</span></span><br><span class="line"><span class="emphasis">   </span></span><br><span class="line"><span class="emphasis">2. 部署其他文件夹</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">   1. 每次hexo d之前copy 文件到posts，但是我发现文件的创建时间被改变了</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">   2. 将hexo的source文件路径改为ana-notes，但是这样没办法生成目录</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">   3. 最终选择copy+python修改文件创建时间的方式 </span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">      具体bat代码</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">      ````</span></span><br><span class="line"><span class="emphasis">      echo 清空posts文件夹</span></span><br><span class="line"><span class="emphasis">      rd /s /q %post_</span>path%</span><br><span class="line"><span class="code">      md %post_path%</span></span><br><span class="line"><span class="code">      echo 递归copy文件</span></span><br><span class="line"><span class="code">      xcopy /y /e %src_path% %post_path%</span></span><br><span class="line"><span class="code">      echo 还原时间</span></span><br><span class="line"><span class="code">      python E:\data-ana\ana-notes\工具\tools\get_blog_create_time.py</span></span><br><span class="line"><span class="code">      echo 提交</span></span><br><span class="line"><span class="code">      hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span></span><br><span class="line"><span class="code">      ````</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">      </span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="bullet">3.</span> 修改config.yml后报错：yml格式是:后面有空格</span><br><span class="line"></span><br><span class="line"><span class="bullet">4.</span> 实现gitee page自动提交：</span><br><span class="line"></span><br><span class="line">   nodejs+puppeteer(xpath)</span><br><span class="line">   </span><br><span class="line"><span class="bullet">5.</span> 注意，特殊字符尽量不用</span><br><span class="line"></span><br><span class="line"><span class="bullet">   1.</span> 小括号</span><br><span class="line"><span class="bullet">   2.</span> 大括号</span><br><span class="line"><span class="bullet">   3.</span> 中括号</span><br><span class="line">   </span><br><span class="line"><span class="bullet">6.</span> git config --global core.autocrlf false换行转义</span><br><span class="line"></span><br><span class="line"><span class="bullet">7.</span> github</span><br><span class="line"></span><br><span class="line"><span class="bullet">   1.</span> git config --global http.sslVerify &quot;false&quot;</span><br><span class="line"></span><br><span class="line"><span class="section">### config</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> 切换中文language</span><br><span class="line"></span><br><span class="line">   zh-CN</span><br><span class="line"></span><br><span class="line"><span class="section">### next&lt;-landscape</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">0.</span> http://theme-next.iissnan.com/</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> 更换主题</span><br><span class="line"></span><br><span class="line">   config--&gt;schemes</span><br><span class="line"></span><br><span class="line"><span class="bullet">2.</span> 设置头像avater</span><br><span class="line"></span><br><span class="line"><span class="bullet">3.</span> 社交图标</span><br><span class="line"></span><br><span class="line">   social<span class="emphasis">_icons</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">   https://fontawesome.com/v5.15/icons?d=gallery&amp;p=2</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">4. 首页全文</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">   auto_</span>excerpt</span><br><span class="line"></span><br><span class="line">   &lt;!--more--&gt;</span><br><span class="line"></span><br><span class="line"><span class="bullet">5.</span> 网站图标</span><br><span class="line"></span><br><span class="line">   <span class="code">```python</span></span><br><span class="line"><span class="code">   favicon:aaaa.avg</span></span><br><span class="line"><span class="code">   source/image/aaaa.avg</span></span><br></pre></td></tr></table></figure></li>
<li><p>背景</p>
<p>canvas</p>
</li>
<li><p>加载进度条 pace</p>
</li>
<li><p>读进度条：scrollpercent</p>
</li>
<li><p>评论</p>
<p>changyan</p>
</li>
<li><p>搜索</p>
</li>
</ol>
   <figure class="highlight dts"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br><span class="line"></span><br><span class="line">hexo-config</span><br><span class="line"><span class="symbol">search:</span></span><br><span class="line"><span class="symbol">  path:</span> search.xml</span><br><span class="line"><span class="symbol">  field:</span> post</span><br><span class="line"><span class="symbol">  format:</span> html</span><br><span class="line"><span class="symbol">  limit:</span> <span class="number">10000</span></span><br><span class="line">config</span><br><span class="line"><span class="symbol">local_search:</span></span><br></pre></td></tr></table></figure>

<ol start="11">
<li><p>不算子（访问次数）：busuanzi_count</p>
</li>
<li><p>隐藏底盘:footer.powered</p>
</li>
<li><p>修改字体大小</p>
<p>打开<code>\themes\next\source\css\ _variables\base.styl</code>文件，将<code>$font-size-base</code>改成<code>16px</code>，如下所示：</p>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line"><span class="meta"><span class="meta-keyword">$font</span>-size-base            =16px</span></span><br></pre></td></tr></table></figure></li>
<li><p>夜间模式darkmode</p>
</li>
<li><p>网站丝滑motion true</p>
</li>
<li><p>three</p>
</li>
<li><p>移动端回顶onmobile</p>
<p>pc端：back2top</p>
</li>
<li><p>阅读进度：reading_progress</p>
</li>
<li><p>阅读进度保存：bookmark</p>
</li>
<li><p>github图标：github_banner</p>
</li>
<li><p>font：字体设置</p>
</li>
<li><p>代码高亮hexo.config</p>
<ol>
<li>highlight</li>
<li>prismjs二选1</li>
</ol>
</li>
</ol>
<h3 id="plugin"><a href="#plugin" class="headerlink" title="plugin"></a>plugin</h3><ol>
<li><p>代码高亮</p>
<figure class="highlight stata"><table><tr><td class="code"><pre><span class="line">npm install hexo-prism-<span class="keyword">plugin</span> --<span class="keyword">save</span></span><br></pre></td></tr></table></figure></li>
<li><p>字数统计</p>
<figure class="highlight coffeescript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">npm</span> i –save hexo-wordcount</span><br></pre></td></tr></table></figure>

<p>theme.config</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_wordcount:</span></span><br><span class="line">  <span class="attr">item_text:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">wordcount:</span> <span class="literal">true</span> <span class="comment">#单篇文章字数</span></span><br><span class="line">  <span class="attr">min2read:</span> <span class="literal">true</span> <span class="comment">#单篇阅读时长</span></span><br><span class="line">  <span class="attr">totalcount:</span> <span class="literal">true</span> <span class="comment">#站点总字数</span></span><br><span class="line">  <span class="attr">separated_meta:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li>
<li><p>搜索</p>
<ol>
<li>下载依赖</li>
</ol>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-searchdb <span class="comment">--save</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>修改hexo.config</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  <span class="built_in">limit</span>: 10000</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>修改theme.config</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">local_search:</span><br></pre></td></tr></table></figure></li>
<li><p>几何背景</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">cd <span class="keyword">next</span></span><br><span class="line">git clone https:<span class="regexp">//gi</span>thub.com<span class="regexp">/theme-next/</span>theme-<span class="keyword">next</span>-canvas-ribbon source<span class="regexp">/lib/</span>canvas-ribbon</span><br></pre></td></tr></table></figure>

<p>theme.config</p>
<p>canvas_ribbon</p>
</li>
<li><p>字数统计</p>
<p>npm install hexo-word-counter</p>
<p>clean g s</p>
</li>
</ol>
<h3 id="hexo-next主题颜色"><a href="#hexo-next主题颜色" class="headerlink" title="hexo-next主题颜色"></a>hexo-next主题颜色</h3><ol>
<li><p>normal </p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211106211457578.png" alt="image-20211106211457578"></p>
</li>
<li><p>night </p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211106211538248.png" alt="image-20211106211538248"></p>
</li>
<li><p>night eighties  </p>
<p>同上</p>
</li>
<li><p>night blue </p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211106211631863.png"></p>
</li>
<li><p>night bright</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211106211858696.png" alt="image-20211106211858696"></p>
</li>
<li><p>solarized </p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211106211916484.png" alt="image-20211106211916484"></p>
</li>
<li><p>solarized dark </p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211106211957848.png" alt="image-20211106211957848"></p>
</li>
<li><p>galactic</p>
</li>
</ol>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211106212045168.png" alt="image-20211106212045168"></p>
]]></content>
      <categories>
        <category>utils</category>
      </categories>
  </entry>
  <entry>
    <title>文件工具</title>
    <url>/2022/03/08/utils/fileUtil/</url>
    <content><![CDATA[<h3 id="pdf-word-ppt"><a href="#pdf-word-ppt" class="headerlink" title="pdf-word-ppt"></a>pdf-word-ppt</h3><ol>
<li><p>下载pdf的需求</p>
<blockquote>
<p>曲线救国: 先保存html,然后转换成pdf</p>
</blockquote>
<ol>
<li>保存html</li>
<li>html转换pdf<ul>
<li>程序:wkhtmltopdf</li>
<li>借用shell或者bat</li>
</ul>
</li>
</ol>
</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>idea操作</title>
    <url>/2022/03/08/utils/idea%E6%93%8D%E4%BD%9C/</url>
    <content><![CDATA[<h3 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h3><ol>
<li>基本<ol>
<li>创建 setter toString.. alt+insert</li>
<li></li>
</ol>
</li>
<li>次级</li>
<li>高阶<ol>
<li><p>查看父子图 右键+图</p>
</li>
<li><p>查看所有方法,alt+7</p>
<span id="more"></span></li>
<li><p>alt+左键 多行复制</p>
</li>
<li><p>shift双击搜索</p>
</li>
<li><p>alt+回车  检错</p>
</li>
<li><p>ctrl+alt+b查看实现类  </p>
<figure class="highlight cos"><table><tr><td class="code"><pre><span class="line">直接<span class="keyword">print</span>这个类的<span class="keyword">Class</span>也是个好方法</span><br></pre></td></tr></table></figure></li>
<li></li>
</ol>
</li>
</ol>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ol>
<li><p>英文全角输入（在中文模式下）</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211126130042136.png" alt="image-20211126130042136"></p>
</li>
<li><p>生成doc文档</p>
<ol>
<li>tools–&gt; 生成javadoc</li>
<li>配置输出目录</li>
<li>配置区域   zh_CN</li>
<li>配置utf-8   -encoding UTF-8 -charset UTF-8</li>
</ol>
</li>
</ol>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><ol>
<li>插件<ol>
<li>开发<ol>
<li>restfulTool</li>
<li></li>
</ol>
</li>
<li>其他<ol>
<li>chinese中文</li>
<li>static</li>
<li></li>
</ol>
</li>
<li>外观<ol>
<li>meterial theme</li>
</ol>
</li>
</ol>
</li>
<li>自定义快捷键<ol>
<li>ctrl+右键 重命名</li>
<li>F1 运行</li>
<li>ctrl+shift+右键 格式化代码</li>
</ol>
</li>
<li>代码动态模板<ol>
<li>zz html  &lt;!–$a–&gt;</li>
<li></li>
</ol>
</li>
<li>代码模板</li>
</ol>
]]></content>
      <categories>
        <category>utils</category>
      </categories>
  </entry>
  <entry>
    <title>Git的使用</title>
    <url>/2022/03/08/utils/git/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="Git概念"><a href="#Git概念" class="headerlink" title="Git概念"></a>Git概念</h3><ol>
<li><p>手工式版本控制</p>
<ol>
<li>特点<ol>
<li>每改一次备份一次</li>
<li>协同更改需要同时U盘copy</li>
</ol>
</li>
<li>问题<ol>
<li><p>备份</p>
</li>
<li><p>代码还原</p>
</li>
<li><p>协同开发</p>
</li>
<li><p>代码追溯(追责)</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211102012109951.png" alt="image-20211102012109951"></p>
</li>
</ol>
</li>
</ol>
<span id="more"></span></li>
<li><p>解决：<font color='red'>版本控制</font>结束了手动管理多个“版本”的史前时代，进入到版本控制的20世纪。</p>
</li>
<li><p>集中式版本控制SVN/CVS</p>
<ol>
<li>版本库都放在集中式服务器</li>
<li>使用前先从集中式服务器copy过来</li>
<li>修改完后在上传到集中服务器</li>
</ol>
</li>
<li><p>分布式版本控制（共享版本库）</p>
<ol>
<li>每个人都有所有的版本，gitee/github也算个人</li>
<li>一个人修改了A那么直接上传就会记录这个修改内容</li>
<li>本地有所有的版本</li>
</ol>
</li>
</ol>
<h3 id="Git操作"><a href="#Git操作" class="headerlink" title="Git操作"></a>Git操作</h3><h5 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h5><ol>
<li><p>安装完成先自报家门</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line">git <span class="keyword">config</span> --<span class="keyword">global</span> user<span class="variable">.name</span> <span class="string">&quot;Your Name&quot;</span></span><br><span class="line">git <span class="keyword">config</span> --<span class="keyword">global</span> user<span class="variable">.email</span> <span class="string">&quot;email@example.com&quot;</span></span><br></pre></td></tr></table></figure>

<p>git config 命令的 –global 表示整个电脑的git都设置为这个身份</p>
</li>
<li><p>创建版本库</p>
<figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> blog</span><br><span class="line"><span class="built_in">cd</span> blog</span><br><span class="line">git init</span><br></pre></td></tr></table></figure></li>
<li><p>写文件</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">touch readme.txt</span><br><span class="line">git <span class="keyword">add</span> .</span><br><span class="line">git <span class="keyword">commit</span> -m &quot;wrote a file&quot;</span><br></pre></td></tr></table></figure>

<p>. 表示当前目录</p>
</li>
</ol>
<h5 id="版本撤回"><a href="#版本撤回" class="headerlink" title="版本撤回"></a>版本撤回</h5><ol>
<li><p>查看当前文件状态(工作区同暂存区、HEAD相比，并显示未add和已add未commit的信息)</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">git status</span></span><br></pre></td></tr></table></figure>

<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211004192710237.png" alt="image-20211004192710237"></p>
</li>
<li><p>查看文件修改内容(工作区同上一次暂存区相比)</p>
<figure class="highlight maxima"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">diff</span> readme.txt</span><br></pre></td></tr></table></figure></li>
<li><p>查看每次修改和对应的修改提示</p>
<figure class="highlight 1c"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">log</span></span><br></pre></td></tr></table></figure></li>
<li><p>版本撤回</p>
<ol>
<li><p>回到上上个版本</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">git <span class="keyword">reset</span> <span class="comment">--hard HEAD^^</span></span><br></pre></td></tr></table></figure></li>
<li><p>–hard表示</p>
</li>
<li><p>git reset –head 版本id/head都可以回退</p>
</li>
<li><p>如果撤多了那么别叉掉窗口，几下最近几次commit-id的前机会还可以回撤</p>
<figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line">git reset <span class="params">--hard</span> <span class="keyword">cd</span>0c</span><br></pre></td></tr></table></figure></li>
<li><p>如果不小心叉掉了，git reflog还可以查看各个commit-id</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211004183507316.png" alt="image-20211004183507316"></p>
<p>最下面是第一次commit</p>
<p>然后根据git reset commit-id 回退版本</p>
</li>
<li><p>但是，如果你的工作区没有add就进行了版本撤回，那么就会找不到你这此更改的内容。</p>
</li>
<li><p>如果你的工作区已经add到了缓存区，</p>
</li>
</ol>
</li>
<li><p>撤销修改</p>
<ol>
<li><p>丢弃工作区，工作区&lt;—暂存区</p>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">git checkout <span class="comment">-- readme.txt</span></span><br></pre></td></tr></table></figure></li>
<li><p>丢掉暂存区，暂存区&lt;—版本库</p>
<figure class="highlight maxima"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">reset</span> head readme.txt</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>删除文件</p>
<p>rm readme.txt</p>
<ol>
<li><p>整体删除</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">git rm/<span class="keyword">add</span> readme.txt</span><br><span class="line">git <span class="keyword">commit</span> -m &quot;&quot;</span><br></pre></td></tr></table></figure></li>
<li><p>撤回删除(从暂存区拿回)</p>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">git checkout <span class="comment">-- test.txt</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h5 id="远程仓库"><a href="#远程仓库" class="headerlink" title="远程仓库"></a>远程仓库</h5><ol>
<li><p>添加远程仓库</p>
<figure class="highlight llvm"><table><tr><td class="code"><pre><span class="line">git remote <span class="keyword">add</span> origin git<span class="title">@github.com</span>:Wang-yonggan/test.git</span><br></pre></td></tr></table></figure></li>
<li><p>远程库的名字就是<code>origin</code>，这是Git默认的叫法把本地库的内容推送到远程，用<code>git push</code>命令，实际上是把当前分支<code>master</code>推送到远程。</p>
</li>
<li><p>由于远程库是空的，我们第一次推送<code>master</code>分支时，加上了<code>-u</code>参数，Git不但会把本地的<code>master</code>分支内容推送的远程新的<code>master</code>分支，还会把本地的<code>master</code>分支和远程的<code>master</code>分支关联起来，在以后的推送或者拉取时就可以简化命令。</p>
<p>以后只需要</p>
<figure class="highlight maxima"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">push</span> <span class="built_in">origin</span> master</span><br></pre></td></tr></table></figure></li>
<li><p>查看远程仓库状态</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">git remote -v</span></span><br></pre></td></tr></table></figure></li>
<li><p>解除远程仓库关系</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">git remote rm origin</span></span><br></pre></td></tr></table></figure></li>
<li><p>克隆(支持两种协议)</p>
<ol>
<li>https 默认</li>
<li>git 更快，有的公司不支持</li>
</ol>
</li>
<li><p>远程删除一个文件夹</p>
<ol>
<li>git rm -r –cached dir  –&gt;撤回 git reset dir</li>
<li>git rm –cached file</li>
<li>git  commit</li>
<li>git push</li>
</ol>
</li>
</ol>
<h5 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h5><ol>
<li><p>创建分支</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">git branch dev</span></span><br></pre></td></tr></table></figure></li>
<li><p>切换分支</p>
<p>checkout==switch</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">git checkout dev</span></span><br></pre></td></tr></table></figure></li>
<li><p>查看有哪些分支</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">git branch</span></span><br></pre></td></tr></table></figure></li>
<li><p>合并分支(只有撤回到master下面这句才有效)</p>
<figure class="highlight cos"><table><tr><td class="code"><pre><span class="line">git <span class="keyword">merge</span> dev</span><br></pre></td></tr></table></figure></li>
<li><p>删除分支</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">git branch -d dev</span></span><br></pre></td></tr></table></figure></li>
<li><p>如果分支有内容更改，需要-D 强制删除</p>
</li>
<li><p>远程分支master&lt;—–&gt;本地分支master</p>
</li>
<li><p>本地的分支会共享暂存区，但版本库独立，即分支master创建并add到暂存区的a文件如果被分支dev commit了，那么再切换到master就没有这个文件。</p>
</li>
<li><p>分支冲突</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211004221917099.png" alt="image-20211004221917099"></p>
<p>修改+add+commit手动合并</p>
</li>
</ol>
<h5 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h5><ol>
<li><p>tag标签</p>
<p>​    标签与commit-id对应关系</p>
<ol>
<li><p>创建tag</p>
<figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">git <span class="keyword">tag</span> <span class="title">v1</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure></li>
<li><p>根据commit-id创建tag</p>
<figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">git <span class="keyword">tag</span> <span class="title">v0</span>.<span class="number">8</span> abcde</span><br></pre></td></tr></table></figure></li>
<li><p>上传tags</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">git</span> <span class="keyword">push</span> orgin <span class="built_in">v1</span>.<span class="number">0</span></span><br><span class="line"><span class="symbol">git</span> <span class="keyword">push</span> orgin --tags</span><br></pre></td></tr></table></figure></li>
<li><p>删除tags</p>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line">git push origin <span class="symbol">:refs/tags/v0</span>.<span class="number">9</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>忽略文件</p>
<ol>
<li><p>文件内容(!表示非)</p>
<figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line">*<span class="string">.txt</span>*</span><br><span class="line">!<span class="string">.gitignore</span></span><br></pre></td></tr></table></figure></li>
<li><p>强制添加</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">git add -f <span class="module-access"><span class="module"><span class="identifier">App</span>.</span></span><span class="keyword">class</span></span><br></pre></td></tr></table></figure></li>
<li><p>例子</p>
<ol>
<li>忽略.o和.a文件 : *.[oa]</li>
<li>忽略目录d: d/</li>
<li>* ？：代表任意的一个字符<br>  * ＊：代表任意数目的字符<br>  * {!ab}：必须不是此类型<br>  * {ab,bb,cx}：代表ab,bb,cx中任一类型即可<br>  * [abc]：代表a,b,c中任一字符即可<br>  * [ ^abc]：代表必须不是a,b,c中任一字符</li>
<li></li>
</ol>
</li>
</ol>
</li>
<li><p>别名</p>
<ol>
<li><p>st=status</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line">git <span class="keyword">config</span> --<span class="keyword">global</span> <span class="keyword">alias</span><span class="variable">.st</span> status</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h3 id="Gi退回"><a href="#Gi退回" class="headerlink" title="Gi退回"></a>Gi退回</h3><ol>
<li>分支</li>
<li>版本<ol>
<li>HEAD表示当前版本</li>
<li>HEAD^^表示上上一个版本</li>
<li>HEAD~100表示上100个版本</li>
</ol>
</li>
</ol>
<h3 id="Git合并"><a href="#Git合并" class="headerlink" title="Git合并"></a>Git合并</h3><ol>
<li>fast合并和非fast合并</li>
<li>rebase合并和merge</li>
</ol>
<h3 id="Git合并冲突"><a href="#Git合并冲突" class="headerlink" title="Git合并冲突"></a>Git合并冲突</h3><ol>
<li>当两个分支同时修改一个文件的时候就会有分支冲突，需要手动更改</li>
<li>报错 Merge complict</li>
</ol>
<h3 id="做过的配置"><a href="#做过的配置" class="headerlink" title="做过的配置"></a>做过的配置</h3><ol>
<li><p>git config –global http.sslVerify true   </p>
<p>push 失败 SSL</p>
</li>
<li><p>push 到github失败，网速问题</p>
<p>使用@git协议</p>
<ol>
<li><p>github加入自己的本机的ssh</p>
</li>
<li><p>将本机的.git的里面的comfig.remote修改为项目的ssh链接</p>
<p><a href="mailto:&#103;&#105;&#116;&#64;&#x67;&#105;&#x74;&#104;&#x75;&#x62;&#x2e;&#99;&#x6f;&#x6d;">&#103;&#105;&#116;&#64;&#x67;&#105;&#x74;&#104;&#x75;&#x62;&#x2e;&#99;&#x6f;&#x6d;</a>:Wang-yonggan/Wang-yonggan.github.io.git</p>
<p><a href="https://github.com/Wang-yonggan/Wang-yonggan.github.io.git">https://github.com/Wang-yonggan/Wang-yonggan.github.io.git</a></p>
</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>utils</category>
      </categories>
  </entry>
  <entry>
    <title>puppeteer使用</title>
    <url>/2022/03/08/utils/puppeteer/</url>
    <content><![CDATA[<h1 id="Puppeteer的使用"><a href="#Puppeteer的使用" class="headerlink" title="Puppeteer的使用"></a>Puppeteer的使用</h1><h3 id="爬虫"><a href="#爬虫" class="headerlink" title="爬虫"></a>爬虫</h3><h5 id="python"><a href="#python" class="headerlink" title="python"></a>python</h5><ol>
<li><p>urllib+requests——Beautifulsoup+lxml—&gt;数据</p>
</li>
<li><p>scrapy  :抓取+解析</p>
<span id="more"></span></li>
</ol>
<h5 id="puppeteer"><a href="#puppeteer" class="headerlink" title="puppeteer"></a>puppeteer</h5><ol>
<li><p>下载</p>
<figure class="highlight coffeescript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">npm</span> init</span><br><span class="line"><span class="built_in">npm</span> i puppeteer</span><br></pre></td></tr></table></figure></li>
<li><p>seletor</p>
</li>
</ol>
<h3 id="xpath"><a href="#xpath" class="headerlink" title="xpath"></a>xpath</h3><ol>
<li><p>层级 /直接子集() // 跳跃层级(递归)</p>
</li>
<li><p>属性 @</p>
<ol>
<li><p>class</p>
</li>
<li><p>id</p>
</li>
<li><p>property</p>
</li>
<li><p>//article//a/@href</p>
<!--more--></li>
</ol>
</li>
<li><p>函数</p>
<ol>
<li><p>contain</p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">\\<span class="keyword">div</span>[<span class="keyword">contain</span>(@<span class="built_in">class</span>, <span class="string">&quot;classnameContain&quot;</span>)]</span><br></pre></td></tr></table></figure></li>
<li><p>text</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">http:<span class="regexp">//</span>books.toscrape.com<span class="regexp">/catalogue/</span>category<span class="regexp">/books_1/i</span>ndex.html</span><br><span class="line"><span class="regexp">//u</span>l[@class=<span class="string">&quot;nav nav-list&quot;</span>]<span class="regexp">//u</span>l<span class="regexp">//</span>a/text()</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>utils</category>
        <category>爬虫</category>
      </categories>
  </entry>
  <entry>
    <title>maven的使用</title>
    <url>/2022/03/08/utils/maven/</url>
    <content><![CDATA[<h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><p>1.<a href="https://www.cnblogs.com/PatrickLee/archive/2012/10/31/2747398.html">https://www.cnblogs.com/PatrickLee/archive/2012/10/31/2747398.html</a></p>
<ol start="2">
<li><p>编译：mvn compile　　–src/main/java目录java源码编译生成class （target目录下）</p>
</li>
<li><p>测试：mvn test　　　　–src/test/java 目录编译</p>
</li>
<li><p>清理：mvn clean　　　 –删除target目录，也就是将class文件等删除</p>
</li>
<li><p>打包：mvn package　　–生成压缩文件：java项目#jar包；web项目#war包，也是放在target目录下</p>
</li>
<li><p>安装：mvn install　　　–将压缩文件(jar或者war)上传到本地仓库</p>
</li>
<li><p>部署|发布：mvn deploy　　–将压缩文件上传私服</p>
<span id="more"></span></li>
</ol>
<h3 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h3><ol>
<li>java项目</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">mvn archetype:generate -DgroupId=com.dreams.maven.quickstart -DartifactId=simple -DarchetypeArtifactId=maven-archetype-quickstart</span><br><span class="line"></span><br><span class="line">mvn archetype:create</span><br><span class="line">   -DgroupId=packageName</span><br><span class="line">   -DartifactId=projectName </span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>wen项目</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">mvn archetype:generate <span class="attribute">-DgroupId</span>=com.packageName <span class="attribute">-DartifactId</span>=webappName <span class="attribute">-DarchetypeArtifactId</span>=maven-archetype-quickstart</span><br></pre></td></tr></table></figure></li>
</ol>
<p>mvn                                 –核心命令</p>
<p> archetype:generate                              –创建项目 </p>
<p>-DgroupId=com.dreams.maven.quickstart             –包名的写法，域名的反写 </p>
<p>-DartifactId=simple                                               –项目名称 </p>
<p>-DarchetypeArtifactId=maven-archetype-quickstart  –表示创建的是[maven]java项目—固定</p>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3>]]></content>
      <categories>
        <category>utils</category>
      </categories>
  </entry>
  <entry>
    <title>utools插件</title>
    <url>/2022/03/08/utils/utools%E6%8F%92%E4%BB%B6/</url>
    <content><![CDATA[<h2 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h2><h3 id="文件结构"><a href="#文件结构" class="headerlink" title="文件结构"></a>文件结构</h3><ol>
<li>plugin.json</li>
<li>index.html</li>
<li>preload.js</li>
</ol>
<h3 id="plugin-json"><a href="#plugin-json" class="headerlink" title="plugin.json"></a>plugin.json</h3><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">&quot;main&quot;</span>: <span class="string">&quot;index.html&quot;</span>,<span class="comment">//入口文件</span></span><br><span class="line">	<span class="attr">&quot;logo&quot;</span>: <span class="string">&quot;logo.png&quot;</span>,<span class="comment">//图标</span></span><br><span class="line">	<span class="attr">&quot;features&quot;</span>: [<span class="comment">//</span></span><br><span class="line">		&#123;</span><br><span class="line">		  <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;hello&quot;</span>,<span class="comment">//功能识别码</span></span><br><span class="line">		  <span class="attr">&quot;explain&quot;</span>: <span class="string">&quot;hello world&quot;</span>,<span class="comment">//底侧显示(介绍)，插件名在右侧显示</span></span><br><span class="line">			<span class="attr">&quot;cmds&quot;</span>:[<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;你好&quot;</span>]<span class="comment">//调用命令</span></span><br><span class="line">		&#125;</span><br><span class="line">	]</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="pluginSetting"><a href="#pluginSetting" class="headerlink" title="pluginSetting"></a>pluginSetting</h3><blockquote>
<p>插件设置</p>
</blockquote>
<ol>
<li>single : true 是否可多开</li>
<li>height ：200 高度</li>
</ol>
<h3 id="preload-js"><a href="#preload-js" class="headerlink" title="preload.js"></a>preload.js</h3><p>这是一个关键文件，你可以在此文件内调用 uTools、 nodejs、 electron 提供的 api。</p>
]]></content>
  </entry>
  <entry>
    <title>vuepress</title>
    <url>/2022/03/08/utils/vuepress/</url>
    <content><![CDATA[<h2 id="一、基本使用"><a href="#一、基本使用" class="headerlink" title="一、基本使用"></a>一、基本使用</h2><ol>
<li><p>.vuepress文件夹，所有 VuePress 相关的文件都将会被放在这里</p>
<ol>
<li><p>一个 VuePress 网站必要的配置文件是 <code>.vuepress/config.js</code>，它应该导出一个 JavaScript 对象：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&#x27;Hello VuePress&#x27;</span>,</span><br><span class="line">  <span class="attr">description</span>: <span class="string">&#x27;Just playing around&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h2 id="二、md文件内配置"><a href="#二、md文件内配置" class="headerlink" title="二、md文件内配置"></a>二、md文件内配置</h2><p>默认主题提供了一些选项，让你可以去自定义导航栏（navbar）、 侧边栏（sidebar）和 首页（homepage） </p>
<h3 id="2-1-Header"><a href="#2-1-Header" class="headerlink" title="2.1 Header"></a>2.1 Header</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">home:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">heroImage:</span> <span class="string">/hero.png</span></span><br><span class="line"><span class="attr">heroText:</span> <span class="string">Hero</span> <span class="string">标题</span></span><br><span class="line"><span class="attr">tagline:</span> <span class="string">Hero</span> <span class="string">副标题</span></span><br><span class="line"><span class="comment"># navbar: false 禁用导航栏</span></span><br><span class="line"><span class="attr">actionText:</span> <span class="string">快速上手</span> <span class="string">→</span></span><br><span class="line"><span class="attr">actionLink:</span> <span class="string">/zh/guide/</span></span><br><span class="line"><span class="attr">features:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">title:</span> <span class="string">简洁至上</span></span><br><span class="line">  <span class="attr">details:</span> <span class="string">以</span> <span class="string">Markdown</span> <span class="string">为中心的项目结构，以最少的配置帮助你专注于写作。</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">title:</span> <span class="string">Vue驱动</span></span><br><span class="line">  <span class="attr">details:</span> <span class="string">享受</span> <span class="string">Vue</span> <span class="string">+</span> <span class="string">webpack</span> <span class="string">的开发体验，在</span> <span class="string">Markdown</span> <span class="string">中使用</span> <span class="string">Vue</span> <span class="string">组件，同时可以使用</span> <span class="string">Vue</span> <span class="string">来开发自定义主题。</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">title:</span> <span class="string">高性能</span></span><br><span class="line">  <span class="attr">details:</span> <span class="string">VuePress</span> <span class="string">为每个页面预渲染生成静态的</span> <span class="string">HTML，同时在页面被加载的时候，将作为</span> <span class="string">SPA</span> <span class="string">运行。</span></span><br><span class="line"><span class="attr">footer:</span> <span class="string">MIT</span> <span class="string">Licensed</span> <span class="string">|</span> <span class="string">Copyright</span> <span class="string">©</span> <span class="number">2018</span><span class="string">-present</span> <span class="string">Evan</span> <span class="string">You</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>

<h3 id="2-2-Frontmatter"><a href="#2-2-Frontmatter" class="headerlink" title="2.2 Frontmatter"></a>2.2 Frontmatter</h3><h4 id="2-2-1-首页"><a href="#2-2-1-首页" class="headerlink" title="2.2.1 首页"></a>2.2.1 首页</h4><table>
<thead>
<tr>
<th>关键字</th>
<th>功能</th>
<th>用例</th>
</tr>
</thead>
<tbody><tr>
<td>home</td>
<td>是否首页</td>
<td>home: true</td>
</tr>
<tr>
<td>heroImage</td>
<td>首页图片的 URL</td>
<td># Public 文件路径 heroImage: /images/hero.png</td>
</tr>
<tr>
<td>heroText</td>
<td>首页标题</td>
<td></td>
</tr>
<tr>
<td>tagline</td>
<td>首页标语,则默认使用站点 <a href="https://v2.vuepress.vuejs.org/zh/reference/config.html#description">description</a></td>
<td></td>
</tr>
<tr>
<td>actions</td>
<td>首页按钮</td>
<td>actions:   - text: 快速上手     link: /zh/guide/getting-started.html     type: primary</td>
</tr>
<tr>
<td>features</td>
<td>首页下三件简述</td>
<td></td>
</tr>
<tr>
<td>footer</td>
<td>首页页脚</td>
<td></td>
</tr>
<tr>
<td>footerHtml</td>
<td>是否允许页脚中使用 HTML</td>
<td></td>
</tr>
</tbody></table>
<h4 id="2-2-2-普通页面"><a href="#2-2-2-普通页面" class="headerlink" title="2.2.2 普通页面"></a>2.2.2 普通页面</h4><table>
<thead>
<tr>
<th>关键字</th>
<th>功能</th>
<th>用例</th>
</tr>
</thead>
<tbody><tr>
<td>editLink</td>
<td>编辑此页</td>
<td></td>
</tr>
<tr>
<td>editLinkPattern</td>
<td>本页面中 <em>编辑此页</em> 链接的 Pattern</td>
<td><a href="https://v2.vuepress.vuejs.org/zh/reference/default-theme/config.html#editlinkpattern">三项</a></td>
</tr>
<tr>
<td>sidebar</td>
<td>配置侧边栏</td>
<td></td>
</tr>
<tr>
<td>navbar</td>
<td>导航栏配置</td>
<td></td>
</tr>
<tr>
<td>contributors</td>
<td>贡献者列表</td>
<td></td>
</tr>
</tbody></table>
<h3 id="2-3-搜索框"><a href="#2-3-搜索框" class="headerlink" title="2.3 搜索框"></a>2.3 搜索框</h3><h4 id="1-内置搜索"><a href="#1-内置搜索" class="headerlink" title="1. 内置搜索"></a>1. 内置搜索</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// .vuepress/config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">themeConfig</span>: &#123;</span><br><span class="line">    <span class="attr">search</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">searchMaxSuggestions</span>: <span class="number">10</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="页面滚动"><a href="#页面滚动" class="headerlink" title="页面滚动"></a>页面滚动</h3><h3 id="自定义页面类"><a href="#自定义页面类" class="headerlink" title="自定义页面类"></a>自定义页面类</h3><h3 id="特定页面的自定义布局"><a href="#特定页面的自定义布局" class="headerlink" title="特定页面的自定义布局"></a>特定页面的自定义布局</h3><h2 id="三、配置"><a href="#三、配置" class="headerlink" title="三、配置"></a>三、配置</h2><h3 id="3-1-基本项"><a href="#3-1-基本项" class="headerlink" title="3.1 基本项"></a>3.1 基本项</h3><table>
<thead>
<tr>
<th>关键字</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>lang</td>
<td>语言</td>
</tr>
<tr>
<td>title</td>
<td>标题</td>
</tr>
<tr>
<td>description</td>
<td>描述</td>
</tr>
<tr>
<td>base</td>
<td>git-page相对地址</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id="3-2主题配置"><a href="#3-2主题配置" class="headerlink" title="3.2主题配置"></a>3.2主题配置</h3><ol>
<li> logo logo地址</li>
<li>navbar 导航栏</li>
<li>sidebar 侧边栏</li>
</ol>
<h4 id="3-2-1-导航栏"><a href="#3-2-1-导航栏" class="headerlink" title="3.2.1 导航栏"></a>3.2.1 导航栏</h4><ol>
<li><p>logo</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">   </span><br></pre></td></tr></table></figure></li>
<li><p>导航栏连接</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// .vuepress/config.js</span></span><br><span class="line"><span class="keyword">module</span>.<span class="keyword">exports</span> = &#123;</span><br><span class="line">  themeConfig: &#123;</span><br><span class="line">    nav: [</span><br><span class="line">      &#123; text: <span class="string">&#x27;Home&#x27;</span>, link: <span class="string">&#x27;/&#x27;</span> &#125;,</span><br><span class="line">      &#123; text: <span class="string">&#x27;Guide&#x27;</span>, link: <span class="string">&#x27;/guide/&#x27;</span> &#125;,</span><br><span class="line">      &#123; text: <span class="string">&#x27;External&#x27;</span>, link: <span class="string">&#x27;https://google.com&#x27;</span> &#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>当你提供了一个 <code>items</code> 数组而不是一个单一的 <code>link</code> 时，它将显示为一个 <code>下拉列表</code> </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// .vuepress/config.js</span></span><br><span class="line"><span class="keyword">module</span>.<span class="keyword">exports</span> = &#123;</span><br><span class="line">  themeConfig: &#123;</span><br><span class="line">    nav: [</span><br><span class="line">      &#123;</span><br><span class="line">        text: <span class="string">&#x27;Languages&#x27;</span>,</span><br><span class="line">        ariaLabel: <span class="string">&#x27;Language Menu&#x27;</span>,</span><br><span class="line">        items: [</span><br><span class="line">          &#123; text: <span class="string">&#x27;Chinese&#x27;</span>, link: <span class="string">&#x27;/language/chinese/&#x27;</span> &#125;,</span><br><span class="line">          &#123; text: <span class="string">&#x27;Japanese&#x27;</span>, link: <span class="string">&#x27;/language/japanese/&#x27;</span> &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>此外，你还可以通过嵌套的 <code>items</code> 来在 <code>下拉列表</code> 中设置分组：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// .vuepress/config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">themeConfig</span>: &#123;</span><br><span class="line">    <span class="attr">nav</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&#x27;Languages&#x27;</span>,</span><br><span class="line">        <span class="attr">items</span>: [</span><br><span class="line">          &#123; <span class="attr">text</span>: <span class="string">&#x27;Group1&#x27;</span>, <span class="attr">items</span>: [<span class="comment">/*  */</span>] &#125;,</span><br><span class="line">          &#123; <span class="attr">text</span>: <span class="string">&#x27;Group2&#x27;</span>, <span class="attr">items</span>: [<span class="comment">/*  */</span>] &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>禁用</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">themeConfig: &#123;</span><br><span class="line">  navbar: <span class="keyword">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="3-2-2-侧边栏"><a href="#3-2-2-侧边栏" class="headerlink" title="3.2.2 侧边栏"></a>3.2.2 侧边栏</h4><h5 id="3-2-2-1-基本配置"><a href="#3-2-2-1-基本配置" class="headerlink" title="3.2.2.1 基本配置"></a>3.2.2.1 基本配置</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">sidebar: [</span><br><span class="line">     &#123;</span><br><span class="line">       text: <span class="string">&#x27;Guide&#x27;</span>,</span><br><span class="line">       link: <span class="string">&#x27;/guide/&#x27;</span>,</span><br><span class="line">       children: [</span><br><span class="line">         &#123;</span><br><span class="line">           text: <span class="string">&#x27;github&#x27;</span>,</span><br><span class="line">           link: <span class="string">&#x27;https://github.com&#x27;</span>,</span><br><span class="line">           children: [],</span><br><span class="line">         &#125;,</span><br><span class="line">         <span class="string">&#x27;/guide/a.md&#x27;</span>,</span><br><span class="line">         <span class="string">&#x27;/guide/b.md&#x27;</span>,</span><br><span class="line">         <span class="string">&#x27;/guide/c.md&#x27;</span></span><br><span class="line">       ],</span><br><span class="line">     &#125;,</span><br><span class="line">     <span class="string">&#x27;/bar/README.md&#x27;</span>,</span><br><span class="line">   ],</span><br></pre></td></tr></table></figure>

<h5 id="3-2-2-2-注意"><a href="#3-2-2-2-注意" class="headerlink" title="3.2.2.2 注意"></a>3.2.2.2 注意</h5><p>‘/bar/README.md’ 像这种直接写路径的一定要写title</p>
<h5 id="3-2-2-3-侧边栏分组"><a href="#3-2-2-3-侧边栏分组" class="headerlink" title="3.2.2.3 侧边栏分组"></a>3.2.2.3 侧边栏分组</h5><h5 id="3-2-2-4-自动生成侧栏"><a href="#3-2-2-4-自动生成侧栏" class="headerlink" title="3.2.2.4 自动生成侧栏"></a>3.2.2.4 自动生成侧栏</h5><h5 id="3-2-2-5-禁用侧边栏"><a href="#3-2-2-5-禁用侧边栏" class="headerlink" title="3.2.2.5 禁用侧边栏"></a>3.2.2.5 禁用侧边栏</h5><h2 id="四、新增Md渲染"><a href="#四、新增Md渲染" class="headerlink" title="四、新增Md渲染"></a>四、新增Md渲染</h2><h3 id="4-1-内置组件"><a href="#4-1-内置组件" class="headerlink" title="4.1 内置组件"></a>4.1 内置组件</h3><h4 id="4-1-1-Badge-标识"><a href="#4-1-1-Badge-标识" class="headerlink" title="4.1.1 Badge 标识"></a>4.1.1 Badge 标识</h4><ol>
<li><p>语法</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> VuePress - <span class="xml"><span class="tag">&lt;<span class="name">Badge</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span> <span class="attr">text</span>=<span class="string">&quot;v2&quot;</span> <span class="attr">vertical</span>=<span class="string">&quot;middle&quot;</span> /&gt;</span></span></span><br></pre></td></tr></table></figure></li>
<li><p>属性</p>
<ol>
<li>type 类型：’tip’ | ‘warning’ | ‘danger’</li>
<li>vertical 位置：’top’ | ‘middle’ | ‘bottom’ | undefined</li>
</ol>
</li>
</ol>
<h4 id="4-1-2-CodeGroup-多类型代码"><a href="#4-1-2-CodeGroup-多类型代码" class="headerlink" title="4.1.2 CodeGroup 多类型代码"></a>4.1.2 CodeGroup 多类型代码</h4><h4 id="4-1-3-自定义容器"><a href="#4-1-3-自定义容器" class="headerlink" title="4.1.3 自定义容器"></a>4.1.3 自定义容器</h4><ol>
<li><p>语法</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">::: <span class="xml"><span class="tag">&lt;<span class="name">type</span>&gt;</span></span> [title]</span><br><span class="line">[content]</span><br><span class="line">:::</span><br></pre></td></tr></table></figure></li>
<li><p>属性</p>
<ol>
<li>type 类型：tip、warning、danger、details</li>
<li>title 标题  容器提示语</li>
<li>content 内容</li>
</ol>
</li>
</ol>
<h4 id="4-2-渲染"><a href="#4-2-渲染" class="headerlink" title="4.2 渲染"></a>4.2 渲染</h4><h4 id="4-2-1-链接"><a href="#4-2-1-链接" class="headerlink" title="4.2.1 链接"></a>4.2.1 链接</h4><ol>
<li>绝对路径链接 带外链接符号 </li>
<li>相对路径链接 不带</li>
</ol>
<h4 id="4-2-2-标题锚点"><a href="#4-2-2-标题锚点" class="headerlink" title="4.2.2 标题锚点"></a>4.2.2 标题锚点</h4><h4 id="4-2-3-Emoji"><a href="#4-2-3-Emoji" class="headerlink" title="4.2.3 Emoji"></a>4.2.3 <a href="https://github.com/ikatyang/emoji-cheat-sheet">Emoji</a></h4><h4 id="4-2-4-目录"><a href="#4-2-4-目录" class="headerlink" title="4.2.4 目录"></a>4.2.4 目录</h4><h4 id="4-2-5-代码块"><a href="#4-2-5-代码块" class="headerlink" title="4.2.5 代码块"></a>4.2.5 代码块</h4><ol>
<li>行高亮</li>
<li>可编译</li>
</ol>
<h2 id="五、插件"><a href="#五、插件" class="headerlink" title="五、插件"></a>五、插件</h2><h3 id="5-1-google-analytics-网络流量分析"><a href="#5-1-google-analytics-网络流量分析" class="headerlink" title="5.1  google-analytics 网络流量分析"></a>5.1  google-analytics 网络流量分析</h3><h3 id="5-2-search-搜索"><a href="#5-2-search-搜索" class="headerlink" title="5.2 search 搜索"></a>5.2 search 搜索</h3><ol>
<li><p>下载</p>
<figure class="highlight stata"><table><tr><td class="code"><pre><span class="line">npm install vuepress-<span class="keyword">plugin</span>-fulltext-<span class="keyword">search</span></span><br></pre></td></tr></table></figure></li>
<li><p> vi docs/.vuepress/config.js</p>
</li>
</ol>
   <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span>.<span class="keyword">exports</span> = &#123;</span><br><span class="line"><span class="comment">// .</span></span><br><span class="line">plugins: [<span class="string">&#x27;fulltext-search&#x27;</span>],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-3-pwa-渐进式web"><a href="#5-3-pwa-渐进式web" class="headerlink" title="5.3  pwa 渐进式web"></a>5.3  pwa 渐进式web</h3><h2 id="六、主题"><a href="#六、主题" class="headerlink" title="六、主题"></a>六、主题</h2>]]></content>
      <categories>
        <category>util</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/utils/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
    <content><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a></h2><ol>
<li>19\d\d  判断19..年    </li>
<li>a.c   abc adc   </li>
<li>a\&amp;b   a&amp;b</li>
<li>a\u548c   a和c</li>
<li>\d   007  数值  00\D   00A 00B 非数字 </li>
<li>java\w  字母/数字/下划线 java8    java\W   java！   非字母 非数字 非下划线</li>
<li>a\sb  a b  空白字符        a\Sb  a&amp;b  非空白字符，非tab </li>
<li>a\b* abc aa</li>
<li>\d{0,3} 三个数字</li>
<li>\d{n,}最少n个数字</li>
<li>^开头 $结束</li>
<li>^a\d{3}$ a123</li>
<li>[abcd]1 a1 z1  == [a-f]1</li>
<li>[a-f0-9]{6} abc123  1a2b3c  aafe32</li>
<li>[^0-9]{3} abc 取反</li>
<li> java|python  java   python</li>
<li>.一个   *1或多个  +0或一个  ？0或1个 非贪婪匹配<h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2></li>
<li>er\b  never 因为er结尾  而不能verb</li>
<li><h2 id="匹配分组-pattern-matcher-str"><a href="#匹配分组-pattern-matcher-str" class="headerlink" title="匹配分组  pattern.matcher(str)"></a>匹配分组  pattern.matcher(str)</h2></li>
<li>(\d{4})-(\d{1,2})-(\d{1,2}) 分开2021-6-22</li>
<li>^([0-1][0-9]|2[0-3]):([0-5][0-9])$ 分开 23:22</li>
</ol>
<h2 id="分割"><a href="#分割" class="headerlink" title="分割"></a>分割</h2><ol>
<li>“a b     c”.split(“\s+”)==&gt;”a”,”b”,”c”</li>
<li>“a,b    ;;;; c”.split(“\s+\,\;”)==&gt;”a”,”b”,”c”</li>
</ol>
<h3 id="中文范围"><a href="#中文范围" class="headerlink" title="中文范围"></a>中文范围</h3><p>[\u4e00-\u9fa5]</p>
]]></content>
  </entry>
  <entry>
    <title>Spring其他</title>
    <url>/2022/03/08/spring/Spring%E5%85%B6%E4%BB%96/</url>
    <content><![CDATA[<ol>
<li><p>获得当先线程的request对象</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> HttpServletRequreest <span class="title">getHttpServletRequest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ((ServletRequestAttributes) Objects.requireNonNull(RequestContextHolder.getRequestAttributes())).getRequest();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//因为RequestAttributes对象在RequestContextHolder中是与线程对应的，每次请求都会产生一个新的，所有该方法能在任意地方获得线程的r</span></span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>spring知识</title>
    <url>/2022/03/08/spring/Spring%E7%9F%A5%E8%AF%86/</url>
    <content><![CDATA[<ol>
<li>Spring 宽松绑定规则 </li>
<li>classpath和classpath*<br>1. </li>
</ol>
]]></content>
      <categories>
        <category>spring知识</category>
      </categories>
  </entry>
  <entry>
    <title>springBoot</title>
    <url>/2022/03/08/spring/springBoot/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、配置"><a href="#一、配置" class="headerlink" title="一、配置"></a>一、配置</h2><h3 id="1-1-Banner"><a href="#1-1-Banner" class="headerlink" title="1.1 Banner"></a>1.1 Banner</h3><ol>
<li><p>网址<a href="http://patorjk.com/software/taag">http://patorjk.com/software/taag</a></p>
</li>
<li><p>选择</p>
<ol>
<li>3D-ASCLL</li>
<li>Do</li>
</ol>
</li>
<li><p>配置： src/main/resouces/banner.txt</p>
</li>
<li><p>关闭banner</p>
<p>​    ```</p>
</li>
<li><p>Banner的变量</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">$&#123;AnsiColor.BRIGHT_YELLOW&#125;。</span><br><span class="line">$&#123;AnsiColor.BRIGHT_RED&#125;：设置控制台中输出内容的颜色</span><br><span class="line">$&#123;application.version&#125;：用来获取MANIFEST.MF文件中的版本号</span><br><span class="line">&#123;application.version&#125;版本信息</span><br><span class="line">$&#123;spring-boot.version&#125;：Spring Boot的版本号</span><br><span class="line">&#123;spring-boot.version&#125;版本信息</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="九、依赖理解"><a href="#九、依赖理解" class="headerlink" title="九、依赖理解"></a>九、依赖理解</h2><h3 id="9-1-spring-boot-starter"><a href="#9-1-spring-boot-starter" class="headerlink" title="9.1 spring-boot-starter"></a>9.1 spring-boot-starter</h3><ol>
<li>可以认为starter是一种服务（和JS的插件类似）——使得使用某个功能的开发者不需要关注各种依赖库的处理，不需要具体的配置信息，由Spring Boot自动通过classpath路径下的类发现需要的Bean，并织入bean</li>
</ol>
<span id="more"></span>]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>springAop</title>
    <url>/2022/03/08/spring/spring-%E9%9D%A2%E5%90%91%E5%88%87%E9%9D%A2/</url>
    <content><![CDATA[<h3 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h3><ol>
<li>底层: 动态代理</li>
<li>aspect:切面 即增加的功能  Log()</li>
<li>x<ol>
<li>oop 面向对象  </li>
<li>AOP 以切面为核心，找到所有能用切面实现的功能<ol>
<li><p>日志 </p>
</li>
<li><p>事务</p>
</li>
<li><p>统计</p>
</li>
<li><p>参数校验</p>
</li>
<li><p>权限鉴定</p>
<span id="more"></span></li>
</ol>
</li>
</ol>
</li>
<li>术语<ol>
<li>joinPoint，连接点</li>
<li>pointCut 切入点：多个连接点集合</li>
<li>目标对象：需要增强的类</li>
<li>Advice 切面功能执行时间</li>
</ol>
</li>
<li>AOP实现<ol>
<li>springAop  笨重</li>
<li>aspectJ 开源框架</li>
</ol>
</li>
<li>AspectJ<ol>
<li>注解<ol>
<li>@Advice<ol>
<li>@Before </li>
<li>@After </li>
<li>@Arount</li>
</ol>
</li>
<li>execution切入点表达式()</li>
</ol>
</li>
<li>步骤<ol>
<li>依赖<ol>
<li>spring </li>
<li>spring-aspectJ</li>
</ol>
</li>
<li>spring配置文件声明对象<ol>
<li>声明目标对象</li>
<li>声明切面对象</li>
<li>声明AspectJ的自动代理生成器的标签</li>
</ol>
</li>
<li>创建接口和实现类</li>
<li>创建切面类@Aspect</li>
<li>通过注解配置切面类的<ol>
<li>切入点</li>
<li>切入时间</li>
</ol>
</li>
<li>通过springCotext.getBean()就获得了代理类</li>
</ol>
</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>spring总结</title>
    <url>/2022/03/08/spring/spring%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<p>[toc]</p>
<p><a href="https://mp.weixin.qq.com/s/NWwl2XrIAWT7TuTf1yBMaw">参考</a></p>
<ol>
<li>IOC  = 工厂模式 + XML + 反射</li>
<li>IOC = Bean+Component</li>
<li>DI ,  AOP ，事务</li>
<li></li>
</ol>
<h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><ol>
<li>轻量、<ol>
<li>需要写的代码少</li>
<li>Spring框架只有1MB多的JAR文件</li>
</ol>
</li>
<li>易扩展</li>
<li>方便集成第三方(框架的框架)</li>
<li>解耦,IOC已经管理了类</li>
</ol>
<h2 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h2><h3 id="Data"><a href="#Data" class="headerlink" title="Data"></a>Data</h3><h3 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h3><h3 id="IOC"><a href="#IOC" class="headerlink" title="IOC"></a>IOC</h3><h4 id="Bean"><a href="#Bean" class="headerlink" title="Bean"></a>Bean</h4><h4 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h4>]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/spring/spring%E6%8E%A5%E5%8F%A3/</url>
    <content><![CDATA[<h3 id="1-InitializingBean"><a href="#1-InitializingBean" class="headerlink" title="1. InitializingBean"></a>1. InitializingBean</h3><ol>
<li>afterProperies(){//加载配置文件后}</li>
</ol>
<h3 id="2-FactoryBean"><a href="#2-FactoryBean" class="headerlink" title="2. FactoryBean"></a>2. FactoryBean</h3><ol>
<li><p>FactoryBean与BeanFactory</p>
<ul>
<li>FactoryBean是一个工厂Bean，可以生成某一个类型Bean实例，它最大的一个作用是：可以让我们自定义Bean的创建过程,需要与@Component共同使用</li>
<li>BeanFactory是Spring容器中的一个基本类也是很重要的一个类，在BeanFactory中可以创建和管理Spring容器中的Bean，它对于Bean的创建有一个统一的流程。下面我们先看一下FactoryBean中有什么东西：</li>
</ul>
</li>
<li><p>方法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">FactoryBean</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">//返回的对象实例</span></span><br><span class="line">    <span class="function">T <span class="title">getObject</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>;</span><br><span class="line">    <span class="comment">//Bean的类型</span></span><br><span class="line">    Class&lt;?&gt; getObjectType();</span><br><span class="line">    <span class="comment">//true是单例，false是非单例  在Spring5.0中此方法利用了JDK1.8的新特性变成了default方法，返回true</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isSingleton</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li></li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>spring新特性</title>
    <url>/2022/03/08/spring/spring%E6%96%B0%E7%89%B9%E6%80%A7/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="一、spring5"><a href="#一、spring5" class="headerlink" title="一、spring5"></a>一、spring5</h3><h3 id="二、spring4"><a href="#二、spring4" class="headerlink" title="二、spring4"></a>二、spring4</h3><p>JavaConfig</p>
<h3 id="三、spring3"><a href="#三、spring3" class="headerlink" title="三、spring3"></a>三、spring3</h3><h4 id="spring3-1"><a href="#spring3-1" class="headerlink" title="spring3.1"></a>spring3.1</h4><p> @Profile @ActiveProfiles(“dev”)   多配置文件选择</p>
<p>@PropertySource自定义配置文件</p>
<h3 id="四、spring2"><a href="#四、spring2" class="headerlink" title="四、spring2"></a>四、spring2</h3><h3 id="五、spring1"><a href="#五、spring1" class="headerlink" title="五、spring1"></a>五、spring1</h3>]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>spring概念解析</title>
    <url>/2022/03/08/spring/spring%E6%A6%82%E5%BF%B5/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、基本概念"><a href="#一、基本概念" class="headerlink" title="一、基本概念"></a>一、基本概念</h2><blockquote>
<p>Spring是</p>
</blockquote>
<h3 id="1-核心"><a href="#1-核心" class="headerlink" title="1. 核心"></a>1. 核心</h3><ol>
<li><p>IOC 控制反转</p>
<ol>
<li>DI 依赖注入</li>
</ol>
</li>
<li><p>AOP 面向切面</p>
<ol>
<li>proxy 代理</li>
</ol>
</li>
</ol>
<h3 id="2-优点"><a href="#2-优点" class="headerlink" title="2. 优点"></a>2. 优点</h3><ol>
<li><p>降低组件之间的耦合度（互相依赖）</p>
</li>
<li><p>方便开发，降低复杂度: 提供了很多已经实现的辅佐组件</p>
</li>
<li><p>提供了AOP技术，利用它很容易实现如权限拦截，运行期监控等功能 </p>
</li>
<li><p>IOC技术容器提供单例模式支持，开发人员不需要自己编写实现代码.</p>
</li>
<li><p>方便整合其他框架</p>
</li>
<li><p>spring源码是</p>
</li>
<li><p>方便事务操作</p>
</li>
</ol>
<h2 id="二、IOC-控制反转"><a href="#二、IOC-控制反转" class="headerlink" title="二、IOC(控制反转)"></a>二、IOC(控制反转)</h2><h3 id="1-IOC介绍"><a href="#1-IOC介绍" class="headerlink" title="1. IOC介绍"></a>1. IOC介绍</h3><ol>
<li><p>平常</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Person s=<span class="keyword">new</span> Person();<span class="comment">//耦合度太高</span></span><br></pre></td></tr></table></figure></li>
<li><p>现在：引入Ioc，将创建对象的控制权交给spring的ioc，如果需要使用，就用DI(依赖注入)@Autowired.</p>
</li>
</ol>
<span id="more"></span>

<ol start="3">
<li><p>优点：集中管理对象，方便维护，降低了耦合度。</p>
</li>
<li><p>IOC和DI区别</p>
<ol>
<li><p>ioc控制了对象创建的权力。</p>
</li>
<li><p>di是ioc的实现的一步骤。</p>
</li>
</ol>
</li>
<li><p>哪些类放入ioc</p>
<ol>
<li>放入：工具类，dao,service,controller</li>
<li>不放人：实体类，servlet,listener,filter</li>
</ol>
</li>
</ol>
<h3 id="2-IOC配置Bean"><a href="#2-IOC配置Bean" class="headerlink" title="2. IOC配置Bean"></a>2. IOC配置Bean</h3><ol>
<li><p>xml配置：&lt;bean class:path&gt;</p>
<ol>
<li><p>属性</p>
<ol>
<li>set +&lt;properity name value&gt;</li>
<li>set+&lt;properity name ref&gt;</li>
<li>构造注入：&lt;constructor-arg&gt;+index</li>
</ol>
</li>
<li><p>代码</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;aa&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.example.spring_tech.entity.user&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span><span class="attr">value</span>=<span class="string">&quot;11222&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>注解@Component(@Controller,@Service,@Repostory)</p>
</li>
<li><p>javaConfig:@Configtursion+@Bean，这像是自己实现的ioc，更灵活。</p>
</li>
<li><p>@import</p>
</li>
</ol>
<h3 id="3-IOC获取Bean"><a href="#3-IOC获取Bean" class="headerlink" title="3. IOC获取Bean"></a>3. IOC获取Bean</h3><p>ioc两种获取(接口)</p>
<ul>
<li><p>BeanFactory 内置</p>
<ul>
<li>懒加载，加载配置文件不会创建对象，只有getBean才会创建bean，</li>
</ul>
</li>
<li><p>ApplicationContext </p>
<ul>
<li>饿汉式，加载配置文件的时候就会创建对象</li>
<li>实现类</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ApplicationContext ioc=<span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;/config/beans.xml&quot;</span>);</span><br><span class="line">Student mybean = (Student) ioc.getBean(<span class="string">&quot;mybean&quot;</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="4-ioc原理"><a href="#4-ioc原理" class="headerlink" title="4. ioc原理"></a>4. ioc原理</h3><ol>
<li><p>简单工厂+反射</p>
</li>
<li><p>code:beanfactory.getBean+(强制类型转换+Class.forName) </p>
</li>
<li><p>ioc实现原理DI技术–&gt;map.put(name,new)</p>
</li>
<li><p>ioc的对象是创建ioc的时候一起同时创建的，不是启动时创建的，也不是使用的时候创建的。</p>
</li>
</ol>
<h3 id="5-紧耦合-松耦合-DIP"><a href="#5-紧耦合-松耦合-DIP" class="headerlink" title="5.紧耦合 松耦合(DIP)"></a>5.紧耦合 松耦合(DIP)</h3><ol>
<li>紧耦合：类之间的高度依赖</li>
<li>松耦合：单一职责原则–&gt;接口分离原则–&gt;依赖倒置原则。</li>
</ol>
<h2 id="二、Bean"><a href="#二、Bean" class="headerlink" title="二、Bean"></a>二、Bean</h2><h3 id="1-bean概念"><a href="#1-bean概念" class="headerlink" title="1. bean概念"></a>1. bean概念</h3><h4 id="2-1-IOC-bean-行为"><a href="#2-1-IOC-bean-行为" class="headerlink" title="2.1 IOC bean 行为"></a>2.1 IOC bean 行为</h4><h5 id="1-Bean注册"><a href="#1-Bean注册" class="headerlink" title="1. Bean注册"></a>1. Bean注册</h5><blockquote>
<p>@Component , @Repository , @ Controller , @Service , @Configration这些注解都是把你要实例化的对象转化成一个Bean，放在IoC容器中，等你要用的时候，它会和上面的@Autowired , @Resource配合到一起，把对象、属性、方法完美组装。</p>
</blockquote>
<h5 id="2-依赖注入"><a href="#2-依赖注入" class="headerlink" title="2. 依赖注入"></a>2. 依赖注入</h5><blockquote>
<p>   @Autowired , @Resource，可以通过byTYPE（@Autowired）、byNAME（@Resource）的方式获取Bean；</p>
</blockquote>
<ol>
<li> 依赖注入的优点</li>
</ol>
<p>   如果没有DI，那么每次都有需要 xmlApplication.getBean()来获取bean</p>
<ol start="2">
<li><p>使用</p>
<ol>
<li><p>通过setter</p>
<p>普通：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;UserService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.example.spring_tech.service.UserServiceImpl&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userMapper&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userMapper&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>p命名空间</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;UserService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.example.spring_tech.service.UserServiceImpl&quot;</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">p:userMapper-ref</span>=<span class="string">&quot;userMapper&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>通过构造方法</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;UserService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.example.spring_tech.service.UserServiceImpl&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;userMapper&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userMapper&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h3 id="2-2-Bean属性"><a href="#2-2-Bean属性" class="headerlink" title="2.2 Bean属性"></a>2.2 Bean属性</h3><ol>
<li>bean元素:使用该元素描述需要spring容器管理对象</li>
<li>name属性:给被管理的对象起个名字,获得对象时getBean(“name值”)</li>
<li>Class/Type属性:被管理对象的完整类名  </li>
<li>id属性:与name属性一模一样，名称不可重复，不能使用特殊字符</li>
</ol>
<h3 id="2-bean加载过程"><a href="#2-bean加载过程" class="headerlink" title="2. bean加载过程"></a>2. bean加载过程</h3><h3 id="3-bean生命周期"><a href="#3-bean生命周期" class="headerlink" title="3. bean生命周期"></a>3. bean生命周期</h3><h5 id="3-1-scope属性"><a href="#3-1-scope属性" class="headerlink" title="3.1 scope属性"></a>3.1 scope属性</h5><blockquote>
<p>​    绝大多数情况下，使用单例singleton(默认值)，但是在与struts整合时候，务必要用prototype多例，因为struts2在每次请求都会创建一个新的Action，若为单例，在多请求情况下，每个请求找找spring拿的都是同一个action。</p>
</blockquote>
<ol>
<li>singleton   默认值<br>单例对象   :被标识为单例的对象在spring容器中只会存在一个实例</li>
<li>prototype<br>多例原型:被标识为多例的对象,每次在获得才会被创建,每次创建都是新的对象</li>
<li>request<br>Web环境下,对象与request生命周期一致    </li>
<li>session<br>Web环境下,对象与session生命周期一致</li>
</ol>
<h3 id="4-java-bean-和spring-bean的区别"><a href="#4-java-bean-和spring-bean的区别" class="headerlink" title="4.java bean 和spring bean的区别"></a>4.java bean 和spring bean的区别</h3><ol>
<li>由spring ioc实例化，管理的对象叫做bean.</li>
<li>java bean 是new出来的</li>
<li>都有getter setter</li>
</ol>
<h3 id="5-bean实例化方式"><a href="#5-bean实例化方式" class="headerlink" title="5. bean实例化方式"></a>5. bean实例化方式</h3><ol>
<li><p>无参构造</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userMapper&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.wyg.mapper.UserMapperImpl&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>这样的话就可以通过context获得bean，内部用的是无参构造</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ClassPathXmlApplicationContext app=<span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;applicationConfig.xml&quot;</span>);</span><br><span class="line">Object userMapper = app.getBean(<span class="string">&quot;userMapper&quot;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>工厂静态方法</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userMapper&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.wyg.factory.StaticFactory&quot;</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">factory-mothon</span>=<span class="string">&quot;getUserMapper&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>这样就可以在创建mapper之前多做些事情(传入参数)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> UserMapper <span class="title">getUserMapper</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//do something</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> UserMapper(args);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>工厂实例方法</p>
</li>
</ol>
<h2 id="四、AOP"><a href="#四、AOP" class="headerlink" title="四、AOP"></a>四、AOP</h2><blockquote>
<p>​    aop就是将动态代理规范化，约定大于配置。</p>
</blockquote>
<h3 id="1-动态代理"><a href="#1-动态代理" class="headerlink" title="1.动态代理"></a>1.动态代理</h3><ol>
<li><p>作用：创建对象，不改变类的情况下实现功能增强。</p>
</li>
<li><p>两种实现方式：</p>
<ol>
<li>JDK<ol>
<li>要求目标类有接口</li>
<li>若没有接口。可用CGlib，</li>
</ol>
</li>
<li>Proxy</li>
</ol>
</li>
</ol>
<h3 id="2-AOP四要素"><a href="#2-AOP四要素" class="headerlink" title="2. AOP四要素"></a>2. AOP四要素</h3><ol>
<li><p>aspect:切面，增强的功能的代码。</p>
<p>三要素：</p>
<ol>
<li>功能代码函数def doLog()</li>
<li>代码位置(切入点)，一般就是业务代码函数。execution(path.def)</li>
<li>执行时间（before/after）</li>
</ol>
</li>
<li><p>joinpoint:连接点，业务代码。</p>
</li>
<li><p>pointCut切入点,连接点的结合</p>
</li>
<li><p>advice 通知，表示切面功能执行的时间</p>
</li>
</ol>
<h3 id="3-AOP实现"><a href="#3-AOP实现" class="headerlink" title="3. AOP实现"></a>3. AOP实现</h3><ol>
<li>spring,事务处理常用aop（代码多，不常用）</li>
<li>aspectJ:专业aop框架。spring集成了这个框架。<ol>
<li>xml实现：用于事务</li>
<li>注解实现：常见环境下都用注解。<ol>
<li>@Before</li>
<li>@AfterReturn</li>
<li>@Around</li>
<li>@AfterThrowing</li>
<li>@After</li>
</ol>
</li>
<li>切入点表达式execution(public pString]* [com.wyg.user.]getName(..)* exception)</li>
</ol>
</li>
</ol>
<h3 id="4-AOP实现步骤"><a href="#4-AOP实现步骤" class="headerlink" title="4. AOP实现步骤:"></a>4. AOP实现步骤:</h3><ol>
<li><p>加入依赖spring,aspect</p>
</li>
<li><p>创建目标类(接口，实现)</p>
</li>
<li><p>创建切面类</p>
<ol>
<li>加如@aspect</li>
<li>定义增强功能方法，并在方法上加入注解</li>
</ol>
</li>
<li><p>创建spring配置文件：声明对象，交予ioc管理  加入aop标志生成代理类<a href="aop:aspectj-autoproxy/">aop:aspectj-autoproxy/</a>。</p>
</li>
<li><p>xml配最后的<strong>自动代理生成器</strong>标志还是牵线人进行切面类和目标类.业务函数的联系。</p>
</li>
<li><p>execution简化</p>
<ol>
<li>去掉public</li>
<li>用*..</li>
<li>..代替arg</li>
<li>do*代替业务函数</li>
</ol>
</li>
</ol>
<h3 id="spring使用步骤"><a href="#spring使用步骤" class="headerlink" title="spring使用步骤"></a>spring使用步骤</h3><ol>
<li>依赖denpendcy</li>
<li>创建类，dao,service,controller</li>
<li>创建配置文件<bean></li>
<li>创建容器对象ClassPathXmlAppicationContext.getBean()</li>
</ol>
<h4 id="集成mybatis"><a href="#集成mybatis" class="headerlink" title="集成mybatis"></a>集成mybatis</h4><ol>
<li><p>mybatis步骤</p>
<ol>
<li><p>创建对象dao</p>
</li>
<li><p>mapper.xml</p>
</li>
<li><p>创建代理</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//创建工厂</span></span><br><span class="line"><span class="comment">//xml实现</span></span><br><span class="line">String resource = <span class="string">&quot;org/mybatis/example/mybatis-config.xml&quot;</span>;</span><br><span class="line">InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">SqlSessionFactory sqlSessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line"></span><br><span class="line"><span class="comment">//java实现</span></span><br><span class="line">DataSource dataSource = BlogDataSourceFactory.getBlogDataSource();</span><br><span class="line">TransactionFactory transactionFactory = <span class="keyword">new</span> JdbcTransactionFactory();</span><br><span class="line">Environment environment = <span class="keyword">new</span> Environment(<span class="string">&quot;development&quot;</span>, transactionFactory, dataSource);</span><br><span class="line">Configuration configuration = <span class="keyword">new</span> Configuration(environment);</span><br><span class="line">configuration.addMapper(BlogMapper.class);</span><br><span class="line">SqlSessionFactory sqlSessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(configuration);</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取sqlsession</span></span><br><span class="line">SqlSession session = sqlSessionFactory.openSession()</span><br><span class="line"><span class="comment">//创建mapper实例</span></span><br><span class="line">UserMapper mapper = session.getMapper(UserMapper.class);</span><br></pre></td></tr></table></figure></li>
<li><p>mybatis步骤</p>
<ol>
<li><p>依赖mysql-connector-java mybatis</p>
</li>
<li><p>mybatis.config.xml </p>
<ol>
<li>&lt;dataSource&gt;&lt;driver,url,username,password&gt;</li>
<li>&lt;mappers&gt;&lt;mapper resource=”com.wyg.mapper.*.xml”&gt;</li>
</ol>
</li>
<li><p>mapper.xml—-&gt;&lt;select,insert&gt;</p>
</li>
<li><p>javaTest</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>创建文件流</span><br><span class="line">in=org.apache.ibatis.io.Resources.getResourceAsStream(<span class="string">&quot;.xml&quot;</span>);</span><br><span class="line"><span class="number">2.</span>创建工厂</span><br><span class="line">SqlSessionFactory factory=<span class="keyword">new</span> SqlSessionFactoryBuilder().build(in);</span><br><span class="line"><span class="number">3.</span>创建session</span><br><span class="line">SqlSession sqlsession=factory.openSession();</span><br><span class="line"><span class="number">4.</span>创建mapper</span><br><span class="line">UserMapper userMapper=sqlSession.getMapper(UserMapper.class);</span><br><span class="line"><span class="number">5.</span>调用mapper</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li></li>
</ol>
</li>
</ol>
<h3 id="常用注解"><a href="#常用注解" class="headerlink" title="常用注解"></a>常用注解</h3><ol>
<li><p>@Componet —-&gt;一个bean</p>
</li>
<li><p>@Configration —&gt;一本beans，一堆bean</p>
</li>
<li><p>@Bean—&gt;一个生成bean的方法，若干个@Bean常放在@Configration/@Component中，可以加载Conponent不能加载的自定义类。</p>
</li>
<li><p>bean的各个注解</p>
</li>
<li><p>MapperScan:执行类上加入@MapperScan(“com.example.springsecruity.mapper”)</p>
<p>需要加入依赖</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">mybatis-spring-boot-starter</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h3><ol>
<li><p>mysql</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>mybatis</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--mybatis-plus--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- velocity 模板引擎, Mybatis Plus 代码生成器需要 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.velocity<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>velocity-engine-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>spring</p>
</li>
<li><p>springBoot</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>springCloud</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--服务注册nacos--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-discovery<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-ribbon<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--服务调用--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-openfeign<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--hystrix依赖，主要是用  @HystrixCommand --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-hystrix<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">       </span><br></pre></td></tr></table></figure></li>
<li><p>swagger</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--swagger--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>单元测试</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>json数据转换</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.code.gson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>gson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="alibaba依赖"><a href="#alibaba依赖" class="headerlink" title="alibaba依赖"></a>alibaba依赖</h4><ol>
<li><p>oss</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.aliyun.oss<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aliyun-sdk-oss<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>视频点播</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.aliyun<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aliyun-java-sdk-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>easyExcel</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>easyexcel<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>json</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.aliyun<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aliyun-java-sdk-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        &lt;/dependency</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>vue</title>
    <url>/2022/03/08/%E5%89%8D%E7%AB%AF/vue/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="一、组件化"><a href="#一、组件化" class="headerlink" title="一、组件化"></a>一、组件化</h3><ol>
<li><p>传统方式</p>
<ol>
<li>每个部位都需要引入一个css,js文件<ul>
<li>代码复用率低</li>
<li>依赖关系混乱，各个js组件还会互相引入</li>
</ul>
</li>
</ol>
</li>
<li><p>组件步骤</p>
<ol>
<li><p>创建组件 </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> student = Vue.extend(&#123;  </span><br><span class="line">    <span class="attr">template</span>:<span class="string">`   </span></span><br><span class="line"><span class="string">				&lt;div&gt;</span></span><br><span class="line"><span class="string">					&lt;h2&gt;学生姓名：&#123;&#123;studentName&#125;&#125;&lt;/h2&gt;</span></span><br><span class="line"><span class="string">					&lt;h2&gt;学生年龄：&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span></span><br><span class="line"><span class="string">				&lt;/div&gt;</span></span><br><span class="line"><span class="string">			`</span>,<span class="comment">//组件模板(结构样式)</span></span><br><span class="line">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">studentName</span>:<span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">            <span class="attr">age</span>:<span class="number">18</span></span><br><span class="line">        &#125;    <span class="comment">//组件数据</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li><p>注册组件</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;hello&#x27;</span>,hello)<span class="comment">//全局组件</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;  <span class="comment">//局部组件</span></span><br><span class="line">    <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>:&#123;</span><br><span class="line">        <span class="attr">msg</span>:<span class="string">&#x27;你好啊！&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//第二步：注册组件（局部注册）</span></span><br><span class="line">    <span class="attr">components</span>:&#123;</span><br><span class="line">        school,</span><br><span class="line">        student</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li><p>使用组件</p>
</li>
</ol>
</li>
</ol>
<h3 id="二、单文件组件"><a href="#二、单文件组件" class="headerlink" title="二、单文件组件"></a>二、单文件组件</h3><ol>
<li><p>代码</p>
</li>
<li><p>只支持三种标签</p>
<ol>
<li><blockquote>
<p>模板 </template></p>
</blockquote>
</li>
<li><blockquote>
<p>业务代码<script></p>
</blockquote>
</li>
<li><blockquote>
<p>样式<style></p>
</blockquote>
</li>
</ol>
</li>
<li><p>props和data区别</p>
<ol>
<li><p>props是tag的attrs</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;Student name=<span class="string">&quot;李四&quot;</span> sex=<span class="string">&quot;女&quot;</span> :age=<span class="string">&quot;18&quot;</span>/&gt;  <span class="comment">//其中:是动态绑定，也就是说:后面是一个vue表达式excp，@click()h</span></span><br></pre></td></tr></table></figure></li>
<li><p>相同点，都可以用vm.name获得</p>
</li>
<li><p>props是传进来的，不能修改，对于需要修改的props，可以使用data辅助</p>
</li>
<li><p>props和data的变量名不能相同，data的优先级&gt;props</p>
</li>
</ol>
</li>
<li><p>mixin混合</p>
<blockquote>
<p>就是把两个vue混合到一起，继承的一种变形</p>
</blockquote>
<ul>
<li>全局混合，在app.vue中import，那么每个新的vue文件都会混合这个import的vm</li>
</ul>
</li>
<li><p>render: h =&gt; h(App)</p>
<p>  其中render函数是一个vue的默认命名，vue会调用这个函数，传入一个h，这个h是另一个函数，h函数的作用是渲染vue文件或者其他标签。</p>
</li>
<li><p>过滤器—&gt;管道符的承载</p>
</li>
<li><p>组件间通信</p>
<p>1. </p>
</li>
</ol>
<h3 id="三、vue里面的后端理念"><a href="#三、vue里面的后端理念" class="headerlink" title="三、vue里面的后端理念"></a>三、vue里面的后端理念</h3><ol>
<li>代理getter,setter</li>
<li>data单例/多例模式<ol>
<li>写成data{}就是单例模式，任意一个vue改变值，全部的vue都会改变</li>
<li>写成data(){return}就是多例，每次使用都是返回新的。</li>
</ol>
</li>
</ol>
<h3 id="组件间通信"><a href="#组件间通信" class="headerlink" title="组件间通信"></a>组件间通信</h3><ol>
<li>父传子： props</li>
<li>子传父：父define f(data)  —&gt;props(f)—&gt;子调用f传入data</li>
</ol>
<h4 id="全局组件通信"><a href="#全局组件通信" class="headerlink" title="全局组件通信"></a>全局组件通信</h4><h3 id="四、组件自定义事件"><a href="#四、组件自定义事件" class="headerlink" title="四、组件自定义事件"></a>四、组件自定义事件</h3><ol>
<li></li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>Canal</title>
    <url>/2022/03/10/%E5%88%86%E5%B8%83%E5%BC%8F/Canal/</url>
    <content><![CDATA[<h3 id="技术"><a href="#技术" class="headerlink" title="技术"></a>技术</h3><ol>
<li>kafka</li>
<li>zookeeper</li>
<li>mysql</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>docker</title>
    <url>/2022/03/08/%E5%88%86%E5%B8%83%E5%BC%8F/docker/</url>
    <content><![CDATA[<h3 id="docker本身"><a href="#docker本身" class="headerlink" title="docker本身"></a>docker本身</h3><ol>
<li><p>启动</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">systemctl start docker </span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="镜像"><a href="#镜像" class="headerlink" title="镜像"></a>镜像</h3><ol>
<li><p>查看镜像</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure></li>
<li><p>查找镜像</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">docker search 镜像名称</span><br></pre></td></tr></table></figure></li>
<li><p>从docker.hub拉取远程镜像</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">docker pull redis:<span class="number">3.4</span></span><br></pre></td></tr></table></figure></li>
<li><p>删除镜像</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">docker rmi 镜像id / 删除指定本地镜像</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="远程仓库"><a href="#远程仓库" class="headerlink" title="远程仓库"></a>远程仓库</h3><h3 id="容器"><a href="#容器" class="headerlink" title="容器"></a>容器</h3><ol>
<li><p>创建/启动容器</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -it --name=c1 redis:5 /bin/bash # -id创建不会直接进入，-it会进入，退出也会直接exit</span><br><span class="line">docker run -it -p 9000:8080 app # 用9000映射8080i</span><br></pre></td></tr></table></figure></li>
<li><p>查看容器</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">docker ps # 查看正在运行的容器</span><br><span class="line">docker ps –a # 查看所有容器</span><br></pre></td></tr></table></figure></li>
<li><p>进入容器</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">docker exec -it name /bin/bash</span><br></pre></td></tr></table></figure></li>
<li><p>停止/启动</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">docker stop name</span><br><span class="line">docker start name</span><br></pre></td></tr></table></figure></li>
<li><p>删除</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">docker -rm name</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="数据卷"><a href="#数据卷" class="headerlink" title="数据卷"></a>数据卷</h3><h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h4><ol>
<li><p>数据卷是宿主机中的一个目录或文件</p>
</li>
<li><p>当容器目录和数据卷目录绑定后，对方的修改会立即同步</p>
</li>
<li><p>一个数据卷可以被多个容器同时挂载</p>
</li>
<li><p>一个容器也可以被挂载多个数据卷</p>
</li>
</ol>
<h4 id="数据卷作用"><a href="#数据卷作用" class="headerlink" title="数据卷作用"></a>数据卷作用</h4><ol>
<li>容器数据持久化</li>
<li>外部机器和容器间通信</li>
<li>容器之间通信</li>
</ol>
<h4 id="数据卷操作"><a href="#数据卷操作" class="headerlink" title="数据卷操作"></a>数据卷操作</h4><ol>
<li><p>创建数据卷 /v</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">docker run -it --name=c1 –v ~/java:/root/test imageName  </span><br></pre></td></tr></table></figure>

<ol>
<li>目录必须是绝对路径</li>
<li> 如果目录不存在，会自动创建</li>
<li>可以挂载多个数据卷 </li>
</ol>
</li>
</ol>
<h4 id="数据卷容器"><a href="#数据卷容器" class="headerlink" title="数据卷容器"></a>数据卷容器</h4><ol>
<li><p>创建数据卷容器 -v /volume</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">docker run –it --name=c3 –v /volume centos:<span class="number">7</span> /bin/bash </span><br></pre></td></tr></table></figure></li>
<li><p>创建容器并挂载   –volumes-from c3</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">docker run –it --name=c1 --volumes-from c3 centos:<span class="number">7</span> /bin/bash</span><br><span class="line">docker run –it --name=c2 --volumes-from c3 centos:<span class="number">7</span> /bin/bash  </span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="docker安装软件"><a href="#docker安装软件" class="headerlink" title="docker安装软件"></a>docker安装软件</h3><h4 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h4><ol>
<li><p>搜索镜像</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">docker search mysql</span></span><br></pre></td></tr></table></figure></li>
<li><p>拉取镜像</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">docker</span> pull mysql:<span class="number">5</span>.<span class="number">7</span></span><br></pre></td></tr></table></figure></li>
<li><p>创建容器</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mkdir mysql</span><br><span class="line">cd mysql</span><br><span class="line">docker run -id -p 3307:3306 -v $PWD/conf:/etc/mysql/conf.d -v $PWD/logs:/logs \</span><br><span class="line">-v $PWD/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=root mysql:5.7</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h4><h4 id="redis"><a href="#redis" class="headerlink" title="redis"></a>redis</h4><h4 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h4><h3 id="dockerFile–-gt-指令文件"><a href="#dockerFile–-gt-指令文件" class="headerlink" title="dockerFile–&gt;指令文件"></a>dockerFile–&gt;指令文件</h3><ol>
<li><p>dockerfile语法</p>
</li>
<li><p>dickerfile 构建镜像</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">docker build -f app.jar -t appName:version</span><br><span class="line"># -f 指定df路径  -t指定新的镜像的名字和版本</span><br></pre></td></tr></table></figure></li>
<li><p>镜像启动（创建容器）</p>
</li>
</ol>
<h3 id="docker-compose-服务编排"><a href="#docker-compose-服务编排" class="headerlink" title="docker compose 服务编排"></a>docker compose 服务编排</h3><blockquote>
<p>按照一定规则批量管理容器</p>
<p>比如 定义启动顺序，</p>
</blockquote>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ol>
<li><p>容器转换成镜像</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">docker commit id name:version</span><br></pre></td></tr></table></figure></li>
<li><p>压缩</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">docker</span> </span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="docker镜像原理"><a href="#docker镜像原理" class="headerlink" title="docker镜像原理"></a>docker镜像原理</h4><ol>
<li>docker镜像其实是一个文件层次系统</li>
<li></li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>hadoop的启动</title>
    <url>/2022/03/08/%E5%88%86%E5%B8%83%E5%BC%8F/hadoop%E5%90%AF%E5%8A%A8/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、-基本环境"><a href="#一、-基本环境" class="headerlink" title="一、 基本环境"></a>一、 基本环境</h2><ol>
<li><p>获取主机名字 master、s1、s2</p>
</li>
<li><p>时钟同步</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="regexp">/usr/</span>sbin/ntpdate cn.pool.ntp.org</span><br></pre></td></tr></table></figure></li>
<li><p>关闭防火墙</p>
<figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line">systemctl stop firewalld.service</span><br></pre></td></tr></table></figure>

<span id="more"></span></li>
<li><p>编辑host 以对应ping 如：</p>
<figure class="highlight accesslog"><table><tr><td class="code"><pre><span class="line"><span class="number">10.42.0.93</span> master</span><br><span class="line"><span class="number">10.42.0.94</span> slave01</span><br><span class="line"><span class="number">10.42.0.95</span> slave02</span><br></pre></td></tr></table></figure></li>
<li><p>测试ping是否成功</p>
<figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">ping <span class="keyword">master</span> <span class="title">-c</span> <span class="number">3</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="二、联机"><a href="#二、联机" class="headerlink" title="二、联机"></a>二、联机</h2><ol>
<li><p>生成公钥</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">ssh-keygen -t rsa</span></span><br></pre></td></tr></table></figure></li>
<li><p>公钥备份文件</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line">cat ~<span class="regexp">/.ssh/i</span>d_rsa.pub &gt;&gt; ~<span class="regexp">/.ssh/</span>authorized_keys</span><br></pre></td></tr></table></figure></li>
<li><p>修改文件权限</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line">chmod <span class="number">600</span> ~<span class="regexp">/.ssh/</span>authorized_keys</span><br></pre></td></tr></table></figure></li>
<li><p>将专用密钥添加到 ssh-agent 的高速缓存中</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line">ssh-add ~<span class="regexp">/.ssh/i</span>d_rsa</span><br></pre></td></tr></table></figure></li>
<li><p>公钥转移到其他机器</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line">scp ~<span class="regexp">/.ssh/</span>authorized_keys zkpk<span class="meta">@slave01</span>:~<span class="regexp">/.ssh/</span></span><br></pre></td></tr></table></figure></li>
<li><p>其他机器也生成密钥</p>
</li>
<li><p>测试远程   ssh s1</p>
</li>
</ol>
<h2 id="三、安装java"><a href="#三、安装java" class="headerlink" title="三、安装java"></a>三、安装java</h2><ol>
<li><p>root下解压</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">tar -xzvf <span class="regexp">/home/</span>zkpk<span class="regexp">/tgz/</span>jdk-<span class="number">8</span>u131-linux-x64.tar.gz -C <span class="regexp">/usr/</span>java</span><br></pre></td></tr></table></figure></li>
<li><p>修改环境变量</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">gedit <span class="regexp">/home/</span>zkpk/.bash_profile</span><br><span class="line">	export JAVA_HOME=<span class="regexp">/usr/</span>java<span class="regexp">/jdk1.8.0_131/</span></span><br><span class="line">	export PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line">source <span class="regexp">/home/</span>zkpk/.bash_profile</span><br></pre></td></tr></table></figure></li>
<li><p>其他机器同样安装</p>
</li>
<li><p>测试java：java -version</p>
</li>
</ol>
<h2 id="四、安装hadoop"><a href="#四、安装hadoop" class="headerlink" title="四、安装hadoop"></a>四、安装hadoop</h2><ol>
<li><p>解压</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">tar -xzvf <span class="regexp">/home/</span>zkpk<span class="regexp">/tgz/</span>hadoop-<span class="number">2.7</span>.<span class="number">3</span>.tar.gz –C <span class="regexp">/home/</span>zkpk</span><br></pre></td></tr></table></figure></li>
<li><p>修改java环境变量</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">gedit <span class="regexp">/home/</span>zkpk<span class="regexp">/hadoop-2.7.3/</span>etc<span class="regexp">/hadoop/</span>hadoop-env.sh</span><br><span class="line"> 	export JAVA_HOME=<span class="regexp">/usr/</span>java<span class="regexp">/jdk1.8.0_131/</span></span><br><span class="line">gedit ~<span class="regexp">/hadoop-2.7.3/</span>etc<span class="regexp">/hadoop/y</span>arn-env.sh</span><br><span class="line">	export JAVA_HOME=<span class="regexp">/usr/</span>java<span class="regexp">/jdk1.8.0_131/</span></span><br></pre></td></tr></table></figure></li>
<li><p>其他配置</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">1.配置core-site.xml 文件</span><br><span class="line">gedit  ~/hadoop-2.7.3/etc/hadoop/core-site.xml</span><br><span class="line">	<span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line">    <span class="meta">&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;configuration.xsl&quot;?&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Put site-specific property overrides in this file. --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">name</span>&gt;</span>fs.defaultFS<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">value</span>&gt;</span>hdfs://master:9000<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.tmp.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">value</span>&gt;</span>/home/zkpk/hadoopdata<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">2.配置hdfs-site.xml文件</span><br><span class="line">gedit  ~/hadoop-2.7.3/etc/hadoop/hdfs-site.xml</span><br><span class="line">    <span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line">    <span class="meta">&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;configuration.xsl&quot;?&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Put site-specific property overrides in this file. --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.replication<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>2<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">3.配置yarn-site.xml文件</span><br><span class="line">gedit  ~/hadoop-2.7.3/etc/hadoop/yarn-site.xml</span><br><span class="line">    <span class="meta">&lt;?xml version=&quot;1.0&quot;?&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.aux-services<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>mapreduce_shuffle<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.resourcemanager.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>master:18040<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.resourcemanager.scheduler.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>master:18030<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.resourcemanager.resource-tracker.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>master:18025<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.resourcemanager.admin.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>master:18141<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.resourcemanager.webapp.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>master:18088<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">4.配置mapred-site.xml文件</span><br><span class="line">cp ~/hadoop-2.7.3/etc/hadoop/mapred-site.xml.template  ~/hadoop-2.7.3/etc/hadoop/mapred-site.xml</span><br><span class="line">gedit ~/hadoop-2.7.3/etc/hadoop/mapred-site.xml</span><br><span class="line">    <span class="meta">&lt;?xml version=&quot;1.0&quot;?&gt;</span></span><br><span class="line">    <span class="meta">&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;configuration.xsl&quot;?&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.framework.name<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>yarn<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>配置slaves文件</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">gedit ~<span class="regexp">/hadoop-2.7.3/</span>etc<span class="regexp">/hadoop/</span>slaves</span><br><span class="line">    slave01</span><br><span class="line">    slave02</span><br></pre></td></tr></table></figure></li>
<li><p>创建Hadoop数据目录</p>
<figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line">mkdir hadoopdata</span><br></pre></td></tr></table></figure></li>
<li><p>将配置好的hadoop文件夹复制到从节点</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">scp</span> -r hadoop-<span class="number">2</span>.<span class="number">7</span>.<span class="number">3</span> zkpk@slave<span class="number">01</span>:~/</span><br></pre></td></tr></table></figure></li>
<li><p>配置环境变量</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">gedit ~/.bash_profile</span><br><span class="line">    #HADOOP</span><br><span class="line">    <span class="builtin-name">export</span> <span class="attribute">HADOOP_HOME</span>=/home/zkpk/hadoop-2.7.3</span><br><span class="line">    <span class="builtin-name">export</span> <span class="attribute">PATH</span>=<span class="variable">$HADOOP_HOME</span>/bin:$HADOOP_HOME/sbin:$PATH</span><br><span class="line">source ~/.bash_profile</span><br></pre></td></tr></table></figure></li>
<li><p>其他机器同样配置环境变量</p>
</li>
<li><p>在master格式化磁盘</p>
<figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">hdfs namenode -<span class="built_in">format</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="五、启动检测"><a href="#五、启动检测" class="headerlink" title="五、启动检测"></a>五、启动检测</h2><ol>
<li>start-all.sh</li>
<li>jps查看</li>
<li><a href="http://master:50070/%E6%9F%A5%E7%9C%8B">http://master:50070/查看</a></li>
<li><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20210911183155100.png" alt="image-20210911183155100"></li>
</ol>
]]></content>
      <categories>
        <category>hadoop</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/%E5%88%86%E5%B8%83%E5%BC%8F/spark%E9%9B%86%E7%BE%A4%E5%90%AF%E5%8A%A8/</url>
    <content><![CDATA[<ol>
<li>开启hdfs的储存功能 start-dfs.sh</li>
<li>删除安全模式  hdfs dfsamin -safemdoe leave</li>
<li>启动spark的start-all.sh</li>
<li>启动spark-shell –master spark://master:7077</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>zookeeper</title>
    <url>/2022/03/10/%E5%88%86%E5%B8%83%E5%BC%8F/zookeeper/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>web算法</title>
    <url>/2022/03/08/%E5%BC%80%E5%8F%91/web%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<h3 id="限流算法"><a href="#限流算法" class="headerlink" title="限流算法"></a>限流算法</h3><blockquote>
<p>在开发高并发系统时，有三把利器用来保护系统：缓存、降级和限流。</p>
</blockquote>
<h4 id="计数器算法"><a href="#计数器算法" class="headerlink" title="计数器算法"></a>计数器算法</h4><p>规定1分钟1个ip只能100次请求，所有ip只能10000此请求</p>
<p>问题：用户A在00:59发送了100次请求，又在01:00发送了100次请求，这就相当于2秒内发送了200次，也可能会压垮服务器。</p>
<h4 id="滑动窗口算法"><a href="#滑动窗口算法" class="headerlink" title="滑动窗口算法"></a>滑动窗口算法</h4><p>这里的1分钟是滑动的，而非一定是00:00-01:00</p>
<h3 id="令牌桶算法"><a href="#令牌桶算法" class="headerlink" title="令牌桶算法"></a>令牌桶算法</h3><h3 id="漏桶算法"><a href="#漏桶算法" class="headerlink" title="漏桶算法"></a>漏桶算法</h3><p>规定一共只能有这么多次请求,多的请求直接被抛弃</p>
<h3 id="雪花算法"><a href="#雪花算法" class="headerlink" title="雪花算法"></a>雪花算法</h3><h2 id="二、加密算法"><a href="#二、加密算法" class="headerlink" title="二、加密算法"></a>二、加密算法</h2><h3 id="2-1-MD5算法"><a href="#2-1-MD5算法" class="headerlink" title="2.1 MD5算法"></a>2.1 <a href="https://blog.csdn.net/UtopiaOfArtoria/article/details/82429467">MD5算法</a></h3><blockquote>
<p>MD5,是一种信息摘要算法。简单来说，就是把一段信息（明文），通过一种有损的方式压缩成定长的字符（32位密文）。因为这种压缩方式是会损失信息的，所以是无法还原出“明文”的。虽然无法从数学上破解MD5算法，但由于现在计算机具备强大的计算能力，还是可以通过“穷举法”破解该算法。如果想用该算法加密，还可以通过“加盐”的方式提高解密难度。该算法允许多传一个参数”salt”,指定通过MD5加密的次数，这样是能够提高解密难度的。</p>
</blockquote>
<p><a href="https://stackoverflow.com/questions/8852668/what-is-the-clash-rate-for-md5">md5冲突概率</a></p>
<h3 id="2-2-SHA算法"><a href="#2-2-SHA算法" class="headerlink" title="2.2 SHA算法"></a>2.2 SHA算法</h3><blockquote>
<p>安全散列算法。与MD5算法的特点是一致的，SHA-1摘要比MD5摘长,长度是40位，因此更难破解。</p>
</blockquote>
<h3 id="2-3-RSA算法"><a href="#2-3-RSA算法" class="headerlink" title="2.3 RSA算法"></a>2.3 RSA算法</h3><blockquote>
<p>一种非常常用的不对称加密算法。</p>
</blockquote>
<h4 id="2-3-1-原理"><a href="#2-3-1-原理" class="headerlink" title="2.3.1 原理"></a>2.3.1 原理</h4><p>基于一个十分简单的数论事实：将两个大素数相乘十分容易，但是想要对其乘积进行因式分解却极其困难，因此可以将乘积公开作为加密密钥。</p>
<h4 id="2-3-2-场景"><a href="#2-3-2-场景" class="headerlink" title="2.3.2 场景"></a>2.3.2 场景</h4><p>java-web项目使用RSA算法加密的场景再现：</p>
<p>为每个客户(User)生成一对密钥(keyPairs)，<br>将公钥(publicKey)通过URL接口向前端公开，私钥(userId:privateKey)保存在数据库或redis中，<br>然后前端客户可以通过公钥加密自己的信息（前端用JS进行RSA公钥加密），后端通过该用户对应的私钥解析出用户信息(后端用Java进行RSA私钥解密)，再将用户信息保存在数据库。</p>
<h3 id="2-3-3-非对称加密缺陷"><a href="#2-3-3-非对称加密缺陷" class="headerlink" title="2.3.3 非对称加密缺陷"></a>2.3.3 非对称加密缺陷</h3><p>​    非对称性加密依然没有解决数据传输的安全性问题，比如A想向B发数据，B首先生成一对密钥(公钥和私钥)，然后将公钥发给A，A拿到B发给他的公钥有就可以使用公钥加密数据后发给B，然而在B公钥发送给A的这个过程中，很有可能会被第三方C截获，C截获到B的公钥后，也使用B的公钥加密数据，然后发给B，B接收到数据后就晕了，因为搞不清楚接收到的数据到底是A发的还是C发的，这是其中一个问题，另一个问题就是，C截获到B发的公钥后，C可以自己生成一对密钥(公钥和私钥)，然后发给A，A拿到公钥后就以为是B发给他的，然后就使用公钥加密数据发给B，发送给B的过程中被C截获下来，由于A是用C发给他的公钥加密数据的，而C有私钥，因此就可以解密A加密过后的内容了，而B接收到A发给他的数据后反而解不开了，因为数据是用C的公钥加密的，B没有C的私钥，所以就无法解密。</p>
<p>​    所以，非对称性加密存在一个问题：A想向B发数据，A如何确定拿到的公钥一定是B发的呢？那么如何解决这个问题呢？只能靠一个第三方机构(CA机构，即证书授权中心(Certificate Authority )，或称证书授权机构)来担保。A想向B发数据，B首先将公钥发给CA机构，CA机构拿到B的公钥后跑到B的家里问：这是你发的公钥吗？B确认过后说是：没错，是我发的！那么此时CA机构就会为B的公钥做担保，生成一份数字证书给B，数字证书包含了CA的担保认证签名和B的公钥，B拿到CA的这份数字证书后，就发给A，A拿到数字证书后，看到上有CA的签名，就可以确定当前拿到的公钥是B发的，那么就可以放心大胆地使用公钥加密数据，然后发给B了。</p>
<h3 id="2-4-Base64-非加密"><a href="#2-4-Base64-非加密" class="headerlink" title="2.4 Base64(非加密"></a>2.4 Base64(非加密</h3><h2 id="三、https连接器"><a href="#三、https连接器" class="headerlink" title="三、https连接器"></a>三、https连接器</h2><p>　　明白了互联网上的加密原理之后，下面来看看浏览器与服务器交互时，浏览器想将数据加密后再发送给服务器，那么该怎么做呢？服务器首先要向浏览器出示一份数字证书，浏览器看到数字证书后，就可以使用数字证书里面的公钥加密数据，所以要想做浏览器和服务器的加密数据传输，那么首先得针对服务器生成一份数字证书。然后再配置一下服务器，让服务器收到浏览器的请求之后，会向浏览器出示它的数字证书。</p>
]]></content>
      <categories>
        <category>开发</category>
      </categories>
  </entry>
  <entry>
    <title>数据库被黑</title>
    <url>/2022/03/08/%E5%BC%80%E5%8F%91/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A2%AB%E9%BB%91/</url>
    <content><![CDATA[<h2 id="经过"><a href="#经过" class="headerlink" title="经过"></a>经过</h2><h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><h2 id="防范"><a href="#防范" class="headerlink" title="防范"></a>防范</h2><h3 id="密码复杂化"><a href="#密码复杂化" class="headerlink" title="密码复杂化"></a>密码复杂化</h3><h3 id="数据加密"><a href="#数据加密" class="headerlink" title="数据加密"></a>数据加密</h3><h3 id="数据备份"><a href="#数据备份" class="headerlink" title="数据备份"></a>数据备份</h3><h3 id="单独数据库服务器"><a href="#单独数据库服务器" class="headerlink" title="单独数据库服务器"></a>单独数据库服务器</h3><h3 id="更改端口"><a href="#更改端口" class="headerlink" title="更改端口"></a>更改端口</h3>]]></content>
  </entry>
  <entry>
    <title>缓存</title>
    <url>/2022/03/08/%E5%BC%80%E5%8F%91/%E7%BC%93%E5%AD%98%E7%A9%BF%E9%80%8F/</url>
    <content><![CDATA[<h2 id="一、缓存穿透"><a href="#一、缓存穿透" class="headerlink" title="一、缓存穿透"></a>一、缓存穿透</h2><h3 id="1-1-缓存穿透概念"><a href="#1-1-缓存穿透概念" class="headerlink" title="1.1 缓存穿透概念"></a>1.1 缓存穿透概念</h3><blockquote>
<p>​    高并发场景下缓存的某一个key被高并发访问但没有命中，于是并发访问数据库，导致数据库并发的执行大量查询操作，对数据库造成巨大的压力</p>
</blockquote>
<h3 id="2-2-解决方案"><a href="#2-2-解决方案" class="headerlink" title="2.2 解决方案"></a>2.2 解决方案</h3><h4 id="2-2-1"><a href="#2-2-1" class="headerlink" title="2.2.1"></a>2.2.1</h4><h2 id="二、缓存击穿"><a href="#二、缓存击穿" class="headerlink" title="二、缓存击穿"></a>二、缓存击穿</h2><blockquote>
<p>​    一个key非常热点，在不停的扛着大并发，大并发集中对这一个点进行访问，当这个key在失效的瞬间，持续的大并发就穿破缓存，直接请求数据库，就像在一个屏障上凿开了一个洞</p>
</blockquote>
]]></content>
      <categories>
        <category>开发</category>
      </categories>
  </entry>
  <entry>
    <title>跨域问题</title>
    <url>/2022/03/08/%E5%BC%80%E5%8F%91/%E8%B7%A8%E5%9F%9F/</url>
    <content><![CDATA[<h2 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h2><h3 id="1-1-跨域原因"><a href="#1-1-跨域原因" class="headerlink" title="1.1 跨域原因"></a>1.1 跨域原因</h3><ul>
<li><strong>浏览器</strong>的同源策略限制：浏览器核心、基本的安全功能，如果缺少了同源策略，则浏览器的正常功能可能都会受到影响。</li>
<li>同源策略：会阻止一个域的js和另外一个域的内容进行交互。http-host-port。</li>
<li>前后端分离：前后端的域不一致。</li>
</ul>
<h3 id="1-2-没有同源策略会引发的问题"><a href="#1-2-没有同源策略会引发的问题" class="headerlink" title="1.2 没有同源策略会引发的问题"></a>1.2 没有同源策略会引发的问题</h3><p>​    一个网站用户Bob可能正在浏览聊天论坛，而同时另一个用户Alice也在此论坛中，并且后者刚刚发布了一个具有Bob银行链接的图片消息。设想一下，Alice编写了一个在Bob的银行站点上进行取款的form提交的链接，并将此链接作为图片src。如果Bob的银行在cookie中保存他的授权信息，并且此cookie没有过期，那么当Bob的浏览器尝试装载图片时将提交这个取款form和他的cookie，这样在没经Bob同意的情况下便授权了这次事务。</p>
<ol>
<li>病毒网站对cookie、session的<a href="https://blog.csdn.net/qq_37493556/article/details/106734689?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~aggregatepage~first_rank_ecpm_v1~rank_v31_ecpm-1-106734689.pc_agg_new_rank&utm_term=%E8%B7%A8%E5%9F%9F%E7%9A%84%E6%9C%AC%E8%B4%A8%E6%98%AF%E4%BB%80%E4%B9%88&spm=1000.2123.3001.4430">盗用</a></li>
<li>盗版网站对后台资源的复用</li>
</ol>
<h3 id="1-3-问题"><a href="#1-3-问题" class="headerlink" title="1.3 问题"></a>1.3 问题</h3><ol>
<li>前端后端的代码需要部署到同一台服务器问题的跨域</li>
<li><a href="https://www.zhihu.com/question/493164325/answer/2188756090">前后端不同服务器</a></li>
</ol>
<h2 id="二、跨域解决"><a href="#二、跨域解决" class="headerlink" title="二、跨域解决"></a>二、跨域解决</h2><h3 id="2-1-nginx反向代理"><a href="#2-1-nginx反向代理" class="headerlink" title="2.1 nginx反向代理"></a>2.1 nginx反向代理</h3><h4 id="2-2-1-原理"><a href="#2-2-1-原理" class="headerlink" title="2.2.1 原理"></a>2.2.1 原理</h4><p>​    实际就是把前端项目和后端接口项目放到一个域中，然后根据请求地址去请求不同服务器(真正使用的服务器)；</p>
<h4 id="2-2-2-方案"><a href="#2-2-2-方案" class="headerlink" title="2.2.2 方案"></a>2.2.2 方案</h4><h3 id="2-2-后端配置WebMvcConfig"><a href="#2-2-后端配置WebMvcConfig" class="headerlink" title="2.2 后端配置WebMvcConfig"></a>2.2 后端配置WebMvcConfig</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addCorsMappings</span><span class="params">(CorsRegistry registry)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//添加映射路径</span></span><br><span class="line">        registry.addMapping(<span class="string">&quot;/**&quot;</span>)</span><br><span class="line">            <span class="comment">//是否发送Cookie</span></span><br><span class="line">            .allowCredentials(<span class="keyword">true</span>)</span><br><span class="line">            <span class="comment">//设置放行哪些原始域   SpringBoot2.4.4下低版本使用.allowedOrigins(&quot;*&quot;)</span></span><br><span class="line">            .allowedOrigins(<span class="string">&quot;*&quot;</span>)</span><br><span class="line">            <span class="comment">//.allowedMethods(&quot;*&quot;) //或者放行全部</span></span><br><span class="line">            <span class="comment">//放行哪些原始请求头部信息</span></span><br><span class="line">            .allowedHeaders(<span class="string">&quot;*&quot;</span>)</span><br><span class="line">            <span class="comment">//暴露哪些原始请求头部信息</span></span><br><span class="line">            .exposedHeaders(<span class="string">&quot;*&quot;</span>);</span><br></pre></td></tr></table></figure>









]]></content>
      <categories>
        <category>开放</category>
      </categories>
  </entry>
  <entry>
    <title>日志</title>
    <url>/2022/03/08/%E7%BB%84%E4%BB%B6/beat/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>common-lang3</title>
    <url>/2022/03/08/%E7%BB%84%E4%BB%B6/common-lang3/</url>
    <content><![CDATA[<h1 id="common-lang3-参考"><a href="#common-lang3-参考" class="headerlink" title="common-lang3 参考"></a><a href="https://www.jianshu.com/p/1886903ed14c">common-lang3 参考</a></h1><p>[toc]</p>
<h3 id="ArrayUtils"><a href="#ArrayUtils" class="headerlink" title="ArrayUtils"></a>ArrayUtils</h3><p>集合工具类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//创建数组</span></span><br><span class="line">String[] array = ArrayUtils.toArray(<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>);</span><br><span class="line"><span class="comment">//判断两个数据是否相等，如果内容相同， 顺序相同 则返回 true</span></span><br><span class="line">ArrayUtils.isEquals(arr1,arr2);</span><br><span class="line"><span class="comment">//判断数组中是否包含某一对象</span></span><br><span class="line">ArrayUtils.contains(arr, <span class="string">&quot;33&quot;</span>);</span><br><span class="line"><span class="comment">//二维数组转换成MAP</span></span><br><span class="line">Map map = ArrayUtils.toMap(<span class="keyword">new</span> String[][] &#123; </span><br><span class="line">    &#123; <span class="string">&quot;RED&quot;</span>, <span class="string">&quot;#FF0000&quot;</span> &#125;, &#123; <span class="string">&quot;GREEN&quot;</span>, <span class="string">&quot;#00FF00&quot;</span> &#125;, &#123; <span class="string">&quot;BLUE&quot;</span>, <span class="string">&quot;#0000FF&quot;</span> &#125; &#125;);</span><br></pre></td></tr></table></figure>

<h3 id="DateUtils"><a href="#DateUtils" class="headerlink" title="DateUtils"></a>DateUtils</h3><p>日期工具类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//日期加n天</span></span><br><span class="line">DateUtils.addDays(<span class="keyword">new</span> Date(), n);</span><br><span class="line"><span class="comment">//判断是否同一天</span></span><br><span class="line">DateUtils.isSameDay(date1, date2);</span><br><span class="line"><span class="comment">//字符串时间转换为Date</span></span><br><span class="line">DateUtils.parseDate(str, parsePatterns);</span><br></pre></td></tr></table></figure>

<h3 id="1、StringUtils"><a href="#1、StringUtils" class="headerlink" title="1、StringUtils"></a>1、StringUtils</h3><p>操作字符串的工具类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//首字母大小写转换</span></span><br><span class="line">StringUtils.capitalize(<span class="string">&quot;cat&quot;</span>);<span class="comment">//---&quot;Cat&quot;</span></span><br><span class="line">StringUtils.uncapitalize(<span class="string">&quot;Cat&quot;</span>);<span class="comment">//---&quot;cat&quot;</span></span><br><span class="line"><span class="comment">//去除字符串中的&quot;\n&quot;, &quot;\r&quot;, or &quot;\r\n&quot;</span></span><br><span class="line">StringUtils.chomp(<span class="string">&quot;abc\r\n&quot;</span>);<span class="comment">//---&quot;abc&quot;</span></span><br><span class="line"><span class="comment">//判断一字符串是否包含另一字符串</span></span><br><span class="line">StringUtils.contains(<span class="string">&quot;abc&quot;</span>, <span class="string">&quot;z&quot;</span>);<span class="comment">//---false</span></span><br><span class="line">StringUtils.containsIgnoreCase(<span class="string">&quot;abc&quot;</span>, <span class="string">&quot;A&quot;</span>);<span class="comment">//---true</span></span><br><span class="line"><span class="comment">//删除字符串中的梭有空格</span></span><br><span class="line">StringUtils.deleteWhitespace(<span class="string">&quot;   ab  c  &quot;</span>);<span class="comment">//---&quot;abc&quot;</span></span><br><span class="line"><span class="comment">//检查字符串结尾后缀是否匹配</span></span><br><span class="line">StringUtils.endsWith(<span class="string">&quot;abcdef&quot;</span>, <span class="string">&quot;def&quot;</span>);<span class="comment">//---true</span></span><br><span class="line">StringUtils.endsWithIgnoreCase(<span class="string">&quot;ABCDEF&quot;</span>, <span class="string">&quot;def&quot;</span>);<span class="comment">//---true</span></span><br><span class="line">StringUtils.endsWithAny(<span class="string">&quot;abcxyz&quot;</span>, <span class="keyword">new</span> String[] &#123;<span class="keyword">null</span>, <span class="string">&quot;xyz&quot;</span>, <span class="string">&quot;abc&quot;</span>&#125;);<span class="comment">//---true</span></span><br><span class="line"><span class="comment">//判断两字符串是否相同</span></span><br><span class="line">StringUtils.equalsIgnoreCase(<span class="string">&quot;abc&quot;</span>, <span class="string">&quot;ABC&quot;</span>);<span class="comment">//---true</span></span><br><span class="line"><span class="comment">//比较字符串数组内的所有元素的字符序列，起始一致则返回一致的字符串，若无则返回&quot;&quot;</span></span><br><span class="line">StringUtils.getCommonPrefix(<span class="keyword">new</span> String[] &#123;<span class="string">&quot;abcde&quot;</span>, <span class="string">&quot;abxyz&quot;</span>&#125;);<span class="comment">//---&quot;ab&quot;</span></span><br><span class="line"><span class="comment">//判断字符串大写、小写</span></span><br><span class="line">StringUtils.isAllUpperCase(<span class="string">&quot;ABC&quot;</span>);<span class="comment">//---true</span></span><br><span class="line"><span class="comment">//判断是否为空(注：isBlank与isEmpty 区别)</span></span><br><span class="line">StringUtils.isBlank(<span class="keyword">null</span>);StringUtils.isBlank(<span class="string">&quot;&quot;</span>);StringUtils.isBlank(<span class="string">&quot; &quot;</span>);<span class="comment">//---true</span></span><br><span class="line">StringUtils.isNoneBlank(<span class="string">&quot; &quot;</span>, <span class="string">&quot;bar&quot;</span>);<span class="comment">//---false</span></span><br><span class="line">StringUtils.isEmpty(<span class="keyword">null</span>);StringUtils.isEmpty(<span class="string">&quot;&quot;</span>);<span class="comment">//---true</span></span><br><span class="line">StringUtils.isEmpty(<span class="string">&quot; &quot;</span>);<span class="comment">//---false</span></span><br><span class="line">StringUtils.isNoneEmpty(<span class="string">&quot; &quot;</span>, <span class="string">&quot;bar&quot;</span>);<span class="comment">//---true</span></span><br><span class="line"><span class="comment">//判断字符串数字</span></span><br><span class="line">StringUtils.isNumeric(<span class="string">&quot;123&quot;</span>);<span class="comment">//---false</span></span><br><span class="line">StringUtils.isNumericSpace(<span class="string">&quot;12 3&quot;</span>);<span class="comment">//---true</span></span><br><span class="line"><span class="comment">//数组中加入分隔符号</span></span><br><span class="line"><span class="comment">//StringUtils.join([1, 2, 3], ‘;‘);//---&quot;1;2;PKJjkkaf&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//大小写转换</span></span><br><span class="line">StringUtils.upperCase(<span class="string">&quot;aBc&quot;</span>);<span class="comment">//---&quot;ABC&quot;</span></span><br><span class="line">StringUtils.lowerCase(<span class="string">&quot;aBc&quot;</span>);<span class="comment">//---&quot;abc&quot;</span></span><br><span class="line">StringUtils.swapCase(<span class="string">&quot;The dog has a BONE&quot;</span>);<span class="comment">//---&quot;tHE DOG HAS A bone&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//替换字符串内容……（replacePattern、replceOnce）</span></span><br><span class="line">StringUtils.replace(<span class="string">&quot;aba&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;z&quot;</span>);<span class="comment">//---&quot;zbz&quot;</span></span><br><span class="line">StringUtils.overlay(<span class="string">&quot;abcdef&quot;</span>, <span class="string">&quot;zz&quot;</span>, <span class="number">2</span>, <span class="number">4</span>);<span class="comment">//---&quot;abzzef&quot;(指定区域)</span></span><br><span class="line">StringUtils.replaceEach(<span class="string">&quot;abcde&quot;</span>, <span class="keyword">new</span> String[]&#123;<span class="string">&quot;ab&quot;</span>, <span class="string">&quot;d&quot;</span>&#125;,</span><br><span class="line">                        <span class="keyword">new</span> String[]&#123;<span class="string">&quot;w&quot;</span>, <span class="string">&quot;t&quot;</span>&#125;);<span class="comment">//---&quot;wcte&quot;(多组指定替换ab-&gt;w，d-&gt;t)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//重复字符</span></span><br><span class="line">StringUtils.repeat(‘e‘, <span class="number">3</span>);<span class="comment">//---&quot;eee&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//反转字符串</span></span><br><span class="line">StringUtils.reverse(<span class="string">&quot;bat&quot;</span>);<span class="comment">//---&quot;tab&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//删除某字符</span></span><br><span class="line">StringUtils.remove(<span class="string">&quot;queued&quot;</span>, ‘u‘);<span class="comment">//---&quot;qeed&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//分割字符串</span></span><br><span class="line">StringUtils.split(<span class="string">&quot;a..b.c&quot;</span>, ‘.‘);<span class="comment">//---[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span></span><br><span class="line">StringUtils.split(<span class="string">&quot;ab:cd:ef&quot;</span>, <span class="string">&quot;:&quot;</span>, <span class="number">2</span>);<span class="comment">//---[&quot;ab&quot;, &quot;cd:ef&quot;]</span></span><br><span class="line">StringUtils.splitByWholeSeparator(<span class="string">&quot;ab-!-cd-!-ef&quot;</span>, <span class="string">&quot;-!-&quot;</span>, <span class="number">2</span>);<span class="comment">//---[&quot;ab&quot;, &quot;cd-!-ef&quot;]</span></span><br><span class="line">StringUtils.splitByWholeSeparatorPreserveAllTokens(<span class="string">&quot;ab::cd:ef&quot;</span>, <span class="string">&quot;:&quot;</span>);<span class="comment">//-[&quot;ab&quot;,&quot; &quot;,&quot;cd&quot;,&quot;ef&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//去除首尾空格，类似trim……（stripStart、stripEnd、stripAll、stripAccents）</span></span><br><span class="line">StringUtils.strip(<span class="string">&quot; ab c &quot;</span>);<span class="comment">//---&quot;ab c&quot;</span></span><br><span class="line">StringUtils.stripToNull(<span class="keyword">null</span>);<span class="comment">//---null</span></span><br><span class="line">StringUtils.stripToEmpty(<span class="keyword">null</span>);<span class="comment">//---&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//截取字符串</span></span><br><span class="line">StringUtils.substring(<span class="string">&quot;abcd&quot;</span>, <span class="number">2</span>);<span class="comment">//---&quot;cd&quot;</span></span><br><span class="line">StringUtils.substring(<span class="string">&quot;abcdef&quot;</span>, <span class="number">2</span>, <span class="number">4</span>);<span class="comment">//---&quot;cd&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//left、right从左(右)开始截取n位字符</span></span><br><span class="line">StringUtils.left(<span class="string">&quot;abc&quot;</span>, <span class="number">2</span>);<span class="comment">//---&quot;ab&quot;</span></span><br><span class="line">StringUtils.right(<span class="string">&quot;abc&quot;</span>, <span class="number">2</span>);<span class="comment">//---&quot;bc&quot;</span></span><br><span class="line"><span class="comment">//从第n位开始截取m位字符       n  m</span></span><br><span class="line">StringUtils.mid(<span class="string">&quot;abcdefg&quot;</span>, <span class="number">2</span>, <span class="number">4</span>);<span class="comment">//---&quot;cdef&quot;</span></span><br><span class="line"></span><br><span class="line">StringUtils.substringBefore(<span class="string">&quot;abcba&quot;</span>, <span class="string">&quot;b&quot;</span>);<span class="comment">//---&quot;a&quot;</span></span><br><span class="line">StringUtils.substringBeforeLast(<span class="string">&quot;abcba&quot;</span>, <span class="string">&quot;b&quot;</span>);<span class="comment">//---&quot;abc&quot;</span></span><br><span class="line">StringUtils.substringAfter(<span class="string">&quot;abcba&quot;</span>, <span class="string">&quot;b&quot;</span>);<span class="comment">//---&quot;cba&quot;</span></span><br><span class="line">StringUtils.substringAfterLast(<span class="string">&quot;abcba&quot;</span>, <span class="string">&quot;b&quot;</span>);<span class="comment">//---&quot;a&quot;</span></span><br><span class="line"></span><br><span class="line">StringUtils.substringBetween(<span class="string">&quot;tagabctag&quot;</span>, <span class="string">&quot;tag&quot;</span>);<span class="comment">//---&quot;abc&quot;</span></span><br><span class="line">StringUtils.substringBetween(<span class="string">&quot;yabczyabcz&quot;</span>, <span class="string">&quot;y&quot;</span>, <span class="string">&quot;z&quot;</span>);<span class="comment">//---&quot;abc&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="2、RandomStringUtils"><a href="#2、RandomStringUtils" class="headerlink" title="2、RandomStringUtils"></a>2、RandomStringUtils</h3><p>随机数工具类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//随机生成n位数数字</span></span><br><span class="line">RandomStringUtils.randomNumeric(n);</span><br><span class="line"><span class="comment">//在指定字符串中生成长度为n的随机字符串</span></span><br><span class="line">RandomStringUtils.random(n, <span class="string">&quot;abcdefghijk&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="3、NumberUtils"><a href="#3、NumberUtils" class="headerlink" title="3、NumberUtils"></a>3、NumberUtils</h3><p>数字工具类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//从数组中选出最大值</span></span><br><span class="line">NumberUtils.max(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> &#125;);<span class="comment">//---4</span></span><br><span class="line"><span class="comment">//判断字符串是否全是整数</span></span><br><span class="line">NumberUtils.isDigits(<span class="string">&quot;153.4&quot;</span>);<span class="comment">//--false</span></span><br><span class="line"><span class="comment">//判断字符串是否是有效数字</span></span><br><span class="line">NumberUtils.isNumber(<span class="string">&quot;0321.1&quot;</span>);<span class="comment">//---false    </span></span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>组件</category>
      </categories>
  </entry>
  <entry>
    <title>spring-easyExcel</title>
    <url>/2022/03/08/%E7%BB%84%E4%BB%B6/easyExcel/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="easyExcel"><a href="#easyExcel" class="headerlink" title="easyExcel"></a>easyExcel</h3><ol>
<li><p>依赖</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>easyexcel<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">     <span class="comment">&lt;!-- poi office --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.poi<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>poi<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;poi.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<span id="more"></span></li>
<li><p>entity</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ExcelProperty(&quot;字典名称&quot;)</span></span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="meta">@ColumnWidth(50)</span> <span class="comment">//设置g宽度</span></span><br><span class="line"><span class="meta">@ExcelProperty(&quot;字典描述&quot;)</span></span><br><span class="line"><span class="keyword">private</span> String description;</span><br><span class="line"><span class="meta">@DateTimeFormat(&quot;yyyy年MM月dd日HH时mm分ss秒&quot;)</span><span class="comment">//设置时间格式</span></span><br><span class="line"><span class="meta">@NumberFormat(&quot;#.##%&quot;)</span><span class="comment">//设置小数格式</span></span><br><span class="line"><span class="meta">@ExcelIgnore</span> <span class="comment">//加了这个注解会忽略该字段</span></span><br><span class="line"><span class="meta">@ContentRowHeight</span> <span class="comment">//指定表体行高</span></span><br><span class="line"><span class="meta">@HeadRowHeight</span> <span class="comment">//指定表头行高</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>FileUtil.下载</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">downloadEasyExcel</span><span class="params">(HttpServletResponse response, List&lt;T&gt; ExcelBases)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">       String fileName = URLEncoder.encode(<span class="string">&quot;DictData&quot;</span>, <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">       response.setContentType(<span class="string">&quot;application/vnd.ms-excel&quot;</span>);</span><br><span class="line">       response.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">       response.setHeader(<span class="string">&quot;Content-disposition&quot;</span>, <span class="string">&quot;attachment;filename=&quot;</span> + fileName + <span class="string">&quot;.xlsx&quot;</span>);</span><br><span class="line">       <span class="comment">// excel头策略</span></span><br><span class="line">       WriteCellStyle headWriteCellStyle = <span class="keyword">new</span> WriteCellStyle();</span><br><span class="line">       WriteFont headWriteFont = <span class="keyword">new</span> WriteFont();</span><br><span class="line">       headWriteFont.setFontHeightInPoints((<span class="keyword">short</span>) <span class="number">11</span>);</span><br><span class="line">       headWriteFont.setBold(<span class="keyword">false</span>);</span><br><span class="line">       headWriteCellStyle.setWriteFont(headWriteFont);</span><br><span class="line">       <span class="comment">// excel内容策略</span></span><br><span class="line">       WriteCellStyle contentWriteCellStyle = <span class="keyword">new</span> WriteCellStyle();</span><br><span class="line">       WriteFont contentWriteFont = <span class="keyword">new</span> WriteFont();</span><br><span class="line">       contentWriteFont.setFontHeightInPoints((<span class="keyword">short</span>) <span class="number">11</span>);</span><br><span class="line">       contentWriteCellStyle.setWriteFont(contentWriteFont);</span><br><span class="line">       <span class="comment">// 设置handler</span></span><br><span class="line">       HorizontalCellStyleStrategy styleStrategy = <span class="keyword">new</span> HorizontalCellStyleStrategy(headWriteCellStyle, contentWriteCellStyle);</span><br><span class="line">       <span class="comment">/** 导出数据查询方法*/</span></span><br><span class="line">       EasyExcel.write(response.getOutputStream(), ExcelBases.get(<span class="number">0</span>).getClass())</span><br><span class="line">               .sheet(<span class="string">&quot;下载excel服务&quot;</span>)</span><br><span class="line">               .registerWriteHandler(styleStrategy)</span><br><span class="line">               .doWrite(ExcelBases);</span><br><span class="line">   </span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>上传</p>
</li>
<li><p>关键 下载的时候controller return null</p>
</li>
</ol>
]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>shiro</title>
    <url>/2022/03/08/%E7%BB%84%E4%BB%B6/shiro/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、功能"><a href="#一、功能" class="headerlink" title="一、功能"></a>一、功能</h2><ol>
<li>认证</li>
<li>授权</li>
<li>方法加权</li>
<li>自定义过滤</li>
<li>会话管理：Session Manager  一次登录，所有信息保存在session中</li>
<li>加密</li>
</ol>
<h3 id="1-1-Authentication-用户密码认证"><a href="#1-1-Authentication-用户密码认证" class="headerlink" title="1.1 Authentication 用户密码认证"></a>1.1 Authentication 用户密码认证</h3><h3 id="1-2-Authorization-验证是否有权限访问该方法"><a href="#1-2-Authorization-验证是否有权限访问该方法" class="headerlink" title="1.2 Authorization 验证是否有权限访问该方法"></a>1.2 Authorization 验证是否有权限访问该方法</h3><ol>
<li><p>MyRealm extends AuthorizingRealm</p>
<blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span><span class="comment">//授权</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> AuthorizationInfo <span class="title">doGetAuthorizationInfo</span><span class="params">(PrincipalCollection principalCollection)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//获得令牌/用户</span></span><br><span class="line">    User user=(User)principalCollection.asList().get(<span class="number">0</span>);</span><br><span class="line">    SimpleAuthorizationInfo authorizationInfo=<span class="keyword">new</span> SimpleAuthorizationInfo();</span><br><span class="line">    authorizationInfo.addRoles(user.getUserRoles());<span class="comment">//添加用户-授权</span></span><br><span class="line">    authorizationInfo.addStringPermissions(user.getUserPerms());<span class="comment">//添加权限-授权</span></span><br><span class="line">    <span class="keyword">return</span> authorizationInfo;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote>
</li>
</ol>
<h3 id="1-3-其他功能"><a href="#1-3-其他功能" class="headerlink" title="1.3 其他功能"></a>1.3 其他功能</h3><h4 id="1-3-1-方法加权"><a href="#1-3-1-方法加权" class="headerlink" title="1.3.1 方法加权"></a>1.3.1 方法加权</h4><ol>
<li><p>硬编码</p>
<p>在每个方法体里面进行手动获取当前用户权限，然后和该方法的权限进行对比。</p>
</li>
<li><p>ShiroConfig添加路径</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">filterFactoryBean.setUnauthorizedUrl(<span class="string">&quot;/wq.html&quot;</span>);<span class="comment">//无权限跳到指定路径</span></span><br></pre></td></tr></table></figure></li>
<li><p>注解</p>
<ol>
<li>RequiresAuthentication 需要登录</li>
<li>RequiresUser 需要reamberMe</li>
<li>RequiresPermissions 需要权限</li>
</ol>
<ul>
<li>没权限会直接报500错误</li>
<li>需要异常处理机制</li>
</ul>
</li>
</ol>
<h4 id="1-3-2-自定义过滤"><a href="#1-3-2-自定义过滤" class="headerlink" title="1.3.2 自定义过滤"></a>1.3.2 自定义过滤</h4><ol>
<li><p>@Componet注册过滤器</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">F1</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;自定义过滤开始&quot;</span>);</span><br><span class="line">        filterChain.doFilter(servletRequest,servletResponse);</span><br><span class="line">        System.out.println(<span class="string">&quot;自定义过滤结束&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>加入到请求过滤器</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">filters.put(<span class="string">&quot;oauth2&quot;</span>, <span class="keyword">new</span> F1());</span><br><span class="line">filterFactoryBean.setFilters(filters);</span><br></pre></td></tr></table></figure></li>
<li></li>
</ol>
<h4 id="1-3-3-获取当前线程用户"><a href="#1-3-3-获取当前线程用户" class="headerlink" title="1.3.3 获取当前线程用户"></a>1.3.3 获取当前线程用户</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Subject subject = SecurityUtils.getSubject();</span><br></pre></td></tr></table></figure>

<ol>
<li><p>认证</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">UsernamePasswordToken token = <span class="keyword">new</span> <span class="constructor">UsernamePasswordToken(<span class="params">user</span>.<span class="params">getUsername</span>()</span>, user.get<span class="constructor">Password()</span>);</span><br><span class="line">subject.login(token);</span><br></pre></td></tr></table></figure></li>
<li><p>登录设置令牌</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">subject.getSession().setAttribute(<span class="string">&quot;currentUser&quot;</span>, subject.getPrincipal());</span><br></pre></td></tr></table></figure></li>
<li><p>登出</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">subject.logout();<span class="comment">//或者在过滤器中配置   filterMap.put(&quot;/aaa&quot;,&quot;logout&quot;);</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="二、组件"><a href="#二、组件" class="headerlink" title="二、组件"></a>二、组件</h2><h3 id="2-1-核心组件"><a href="#2-1-核心组件" class="headerlink" title="2.1 核心组件"></a>2.1 核心组件</h3><ol>
<li>Subjetc： 当前进程obj</li>
<li>Shiro SecurityManager</li>
<li>Realm ：安全中心，提供认证授权服务</li>
<li>ShiroFilterFactoryBean：请求过滤器<ol>
<li>设置Map&lt;路径，权限&gt;的过滤器Map</li>
<li>设置自定义过滤器</li>
<li>设置无权路径</li>
</ol>
</li>
</ol>
<h3 id="2-2-注解模式"><a href="#2-2-注解模式" class="headerlink" title="2.2 注解模式"></a>2.2 注解模式</h3><blockquote>
<p>对于Map&lt;路径，权限&gt;</p>
</blockquote>
<ol>
<li>@RequiresAuthentication 需登录</li>
<li>@RequiresPermissions(“b”)  需b权限</li>
<li>@RequiresRoles(“admin”)  需admin角色</li>
</ol>
<h3 id="2-3-user"><a href="#2-3-user" class="headerlink" title="2.3 user"></a>2.3 user</h3><ol>
<li>user<ol>
<li>userName</li>
<li>pasword</li>
<li>List&lt;String&gt;roles</li>
<li>List&lt;String&gt;perms</li>
</ol>
</li>
</ol>
<h2 id="三、原理"><a href="#三、原理" class="headerlink" title="三、原理"></a>三、原理</h2><h3 id="3-1-基于token"><a href="#3-1-基于token" class="headerlink" title="3.1 基于token"></a>3.1 基于token</h3><h3 id="3-2-安全中心-MyRealm"><a href="#3-2-安全中心-MyRealm" class="headerlink" title="3.2 安全中心 MyRealm"></a>3.2 安全中心 MyRealm</h3><ul>
<li><p>认证中心  AuthenticationInfo(username,password)</p>
<ul>
<li>登录的时候会用有一次</li>
<li>传入账号信息，通过数据库获得用户信息，返回token(user，passwod，Nmae)</li>
</ul>
</li>
<li><p>权限中心  AuthorizationInfo(user)</p>
<ul>
<li><p>每次访问需要权限的地方会用到</p>
</li>
<li><p>格式化user的权限</p>
</li>
<li><p>然后根据user权限对比[需要访问的方法]的权限，如果有权限，就退回到对应界面</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">filterFactoryBean.setLoginUrl(<span class="string">&quot;/login.html&quot;</span>);<span class="comment">//登录页面</span></span><br><span class="line">filterFactoryBean.setUnauthorizedUrl(<span class="string">&quot;/wq.html&quot;</span>);<span class="comment">//无权限</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="四、集成-改进"><a href="#四、集成-改进" class="headerlink" title="四、集成-改进"></a>四、集成-改进</h2><h3 id="5-1-shiro-redis集成"><a href="#5-1-shiro-redis集成" class="headerlink" title="5.1 shiro+redis集成"></a>5.1 shiro+redis集成</h3><h2 id="五、其他"><a href="#五、其他" class="headerlink" title="五、其他"></a>五、其他</h2><ol>
<li><p>过滤顺序问题</p>
<blockquote>
<p>过滤设置规则是从上到下，详细的规则配在前面，大范围的配在后面。</p>
</blockquote>
</li>
</ol>
<h2 id="六、RDBC模型-role-based-access-control"><a href="#六、RDBC模型-role-based-access-control" class="headerlink" title="六、RDBC模型 role based access control"></a>六、RDBC模型 role based access control</h2>]]></content>
      <categories>
        <category>中间件</category>
      </categories>
  </entry>
  <entry>
    <title>nginx</title>
    <url>/2022/03/08/%E7%BB%84%E4%BB%B6/nginx/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、概述"><a href="#一、概述" class="headerlink" title="一、概述"></a>一、概述</h2><ol>
<li><p>nginxweb反向代理服务器</p>
<ul>
<li>开源</li>
<li>高性能</li>
<li>支持热部署</li>
<li>24小数无间断</li>
<li>支持高并发(5w)</li>
</ul>
</li>
<li><p>用途</p>
<ol>
<li>静态资源服务器</li>
<li>反向代理服务器</li>
<li>正向代理服务器</li>
<li>动静分离</li>
<li>负载均衡</li>
</ol>
</li>
<li><p>代理</p>
<ol>
<li><p>正向代理</p>
<ol>
<li><p>代理服务器：：访问国外网站，使用中间人服务器，</p>
<p>中间人可以访问外国网站</p>
<p>我可以访问中间人网站</p>
</li>
</ol>
</li>
<li><p>反向代理</p>
<p>1. </p>
</li>
<li></li>
</ol>
</li>
</ol>
<h2 id="二、安装"><a href="#二、安装" class="headerlink" title="二、安装"></a>二、安装</h2><figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">yum <span class="keyword">install</span> gcc-c++</span><br><span class="line">yum <span class="keyword">install</span> -y pcre pcre-devel</span><br><span class="line">yum <span class="keyword">install</span> -y zlib zlib-devel</span><br><span class="line">yum <span class="keyword">install</span> -y openssl openssl-devel</span><br></pre></td></tr></table></figure>

<p><a href="https://nginx.org/en/download.html">下载官网</a></p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20220308211818104.png" alt="image-20220308211818104"></p>
<p>复制链接  <a href="https://nginx.org/download/nginx-1.6.3.tar.gz">https://nginx.org/download/nginx-1.6.3.tar.gz</a></p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">方式一 wget自己安装</span><br><span class="line">wget https:<span class="regexp">//</span>nginx.org<span class="regexp">/download/</span>nginx-<span class="number">1.6</span>.<span class="number">3</span>.tar.gz</span><br><span class="line">tar -zxvf nginx-<span class="number">1.6</span>.<span class="number">3</span>.tar.gz</span><br><span class="line">方式二 yum 一步安装</span><br></pre></td></tr></table></figure>

<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cd</span> nginx-<span class="number">1.6</span>.<span class="number">3</span>.tar.gz</span><br><span class="line">./configure  编译配置环境</span><br><span class="line"><span class="keyword">make</span></span><br><span class="line"><span class="keyword">make</span> install</span><br></pre></td></tr></table></figure>

<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">whereis</span> nginx 找到nginx执行文件</span><br></pre></td></tr></table></figure>

<h3 id="2-1-nginx文件结构"><a href="#2-1-nginx文件结构" class="headerlink" title="2.1 nginx文件结构"></a>2.1 nginx文件结构</h3><ol>
<li>配置文件：/usr/local/nginx/conf/nginx.conf</li>
<li>启动脚本 ：/usr/local/nginx/sbin/nginx</li>
<li>log文件：/usr/local/nginx/logs/*.log</li>
<li>pid文件: /usr/local/nginx/logs/nginx.pid</li>
</ol>
<h3 id="2-2-常用命令"><a href="#2-2-常用命令" class="headerlink" title="2.2 常用命令"></a>2.2 常用命令</h3><ol>
<li><p>指定配置文件</p>
<figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line">nginx -h</span><br><span class="line">nginx -c <span class="keyword">a</span>.conf 指定配置文件</span><br><span class="line"><span class="built_in">kill</span> -quid pid  平和的结束，信号量机制</span><br><span class="line"><span class="built_in">kill</span> -term pid 立即停止</span><br><span class="line"><span class="built_in">kill</span> <span class="number">-9</span> pid 强制结束，子进程可能不会被<span class="built_in">kill</span>掉</span><br></pre></td></tr></table></figure></li>
<li><p>启动、暂停，重新加载</p>
<figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cd</span> <span class="string">/usr/local/nginx/sbin/</span></span><br><span class="line"><span class="string">./nginx</span> </span><br><span class="line"><span class="string">./nginx</span> -s stop</span><br><span class="line"><span class="string">./nginx</span> -s <span class="keyword">quit</span></span><br><span class="line"><span class="string">./nginx</span> -s <span class="keyword">reload</span></span><br><span class="line">-s 表示signal 发送一个信号</span><br></pre></td></tr></table></figure></li>
<li><p>windows下杀死</p>
<figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line">taskkill <span class="string">/fi</span> <span class="string">&quot;imagename eq nginx.EXE&quot;</span> <span class="string">/f</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="三、nginx配置文件"><a href="#三、nginx配置文件" class="headerlink" title="三、nginx配置文件"></a>三、nginx配置文件</h2><h3 id="3-1-原始配置"><a href="#3-1-原始配置" class="headerlink" title="3.1 原始配置"></a>3.1 原始配置</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="comment">#user  nobody;</span></span><br><span class="line"><span class="attribute">worker_processes</span>  <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#error_log  logs/error.log;</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log  notice;</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log  info;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#pid        logs/nginx.pid;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">    <span class="attribute">worker_connections</span>  <span class="number">1024</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="attribute">include</span>       mime.types;</span><br><span class="line">    <span class="attribute">default_type</span>  application/octet-stream;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#log_format  main  &#x27;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#x27;</span></span><br><span class="line">    <span class="comment">#                  &#x27;$status $body_bytes_sent &quot;$http_referer&quot; &#x27;</span></span><br><span class="line">    <span class="comment">#                  &#x27;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#x27;;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#access_log  logs/access.log  main;</span></span><br><span class="line"></span><br><span class="line">    <span class="attribute">sendfile</span>        <span class="literal">on</span>;</span><br><span class="line">    <span class="comment">#tcp_nopush     on;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#keepalive_timeout  0;</span></span><br><span class="line">    <span class="attribute">keepalive_timeout</span>  <span class="number">65</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#gzip  on;</span></span><br><span class="line"></span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line">        <span class="attribute">server_name</span>  localhost;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#charset koi8-r;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#access_log  logs/host.access.log  main;</span></span><br><span class="line"></span><br><span class="line">        <span class="attribute">location</span> / &#123;</span><br><span class="line">            <span class="attribute">root</span>   html;</span><br><span class="line">            <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#error_page  404              /404.html;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># redirect server error pages to the static page /50x.html</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="attribute">error_page</span>   <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span>  /50x.html;</span><br><span class="line">        <span class="attribute">location</span> = /50x.html &#123;</span><br><span class="line">            <span class="attribute">root</span>   html;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># proxy the PHP scripts to Apache listening on 127.0.0.1:80</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment">#location ~ \.php$ &#123;</span></span><br><span class="line">        <span class="comment">#    proxy_pass   http://127.0.0.1;</span></span><br><span class="line">        <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment">#location ~ \.php$ &#123;</span></span><br><span class="line">        <span class="comment">#    root           html;</span></span><br><span class="line">        <span class="comment">#    fastcgi_pass   127.0.0.1:9000;</span></span><br><span class="line">        <span class="comment">#    fastcgi_index  index.php;</span></span><br><span class="line">        <span class="comment">#    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</span></span><br><span class="line">        <span class="comment">#    include        fastcgi_params;</span></span><br><span class="line">        <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># deny access to .htaccess files, if Apache&#x27;s document root</span></span><br><span class="line">        <span class="comment"># concurs with nginx&#x27;s one</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment">#location ~ /\.ht &#123;</span></span><br><span class="line">        <span class="comment">#    deny  all;</span></span><br><span class="line">        <span class="comment">#&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># another virtual host using mix of IP-, name-, and port-based configuration</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#server &#123;</span></span><br><span class="line">    <span class="comment">#    listen       8000;</span></span><br><span class="line">    <span class="comment">#    listen       somename:8080;</span></span><br><span class="line">    <span class="comment">#    server_name  somename  alias  another.alias;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#    location / &#123;</span></span><br><span class="line">    <span class="comment">#        root   html;</span></span><br><span class="line">    <span class="comment">#        index  index.html index.htm;</span></span><br><span class="line">    <span class="comment">#    &#125;</span></span><br><span class="line">    <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># HTTPS server</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#server &#123;</span></span><br><span class="line">    <span class="comment">#    listen       443 ssl;</span></span><br><span class="line">    <span class="comment">#    server_name  localhost;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#    ssl_certificate      cert.pem;</span></span><br><span class="line">    <span class="comment">#    ssl_certificate_key  cert.key;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#    ssl_session_cache    shared:SSL:1m;</span></span><br><span class="line">    <span class="comment">#    ssl_session_timeout  5m;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#    ssl_ciphers  HIGH:!aNULL:!MD5;</span></span><br><span class="line">    <span class="comment">#    ssl_prefer_server_ciphers  on;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#    location / &#123;</span></span><br><span class="line">    <span class="comment">#        root   html;</span></span><br><span class="line">    <span class="comment">#        index  index.html index.htm;</span></span><br><span class="line">    <span class="comment">#    &#125;</span></span><br><span class="line">    <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-文件结构"><a href="#3-2-文件结构" class="headerlink" title="3.2 文件结构"></a>3.2 文件结构</h3><figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line"><span class="string">...</span>              <span class="comment">#1.全局块</span></span><br><span class="line"></span><br><span class="line">events &#123;         <span class="comment">#events块</span></span><br><span class="line">   <span class="string">...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http      <span class="comment">#2.http块</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">...</span>   <span class="comment">#http全局块 </span></span><br><span class="line">    server        <span class="comment">#server块</span></span><br><span class="line">    &#123; </span><br><span class="line">        <span class="string">...</span>       <span class="comment">#server全局块</span></span><br><span class="line">        location [PATTERN]   <span class="comment">#location块</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">...</span></span><br><span class="line">        &#125;</span><br><span class="line">        location [PATTERN] </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">...</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    server</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="string">...</span>     <span class="comment">#http全局块</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-3-结构说明"><a href="#3-3-结构说明" class="headerlink" title="3.3 结构说明"></a>3.3 结构说明</h3><ol>
<li>全局块：配置影响nginx全局的指令<ol>
<li>运行nginx服务器的用户组</li>
<li>nginx进程pid存放路径</li>
<li>日志存放路径</li>
<li>配置文件引入</li>
<li>允许生成worker process数等。</li>
</ol>
</li>
<li>events块：配置影响nginx服务器或与用户的网络连接。<ol>
<li>每个进程的最大连接数</li>
<li>选取哪种事件驱动模型处理连接请求</li>
<li>是否允许同时接受多个网路连接</li>
<li>开启多个网络连接序列化等。</li>
</ol>
</li>
<li>http块：可以嵌套多个server，配置代理，缓存，日志定义等绝大多数功能和第三方模块的配置。如文件引入，mime-type定义，日志自定义，是否使用sendfile传输文件，连接超时时间，单连接请求数等。</li>
<li>server块：配置虚拟主机的相关参数，一个http中可以有多个server。</li>
<li>location块：配置请求的路由，以及各种页面的处理情况。</li>
<li>upstream块：配置集群，内网服务</li>
</ol>
<h3 id="3-4-配置参考"><a href="#3-4-配置参考" class="headerlink" title="3.4 配置参考"></a>3.4 配置参考</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="comment">########### 每个指令必须有分号结束。#################</span></span><br><span class="line"><span class="comment">#user administrator administrators;  #设置worker进程的用户,默认为nobody nobody。</span></span><br><span class="line"><span class="comment">#worker_processes 2;  #指定woker进程的数量，默认为1，一般=核数*cpu个数</span></span><br><span class="line"><span class="comment">#pid /nginx/pid/nginx.pid;   #指定nginx进程id文件运行文件存放地址</span></span><br><span class="line"><span class="attribute">error_log</span> log/error.log <span class="literal">debug</span>;  <span class="comment">#制定日志路径，级别。这个设置可以放入全局块，http块，server块，级别以此为：debug|info|notice|warn|error|crit|alert|emerg</span></span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">    <span class="attribute">accept_mutex</span> <span class="literal">on</span>;   <span class="comment">#设置网路连接序列化，防止惊群现象发生，默认为on</span></span><br><span class="line">    <span class="attribute">multi_accept</span> <span class="literal">on</span>;  <span class="comment">#设置一个进程是否同时接受多个网络连接，默认为off</span></span><br><span class="line">    <span class="comment">#use epoll;      #事件驱动模型，select|poll|kqueue|epoll|resig|/dev/poll|eventport</span></span><br><span class="line">    <span class="attribute">worker_connections</span>  <span class="number">1024</span>;    <span class="comment">#单个进程的最大连接数，默认为512</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="attribute">include</span>       mime.types;   <span class="comment">#文件扩展名与文件类型映射表</span></span><br><span class="line">    <span class="attribute">default_type</span>  application/octet-stream; <span class="comment">#默认文件类型，默认为text/plain</span></span><br><span class="line">    <span class="comment">#access_log off; #取消服务日志    </span></span><br><span class="line">    <span class="attribute">log_format</span> myFormat <span class="string">&#x27;$remote_addr–$remote_user [$time_local] $request $status $body_bytes_sent $http_referer $http_user_agent $http_x_forwarded_for&#x27;</span>; <span class="comment">#自定义格式</span></span><br><span class="line">    <span class="attribute">access_log</span> log/access.log myFormat;  <span class="comment">#combined为日志格式的默认值</span></span><br><span class="line">    <span class="attribute">sendfile</span> <span class="literal">on</span>;   <span class="comment">#允许sendfile方式传输文件，默认为off，可以在http块，server块，location块。</span></span><br><span class="line">    <span class="attribute">sendfile_max_chunk</span> <span class="number">100k</span>;  <span class="comment">#每个进程每次调用传输数量不能大于设定的值，默认为0，即不设上限。</span></span><br><span class="line">    <span class="attribute">keepalive_timeout</span> <span class="number">65</span>;  <span class="comment">#连接超时时间，默认为75s，可以在http，server，location块。</span></span><br><span class="line"></span><br><span class="line">    <span class="attribute">upstream</span> mysvr &#123;   </span><br><span class="line">      <span class="attribute">server</span> <span class="number">127.0.0.1:7878</span>;</span><br><span class="line">      <span class="attribute">server</span> <span class="number">192.168.10.121:3333</span> backup;  <span class="comment">#热备</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="attribute">error_page</span> <span class="number">404</span> https://www.baidu.com; <span class="comment">#错误页</span></span><br><span class="line">    <span class="section">server</span> &#123; <span class="comment">#一个server就是一个服务</span></span><br><span class="line">        <span class="attribute">keepalive_requests</span> <span class="number">120</span>; <span class="comment">#单连接请求上限次数。</span></span><br><span class="line">        <span class="attribute">listen</span>       <span class="number">4545</span>;   <span class="comment">#监听端口</span></span><br><span class="line">        <span class="attribute">server_name</span>  <span class="number">127.0.0.1</span>;   <span class="comment">#服务名称，监听地址，域名 server_name:listen/root/uri       </span></span><br><span class="line">        <span class="attribute">location</span>  ~*^.+$ &#123;       <span class="comment">#请求的url过滤，正则匹配，~为区分大小写，~*为不区分大小写。</span></span><br><span class="line">           <span class="comment">#root path;  #资源目录</span></span><br><span class="line">           <span class="comment">#index index.html;  #设置默认页</span></span><br><span class="line">           <span class="attribute">proxy_pass</span>  http://mysvr;  <span class="comment">#请求转向mysvr 定义的服务器列表</span></span><br><span class="line">           <span class="attribute">deny</span> <span class="number">127.0.0.1</span>;  <span class="comment">#拒绝的ip</span></span><br><span class="line">           <span class="attribute">allow</span> <span class="number">172.18.5.54</span>; <span class="comment">#允许的ip           </span></span><br><span class="line">        &#125; </span><br><span class="line">        <span class="comment">#error_page 404		/404.html;</span></span><br><span class="line">        <span class="comment">#error_page 500 502 503  /50.html</span></span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-5-结构参数"><a href="#3-5-结构参数" class="headerlink" title="3.5 结构参数"></a>3.5 结构参数</h3><h4 id="3-5-0-main块"><a href="#3-5-0-main块" class="headerlink" title="3.5.0 main块"></a>3.5.0 main块</h4><h4 id="3-5-1-event块"><a href="#3-5-1-event块" class="headerlink" title="3.5.1 event块"></a>3.5.1 event块</h4><h4 id="3-5-2-http块"><a href="#3-5-2-http块" class="headerlink" title="3.5.2 http块"></a>3.5.2 http块</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">sendfile on; 开启静态资源快速传输，传送过程 磁盘-&gt;核心内存-&gt;用户内存-&gt;核心内存-&gt;tcp，省略了<span class="number">3</span>,<span class="number">4</span>步</span><br><span class="line">keepalive_timeout; 处理长连接，一般tcp连接经过三次挥手，浪费极大，而开启长连接就能复用上一次的连接</span><br><span class="line">keepalive_requests <span class="number">20</span>; 长连接次数  <span class="number">20</span>次连接后，就需要重新建立连接 </span><br><span class="line">listen <span class="number">80</span> <span class="selector-attr">[defalut_server]</span>; 监听的端口</span><br><span class="line">server_name localhost;虚拟主机的名称,值：localhost,ip,域名，正则，通配符星号</span><br></pre></td></tr></table></figure>

<h5 id="3-5-2-1-defalut-server"><a href="#3-5-2-1-defalut-server" class="headerlink" title="3.5.2.1 defalut_server"></a>3.5.2.1 defalut_server</h5><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">server</span>&#123;</span><br><span class="line">	<span class="keyword">listen</span> <span class="number">888</span>;</span><br><span class="line">	server_name abc.com;</span><br><span class="line">	<span class="keyword">location</span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">server</span>&#123;</span><br><span class="line">	<span class="keyword">listen</span> <span class="number">888</span>;</span><br><span class="line">	server_name xxxx.com;</span><br><span class="line">	<span class="keyword">location</span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">第一个<span class="keyword">server</span>:abc.com就是默认<span class="keyword">server</span>,对于访问<span class="number">888</span>端口如果没有匹配到，就是转到abc.c</span><br></pre></td></tr></table></figure>

<h5 id="3-5-2-2-server-name"><a href="#3-5-2-2-server-name" class="headerlink" title="3.5.2.2 server_name"></a>3.5.2.2 server_name</h5><ol>
<li>通配符：*.wyg.com  *只能在首尾 *</li>
<li>正则：server_name ~^www.\w+.com     <code>www.*.com</code>  其中.是防转义字符</li>
<li>server_name匹配顺序<ol>
<li>精确匹配</li>
<li>通配符在首部的   <code>*.abc.com</code></li>
<li>通配符*在结尾的  <code>www.wyg.*</code></li>
<li>正则匹配</li>
<li>default_server</li>
</ol>
</li>
</ol>
<h4 id="3-5-3-server块"><a href="#3-5-3-server块" class="headerlink" title="3.5.3 server块"></a>3.5.3 server块</h4><h4 id="3-5-4-location块"><a href="#3-5-4-location块" class="headerlink" title="3.5.4 location块"></a>3.5.4 location块</h4><ol>
<li>支持多种</li>
</ol>
<h3 id="3-6-特殊"><a href="#3-6-特殊" class="headerlink" title="3.6 特殊"></a>3.6 特殊</h3><h4 id="3-6-1-多种块都存在的参数"><a href="#3-6-1-多种块都存在的参数" class="headerlink" title="3.6.1 多种块都存在的参数"></a>3.6.1 多种块都存在的参数</h4><p>例如: access.log</p>
<p><strong>就近原则</strong></p>
<ol>
<li><p>在http中</p>
</li>
<li><p>在server中</p>
</li>
<li><p>在location中</p>
</li>
</ol>
<h2 id="二、使用"><a href="#二、使用" class="headerlink" title="二、使用"></a>二、使用</h2><h3 id="4-1-nginx虚拟主机配置"><a href="#4-1-nginx虚拟主机配置" class="headerlink" title="4.1 nginx虚拟主机配置"></a>4.1 nginx虚拟主机配置</h3><h4 id="4-1-1-步骤"><a href="#4-1-1-步骤" class="headerlink" title="4.1.1 步骤"></a>4.1.1 步骤</h4><ol>
<li><p>创建三个文件夹</p>
<figure class="highlight stata"><table><tr><td class="code"><pre><span class="line"><span class="keyword">mkdir</span> aa bb <span class="keyword">cc</span></span><br></pre></td></tr></table></figure></li>
<li><p>将index.html放进aa bb cc</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">vim</span> <span class="built_in">index</span>.html</span><br><span class="line"><span class="keyword">cp</span> <span class="built_in">index</span>.html aa</span><br><span class="line"><span class="keyword">cp</span> <span class="built_in">index</span>.html bb</span><br><span class="line"><span class="keyword">cp</span> <span class="built_in">index</span>.html <span class="keyword">cc</span></span><br></pre></td></tr></table></figure></li>
<li><p>修改nginx.conf</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">   </span><br></pre></td></tr></table></figure></li>
<li><p>更改hosts文件或者购买域名</p>
<figure class="highlight accesslog"><table><tr><td class="code"><pre><span class="line"><span class="number">114.55.253.244</span> aa bb cc</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="4-2-反向代理"><a href="#4-2-反向代理" class="headerlink" title="4.2 反向代理"></a>4.2 反向代理</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">server &#123; #一个server就是一个服务</span><br><span class="line">    keepalive_requests <span class="number">120</span>; #单连接请求上限次数。</span><br><span class="line">    listen       <span class="number">80</span>;   #监听端口</span><br><span class="line">    server_name  wyg.aa.com;   #监听地址</span><br><span class="line">    root /usr/local/nginx/test/aa;  #资源目录</span><br><span class="line">    location  / &#123;       #请求的url过滤，正则匹配，~为区分大小写，~*为不区分大小写。</span><br><span class="line">        proxy_pass http:<span class="comment">//127.0.0.1:8003;d</span></span><br><span class="line">        index index.html;  #设置默认页</span><br><span class="line">    &#125;</span><br><span class="line">    #error_page <span class="number">404</span>         /<span class="number">404.</span>html;</span><br><span class="line">    #error_page <span class="number">500</span> <span class="number">502</span> <span class="number">503</span>  /<span class="number">50.</span>html</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="4-3-静态资源"><a href="#4-3-静态资源" class="headerlink" title="4.3 静态资源"></a>4.3 静态资源</h3><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">location /uri &#123;  </span><br><span class="line">    root <span class="regexp">/data/</span>w3;</span><br><span class="line">&#125;</span><br><span class="line">访问   server:port<span class="regexp">/uri/</span>a.png</span><br><span class="line">真实路径  root+uri+a.png</span><br></pre></td></tr></table></figure>

<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">location /uri &#123;  </span><br><span class="line">    alias <span class="regexp">/data/</span>w3;</span><br><span class="line">&#125;</span><br><span class="line">访问   server:port<span class="regexp">/uri/</span>a.png</span><br><span class="line">真实路径  alias+uri</span><br></pre></td></tr></table></figure>

<ol>
<li>关键字：<ol>
<li>location </li>
<li>root  有点像根前缀</li>
<li>alias  前缀+中缀</li>
<li>uri  有点像中缀</li>
<li>path</li>
<li>img.png  是真是资源后缀</li>
</ol>
</li>
</ol>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="4-4-负载均衡"><a href="#4-4-负载均衡" class="headerlink" title="4.4 负载均衡"></a>4.4 负载均衡</h3><figure class="highlight abnf"><table><tr><td class="code"><pre><span class="line">upstream test &#123;</span><br><span class="line">    ip_hash<span class="comment">;</span></span><br><span class="line">    server <span class="number">192.168</span>.<span class="number">0.1</span><span class="comment">;</span></span><br><span class="line">    server <span class="number">192.168</span>.<span class="number">0.2</span><span class="comment">;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-5-跨域"><a href="#4-5-跨域" class="headerlink" title="4.5 跨域"></a>4.5 跨域</h3><h2 id="五、其他"><a href="#五、其他" class="headerlink" title="五、其他"></a>五、其他</h2><h3 id="5-0-nginx正则匹配"><a href="#5-0-nginx正则匹配" class="headerlink" title="5.0 nginx正则匹配"></a>5.0 nginx正则匹配</h3><h3 id="5-1-注意"><a href="#5-1-注意" class="headerlink" title="5.1 注意"></a>5.1 注意</h3><ol>
<li><p>尽量不写结尾的”/“符号，不然很难匹配</p>
<p>​    有以下规则</p>
<ol>
<li>如果在配置路径写了结尾”/“，那么在浏览器也必须写结尾的”/“</li>
<li>如果配置路径没写结尾”/“，那么在浏览器可写可不写”/ “</li>
<li>所以，**配置里面不要写结尾的/  **</li>
</ol>
</li>
<li><p>更新资源不需要reload，更新配置文件才需要reload</p>
</li>
</ol>
<h4 id="5-1-2-目录权限问题-403错误"><a href="#5-1-2-目录权限问题-403错误" class="headerlink" title="5.1.2 目录权限问题 403错误"></a>5.1.2 目录权限问题 403错误</h4><ol>
<li><p>如果是root的启动，那么nginx不能代理其他用户权限的文件夹，获取权限方式</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">chown -R wyg <span class="regexp">/home/</span>testUser</span><br></pre></td></tr></table></figure></li>
<li><p>不能访问 /root下的文件问题</p>
<figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">配置文件第一行指定用户</span><br><span class="line"><span class="keyword">user</span> <span class="title">root</span>;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="六、linux相关"><a href="#六、linux相关" class="headerlink" title="六、linux相关"></a>六、linux相关</h2><h3 id="6-1-做成操作系统服务"><a href="#6-1-做成操作系统服务" class="headerlink" title="6.1 做成操作系统服务"></a>6.1 做成操作系统服务</h3><ol>
<li><p>linux服务默认位置：/usr/lib/systemd/system</p>
</li>
<li><p>在该文件夹下创建nginx.service</p>
</li>
<li><p>添加内容</p>
<figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line"><span class="string">....</span>百度查询nginx.servie</span><br></pre></td></tr></table></figure></li>
<li><p>修改权限</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">chmod</span> <span class="number">755</span> nginx.service</span><br></pre></td></tr></table></figure></li>
<li><p>启动</p>
<figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">systemctl <span class="literal">start</span> nginx</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="六、原理-暂无"><a href="#六、原理-暂无" class="headerlink" title="六、原理-暂无"></a>六、原理-暂无</h2><p>下载tomcat</p>
<p>wget <a href="https://archive.apache.org/dist/tomcat/tomcat-8/v8.0.23/bin/apache-tomcat-8.0.23.tar.gz">https://archive.apache.org/dist/tomcat/tomcat-8/v8.0.23/bin/apache-tomcat-8.0.23.tar.gz</a></p>
<p>tar -zxvf …</p>
<p>./tomcat/bin/startup.sh</p>
]]></content>
      <categories>
        <category>组件</category>
      </categories>
  </entry>
  <entry>
    <title>单点登录</title>
    <url>/2022/03/08/%E7%BB%84%E4%BB%B6/%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、授权登录"><a href="#一、授权登录" class="headerlink" title="一、授权登录"></a>一、授权登录</h2><ol>
<li>单点登录，自系统登录，SSO， Singal Sign on</li>
<li>只需要登陆一次就能无需登录访问其他模块</li>
</ol>
<h2 id="二、SSO三种方法"><a href="#二、SSO三种方法" class="headerlink" title="二、SSO三种方法"></a>二、SSO三种方法</h2><blockquote>
<p> 在百度浏览器登录后，打开百度贴吧就自动登录了，不需要二次登录。这就是单点登录</p>
</blockquote>
<h3 id="2-1-session广播"><a href="#2-1-session广播" class="headerlink" title="2.1 session广播"></a>2.1 session广播</h3><ol>
<li><p>把session复制到其他模块</p>
</li>
<li><p>缺点：复制太浪费资源（时间+内存）</p>
</li>
<li><p>cookie+redis</p>
<ol>
<li>redis  放置  k:生成随即唯一值（用户ip,id）,v:用户信息</li>
<li>cookie  将k放入cookie中</li>
<li>访问其他模块时，带着cookie，取出k,查询redis,如果查到并正确</li>
<li>也就是只需要验证签名，就能放心的取出的信息安全有效</li>
</ol>
</li>
<li><p>token(令牌)</p>
<ol>
<li><p>token是按照一定规则生成的并加密的字符串</p>
</li>
<li><p>用户登录–&gt;生成随机字符串–&gt;拼接用户信息</p>
</li>
<li><p>每次访问其他模块，带着这个字符串，其他模块会解码取出用户信息并验证</p>
</li>
<li><p>也就是没到一个模块都要通过User数据库验证token才能确保信息安全有效</p>
<span id="more"></span></li>
</ol>
</li>
</ol>
<h3 id="2-2-CAS-中央认证服务"><a href="#2-2-CAS-中央认证服务" class="headerlink" title="2.2 CAS 中央认证服务"></a>2.2 CAS 中央认证服务</h3><p><img src="https://img-blog.csdnimg.cn/20181215232036639.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg0NDE4OQ==,size_16,color_FFFFFF,t_70" alt="fff"></p>
<h3 id="2-3-JWT-json-web-token"><a href="#2-3-JWT-json-web-token" class="headerlink" title="2.3 JWT(json web token)"></a>2.3 JWT(json web token)</h3><blockquote>
<p> 把信息进行安全的json封装，在不同服务器之间传输。</p>
</blockquote>
<h4 id="2-3-1-组成-分割"><a href="#2-3-1-组成-分割" class="headerlink" title="2.3.1 组成(.分割)"></a>2.3.1 组成(.分割)</h4><ol>
<li><p>Header</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;&#x27;typ&#x27;:&#x27;jwt&#x27;, token类型</span><br><span class="line">&#x27;alg&#x27;:&#x27;hs256&#x27;&#125; 算法名称</span><br></pre></td></tr></table></figure></li>
<li><p>payload载荷(主要信息)</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;wang&quot;</span>,<span class="attr">&quot;admin&quot;</span>:<span class="literal">true</span>&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>signature签名哈希(防伪标志)</p>
<ol>
<li>header的Base64编码</li>
<li>payload的Base64编码</li>
<li>使用header的加密算法加密1.2部分得到的结果</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">jwt=</span><br><span class="line">base64(header)+base64(payload)+<span class="string">&quot;.&quot;</span>+</span><br><span class="line">HMACSHA256( base64UrlEncode(header) +<span class="string">&quot;.&quot;</span>+ base64UrlEncode(payload)+<span class="string">&quot;.&quot;</span>+base65(secretKey)) </span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="2-3-2-相关网站"><a href="#2-3-2-相关网站" class="headerlink" title="2.3.2 相关网站"></a>2.3.2 相关网站</h4><ol>
<li><a href="https://jwt.io/">jwt生成</a></li>
<li><a href="https://1024tools.com/hmac">HMAC sha256加密</a></li>
<li><a href="https://base64.supfree.net/">base64解码</a></li>
</ol>
<h4 id="2-3-3-JWT登录流程"><a href="#2-3-3-JWT登录流程" class="headerlink" title="2.3.3 JWT登录流程"></a>2.3.3 JWT登录流程</h4><ol>
<li>登录–&gt;user<ol>
<li>数据库查询(md5,slat等等等)验证user</li>
<li>返回token=JWT(userInfo)</li>
</ol>
</li>
</ol>
<h4 id="2-3-4-基本使用"><a href="#2-3-4-基本使用" class="headerlink" title="2.3.4 基本使用"></a>2.3.4 基本使用</h4><ol>
<li><p>依赖</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.jsonwebtoken<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jjwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>工具类   id+name–&gt;token   </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JwtUtils</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> EXPIRE = <span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span>; <span class="comment">//token过期时间</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String APP_SECRET = <span class="string">&quot;ukc8BDbRigUDaY6pZFfWus2jZWLPHO&quot;</span>; <span class="comment">//秘钥</span></span><br><span class="line">    <span class="comment">//生成token字符串的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getJwtToken</span><span class="params">(String id, String nickname)</span></span>&#123;</span><br><span class="line">        String JwtToken = Jwts.builder()</span><br><span class="line">                .setHeaderParam(<span class="string">&quot;typ&quot;</span>, <span class="string">&quot;JWT&quot;</span>)<span class="comment">//1header  </span></span><br><span class="line">                .setHeaderParam(<span class="string">&quot;alg&quot;</span>, <span class="string">&quot;HS256&quot;</span>)<span class="comment">//header 加密算法</span></span><br><span class="line">                .setSubject(<span class="string">&quot;wangyonggan&quot;</span>)<span class="comment">//分类，随便写</span></span><br><span class="line">                .setIssuedAt(<span class="keyword">new</span> Date())  </span><br><span class="line">                .setExpiration(<span class="keyword">new</span> Date(System.currentTimeMillis() + EXPIRE))<span class="comment">//过期时间</span></span><br><span class="line">                .claim(<span class="string">&quot;id&quot;</span>, id)  <span class="comment">//2token主体部分 ，存储用户信息</span></span><br><span class="line">                .claim(<span class="string">&quot;nickname&quot;</span>, nickname)</span><br><span class="line">                .signWith(SignatureAlgorithm.HS256, APP_SECRET)<span class="comment">//3签名</span></span><br><span class="line">                .compact();<span class="comment">//拼接生成</span></span><br><span class="line">        <span class="keyword">return</span> JwtToken;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>工具类—-&gt;解析JWT</p>
<ol>
<li>request.header的token</li>
<li>密钥</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getMemberIdByJwtToken</span><span class="params">(HttpServletRequest request)</span> </span>&#123;</span><br><span class="line">       String jwtToken = request.getHeader(<span class="string">&quot;token&quot;</span>);</span><br><span class="line">       <span class="keyword">if</span>(StringUtils.isEmpty(jwtToken)) <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="comment">//加入签名-密钥获得主体claims     </span></span><br><span class="line">       Jws&lt;Claims&gt; claimsJws = Jwts.parser().setSigningKey(APP_SECRET).parseClaimsJws(jwtToken);</span><br><span class="line">       Claims claims = claimsJws.getBody();</span><br><span class="line">       <span class="keyword">return</span> (String)claims.get(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="2-3-5-JWT缺点"><a href="#2-3-5-JWT缺点" class="headerlink" title="2.3.5 JWT缺点"></a>2.3.5 JWT缺点</h4><ol>
<li>续签问题<ol>
<li>session自带30分钟的过期事件，如果30分钟内再次访问，会刷新为30分钟</li>
<li>JWT的过期参数在payload中，如果修改了payload，那么就会有签名起冲突</li>
<li>解决方案<ol>
<li>每次访问刷新JWT,把payload，连带签名一起修改了</li>
<li>快过期的时候再刷新payload和签名</li>
<li>redis做过期时间</li>
</ol>
</li>
</ol>
</li>
<li>注销场景</li>
<li>修改密码场景</li>
</ol>
<h2 id="三、微服务登录"><a href="#三、微服务登录" class="headerlink" title="三、微服务登录"></a>三、微服务登录</h2><h3 id="3-1-OAuth协议"><a href="#3-1-OAuth协议" class="headerlink" title="3.1 OAuth协议"></a>3.1 OAuth协议</h3><ol>
<li>为用户资源授权的协议，第三方不需要知道用户的账号和密码就能知道这个用户是谁</li>
</ol>
]]></content>
      <categories>
        <category>组件</category>
      </categories>
  </entry>
  <entry>
    <title>web组件</title>
    <url>/2022/03/08/%E7%BB%84%E4%BB%B6/web%E7%BB%84%E4%BB%B6/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="thymeleaf"><a href="#thymeleaf" class="headerlink" title="thymeleaf"></a>thymeleaf</h3><ol>
<li><p>步骤</p>
<ol>
<li><p>controller传入Model model</p>
</li>
<li><p>```java<br>model.addAttribute(“name”, “xxxxx”);</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">3. html加入命名空间</span><br><span class="line"></span><br><span class="line">   ```html</span><br><span class="line">   &lt;html <span class="attribute">lang</span>=<span class="string">&quot;en&quot;</span>   xmlns:<span class="attribute">th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>html调用</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">&quot;&#x27;hello&#x27; +$&#123;name&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<span id="more"></span>

<h3 id="mybaitsplus"><a href="#mybaitsplus" class="headerlink" title="mybaitsplus"></a>mybaitsplus</h3><ol>
<li><p>步骤</p>
<ol>
<li><p>依赖</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>mybatis-plus-latest-version<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h3 id="Spring-Security"><a href="#Spring-Security" class="headerlink" title="Spring Security"></a>Spring Security</h3><ol>
<li><p> 核心功能</p>
</li>
<li><p>登录认证</p>
</li>
<li><p>用户授权</p>
</li>
<li><p>防止伪造身份</p>
</li>
<li><p>特点</p>
<ol>
<li>和spring无缝连接</li>
<li>功能强大，使用简单</li>
<li>重量级，依赖多</li>
</ol>
</li>
<li><p>使用步骤</p>
<ol>
<li><p>依赖</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>启动</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211005014215091.png" alt="image-20211005014215091"></p>
</li>
<li><p>原理：本质是一个过滤器—过滤器—过滤器的链</p>
<ol>
<li><p>登录拦截—&gt;Authentication</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">FilterSecurityInterceptor.doFilter</span><br><span class="line">UsernamePasswordAuthenticationFilter.doFilter <span class="comment">//拦截post的login</span></span><br></pre></td></tr></table></figure></li>
<li><p>过滤器加载：</p>
<ol>
<li><p>加入依赖后springBoot自动加入security配置</p>
<ol>
<li><p>初始化: intiDelegate(WebConfigContext/WebApplicationContext)</p>
<p>wac.getBean(filterName”FilterChainProxy”)</p>
</li>
<li><p>FilterChainProxy.doFilter-&gt;doFilterInternal把所有的过滤器加载到List</p>
</li>
</ol>
</li>
</ol>
</li>
<li><p>两个接口：用于自定义数据库认证</p>
<ol>
<li>@UserDetailsService 用户，基于UsernamaPassword过滤器</li>
<li>@PasswordEncoder 加密密码</li>
</ol>
</li>
<li><p>认证</p>
<ol>
<li><p>设置用户名和密码</p>
<ol>
<li><p>通过配置文件—pro</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">spring.security.user.name</span>=<span class="string">wang</span></span><br><span class="line"><span class="meta">spring.security.user.password</span>=<span class="string">123456</span></span><br></pre></td></tr></table></figure></li>
<li><p>通过继承配置类—WebSecurityConfigerAdapter</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Adapter</span> <span class="keyword">extends</span> <span class="title">WebSecurityConfigurerAdapter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        BCryptPasswordEncoder passwordEncoder=<span class="keyword">new</span> BCryptPasswordEncoder();</span><br><span class="line">        String password = passwordEncoder.encode(<span class="string">&quot;123456&quot;</span>);<span class="comment">//设置密码</span></span><br><span class="line">      auth.inMemoryAuthentication().withUser(<span class="string">&quot;wang&quot;</span>).password(password).roles(<span class="string">&quot;admin&quot;</span>);<span class="comment">//配置</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>报错</p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">There <span class="keyword">is</span> no PasswordEncoder mapped <span class="keyword">for</span> <span class="keyword">the</span> <span class="built_in">id</span> <span class="string">&quot;null&quot;</span></span><br></pre></td></tr></table></figure>

<p>原因：没有加载到PasswordEncoder这个类</p>
<p>解决：手动在@Component里面加入@Bean</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line">    <span class="function">PasswordEncoder <span class="title">passwordEncoderxxx</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BCryptPasswordEncoder();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>自定义实现类查询数据库(实际开发)</p>
<ol>
<li><p>没有配置文件的配置，没有WebSecurityConfigerAdapter，那么security就会找UserDetailService接口的是实现类</p>
</li>
<li><p>步骤</p>
<ol>
<li><p>创建UserDetailService手工辅助Bean,并返回一个完整的用于认证和权限鉴定的User{username,password,authorities}</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">UserMapper userMapper;</span><br><span class="line"><span class="meta">@Service(&quot;userDetailsService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> <span class="keyword">implements</span> <span class="title">UserDetailsService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> UserDetails <span class="title">loadUserByUsername</span><span class="params">(String s)</span> <span class="keyword">throws</span> UsernameNotFoundException </span>&#123;</span><br><span class="line">        List&lt;GrantedAuthority&gt; authorities = AuthorityUtils.commaSeparatedStringToAuthorityList(<span class="string">&quot;role&quot;</span>);<span class="comment">//加入权限</span></span><br><span class="line">        <span class="comment">//通过数据库获取用户名和密码，这里会自动比较密码是否真确，因为之前已经拦截过user.name和user.password了</span></span><br><span class="line">        String name = <span class="string">&quot;wang&quot;</span>;</span><br><span class="line">        String password = <span class="string">&quot;123&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> User(name,</span><br><span class="line">                <span class="keyword">new</span> BCryptPasswordEncoder().encode(password), authorities);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>创建WebSecurityConfigerAdapter的子类进行</p>
<ol>
<li><p>认证:configure(AuthenticationManagerBuilder auth)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MySecurityConfig</span> <span class="keyword">extends</span> <span class="title">WebSecurityConfigurerAdapter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserDetailsService userDetailsService;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;认证&quot;</span>);</span><br><span class="line">        auth.userDetailsService(userDetailsService).passwordEncoder(<span class="keyword">new</span> BCryptPasswordEncoder());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>权限鉴定:  void configure(HttpSecurity http)  </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        http.formLogin()<span class="comment">//自定义登录</span></span><br><span class="line">                .loginPage(<span class="string">&quot;/login.html&quot;</span>)<span class="comment">//登录页面---&gt;去另一个configure认证---&gt;认证完---&gt;原路径</span></span><br><span class="line">                .loginProcessingUrl(<span class="string">&quot;/user/login&quot;</span>)<span class="comment">//登录访问路径--&gt;postController</span></span><br><span class="line">                .defaultSuccessUrl(<span class="string">&quot;/test/index&quot;</span>).permitAll()<span class="comment">//登录成功页面</span></span><br><span class="line">                .and().authorizeRequests().antMatchers(<span class="string">&quot;/&quot;</span>,<span class="string">&quot;/test/hi&quot;</span>,<span class="string">&quot;/user/login&quot;</span>).permitAll()<span class="comment">//不需要认证的界面</span></span><br><span class="line">                .anyRequest().authenticated()</span><br><span class="line">                .and().csrf().disable();<span class="comment">//关闭csrf防护。</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>权限鉴定步骤:</p>
<ol>
<li>用户登录访问任意需要认证的路径，比如/test/hello,”/test/hi”不行。</li>
<li>会跳转到/login.html，用户输入用户名和密码，访问login.html的post表单地址,这个地址对应loginProcessingUrl(“/user/login”)。</li>
<li>认证成功后跳转回/test/hello</li>
<li>失败</li>
<li>暂时没发现defaultSuccessUrl作用</li>
<li>注意login.html必须是username,password</li>
<li>bug—-&gt;我的测试页面一直不需要认证，原因是浏览器没关闭，cookie自带的信息帮我认证了。</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li><p>角色权限</p>
<ol>
<li><p>基于角色/权限访问</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//只有admin才能访问index----&gt;userService从数据库拿到设置权限</span></span><br><span class="line"><span class="comment">//                .antMatchers(&quot;/test/index&quot;).hasAnyAuthority(&quot;admin&quot;)//全部权限</span></span><br><span class="line">                .antMatchers(<span class="string">&quot;test/index&quot;</span>).hasAnyAuthority(<span class="string">&quot;admin,user&quot;</span>)<span class="comment">//任意权限</span></span><br><span class="line"><span class="comment">//                .antMatchers(&quot;/test/index&quot;).hasRole(&quot;&quot;)</span></span><br><span class="line">                .anyRequest().authenticated()</span><br><span class="line">                .and().csrf().disable();<span class="comment">//关闭csrf防护。</span></span><br></pre></td></tr></table></figure>

<ol>
<li>hasAuthority 全部权限</li>
<li>hasAnyAutority 任意权限</li>
<li>hasRole 全部角色</li>
<li>hasAnyRole 任意角色</li>
</ol>
</li>
<li><p>设置权限、角色</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;GrantedAuthority&gt; authorities = AuthorityUtils.commaSeparatedStringToAuthorityList(<span class="string">&quot;ROLE_admin,admin&quot;</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>加入无权限页面</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">http.exceptionHandling().accessDeniedPage(<span class="string">&quot;/unauth.html&quot;</span>);</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>基于注解而非配置链.antMatchers(“test/index”).hasAnyAuthority(“admin,user”)的方式</p>
<ol>
<li>@EnableGlobalMethodSecurity(securedEnabled = true) AppRun开启鉴权注解模式</li>
<li>@Secured 用户是否拥有运行这个Controller方法的角色</li>
<li>@PreAuthorize 进入方法前</li>
<li>@PostAuthorize 方法执行后进行鉴权</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h5 id="一些理解"><a href="#一些理解" class="headerlink" title="一些理解"></a>一些理解</h5><ol>
<li>感觉SpringSecurity就是一个拿着cookie和客户端请求乱跑的组件。哪里请求鉴权哪里。</li>
<li></li>
</ol>
<h3 id="MybatisPlus"><a href="#MybatisPlus" class="headerlink" title="MybatisPlus"></a>MybatisPlus</h3><ol>
<li>SpringBoot配置文件pro</li>
</ol>
<ol>
<li>server.port=9090 端口</li>
<li>spring.security.user.name=”wang” s</li>
<li>spring.security.user.password=”123456”</li>
</ol>
<h3 id="Lombok"><a href="#Lombok" class="headerlink" title="Lombok"></a>Lombok</h3><ol>
<li>@Data相当于@Getter @Setter @RequiredArgsConstructor @ToString @EqualsAndHashCode这5个注解的合集。</li>
<li>@EqualsAndHashCode(callSuper = true)  验证子类也为equal true</li>
</ol>
<h3 id="issue"><a href="#issue" class="headerlink" title="issue"></a>issue</h3><ol>
<li></li>
</ol>
]]></content>
      <categories>
        <category>组件</category>
      </categories>
  </entry>
  <entry>
    <title>参数校验组件</title>
    <url>/2022/03/08/%E7%BB%84%E4%BB%B6/%E5%8F%82%E6%95%B0%E6%A0%A1%E9%AA%8C/</url>
    <content><![CDATA[<h3 id=""><a href="#" class="headerlink" title=""></a></h3><ol>
<li><p>所有</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211009142246223.png" alt="image-20211009142246223"></p>
</li>
<li><p>总开关@valid</p>
</li>
<li><p>entity加入@null @size等</p>
</li>
<li><p>指定massage</p>
</li>
<li><p>参数校验异常TO global</p>
</li>
<li></li>
</ol>
]]></content>
      <categories>
        <category>组件2</category>
      </categories>
  </entry>
  <entry>
    <title>web图片上传与获取</title>
    <url>/2022/03/08/%E7%BB%84%E4%BB%B6/%E5%9B%BE%E7%89%87%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="配置资源路径"><a href="#配置资源路径" class="headerlink" title="配置资源路径"></a>配置资源路径</h3><ol>
<li><p>配置类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebResourceConfig</span> <span class="keyword">implements</span> <span class="title">WebMvcConfigurer</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> </span>&#123;</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/img/**&quot;</span>).addResourceLocations(<span class="string">&quot;file:D:/data/java/img/&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>上传mutifile到指定路径</p>
</li>
<li><p>html访问/img/</p>
</li>
</ol>
<h3 id="properties配置文件"><a href="#properties配置文件" class="headerlink" title="properties配置文件"></a>properties配置文件</h3><ol>
<li></li>
</ol>
<h3 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h3><ol>
<li></li>
</ol>
<h3 id="阿里云OSS"><a href="#阿里云OSS" class="headerlink" title="阿里云OSS"></a>阿里云OSS</h3><ol>
<li><p>依赖</p>
</li>
<li><p>配置</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.aliyun.oss<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aliyun-sdk-oss<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>代码</p>
<ol>
<li><p>配置类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConstantPropertiesUtils</span> <span class="keyword">implements</span> <span class="title">InitializingBean</span> </span>&#123; <span class="meta">@Value(&quot;$&#123;aliyun.oss.file.endpoint&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String endpoint; <span class="meta">@Value(&quot;$&#123;aliyun.oss.file.keyid&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String keyId; <span class="meta">@Value(&quot;$&#123;aliyun.oss.file.keysecret&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String keySecret; <span class="meta">@Value(&quot;$&#123;aliyun.oss.file.bucketname&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String bucketName;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String END_POIND;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String ACCESS_KEY_ID;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String ACCESS_KEY_SECRET;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String BUCKET_NAME;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterPropertiesSet</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        END_POIND = endpoint;</span><br><span class="line">        ACCESS_KEY_ID = keyId;</span><br><span class="line">        ACCESS_KEY_SECRET = keySecret;</span><br><span class="line">        BUCKET_NAME = bucketName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>上传</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">uploadFileAvatar</span><span class="params">(MultipartFile file)</span> </span>&#123;</span><br><span class="line">       <span class="comment">// 工具类获取值</span></span><br><span class="line">       String endpoint = OssConfig.END_POIND;</span><br><span class="line">       String bucketName = OssConfig.BUCKET_NAME;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           <span class="comment">// 创建OSS实例。</span></span><br><span class="line">           OSS ossClient = <span class="keyword">new</span> OSSClientBuilder().build(endpoint,</span><br><span class="line">                   OssConfig.ACCESS_KEY_ID, OssConfig.ACCESS_KEY_SECRET);</span><br><span class="line">           <span class="comment">//获取文件名称</span></span><br><span class="line">           String fileName =getFileName(file.getOriginalFilename());</span><br><span class="line">           fileName=<span class="string">&quot;test.jpg&quot;</span>;</span><br><span class="line">           <span class="comment">//第一个参数  Bucket名称 文件路径  文件流</span></span><br><span class="line">           ossClient.putObject(bucketName, fileName, file.getInputStream());</span><br><span class="line">           ossClient.shutdown();  <span class="comment">// 关闭OSSClient。</span></span><br><span class="line">           <span class="comment">//把上传之后文件路径返回</span></span><br><span class="line">           <span class="comment">//需要把上传到阿里云oss路径手动拼接出来</span></span><br><span class="line">           String url = <span class="string">&quot;https://&quot;</span> + bucketName + <span class="string">&quot;.&quot;</span> + endpoint + <span class="string">&quot;/&quot;</span> + fileName;</span><br><span class="line">           System.out.println(url);<span class="comment">//https://job-wyg.oss-cn-beijing.aliyuncs.com/test.jpg</span></span><br><span class="line">           <span class="keyword">return</span> url;</span><br><span class="line">       &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">null</span>;&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>组件</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/%E7%BB%84%E4%BB%B6/%E6%97%A5%E5%BF%97/</url>
    <content><![CDATA[<h3 id="常见日志"><a href="#常见日志" class="headerlink" title="常见日志"></a>常见日志</h3><ol>
<li>JUL</li>
<li></li>
</ol>
<h3 id="知识"><a href="#知识" class="headerlink" title="知识"></a>知识</h3><ol>
<li><a href="https://cloud.tencent.com/developer/news/546399">常见日志组件的区别</a></li>
<li></li>
</ol>
<h3 id="logger"><a href="#logger" class="headerlink" title="logger"></a>logger</h3><ol>
<li><p>Log4j建议只使用四个级别，优先级从高到低分别是 ERROR、WARN、INFO、DEBUG</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">比如在这里定义了<span class="keyword">INFO</span>级别，则应用程序中所有<span class="keyword">DEBUG</span>级别的日志信息将不被打印出来，也是说大于等于的级别的日志才输出。</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="AOP统一日志"><a href="#AOP统一日志" class="headerlink" title="AOP统一日志"></a>AOP统一日志</h3><p>1. </p>
]]></content>
      <categories>
        <category>组件</category>
      </categories>
  </entry>
  <entry>
    <title>邮箱组件</title>
    <url>/2022/03/08/%E7%BB%84%E4%BB%B6/%E9%82%AE%E7%AE%B1%E6%9C%8D%E5%8A%A1/</url>
    <content><![CDATA[<h2 id="使用步骤"><a href="#使用步骤" class="headerlink" title="使用步骤"></a>使用步骤</h2><h3 id="1-依赖"><a href="#1-依赖" class="headerlink" title="1. 依赖"></a>1. 依赖</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-mail<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-获得qq邮箱授权码"><a href="#2-获得qq邮箱授权码" class="headerlink" title="2. 获得qq邮箱授权码"></a>2. 获得qq邮箱授权码</h3><p><a href="https://service.mail.qq.com/cgi-bin/help?subtype=1&&id=28&&no=1001256">什么是授权码，它又是如何设置？_QQ邮箱帮助中心</a></p>
<p>开启 POP3/SMTP服务</p>
<h3 id="3-配置文件"><a href="#3-配置文件" class="headerlink" title="3. 配置文件"></a>3. 配置文件</h3><p>创建配置文件application-email.properties</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">spring.mail.host</span>=<span class="string">smtp.qq.com</span></span><br><span class="line"><span class="meta">spring.mail.default-encoding</span>=<span class="string">utf-8</span></span><br><span class="line"><span class="meta">spring.mail.username</span>=<span class="string">2245316014@qq.com</span></span><br><span class="line"><span class="meta">spring.mail.password</span>=<span class="string">xxdmwhhxdeeoecja</span></span><br></pre></td></tr></table></figure>

<h3 id="代码编写"><a href="#代码编写" class="headerlink" title="代码编写"></a>代码编写</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> JavaMailSender jms;</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">sendSimpleEmail</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        SimpleMailMessage message = <span class="keyword">new</span> SimpleMailMessage();</span><br><span class="line">        message.setFrom(from);</span><br><span class="line">        message.setTo(<span class="string">&quot;2224569342@qq.com&quot;</span>); <span class="comment">// 接收地址</span></span><br><span class="line">        message.setSubject(<span class="string">&quot;一封简单的邮件&quot;</span>); <span class="comment">// 标题</span></span><br><span class="line">        message.setText(<span class="string">&quot;使用Spring Boot发送简单邮件。&quot;</span>); <span class="comment">// 内容</span></span><br><span class="line">        jms.send(message);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;发送成功&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        <span class="keyword">return</span> e.getMessage();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>组件</category>
      </categories>
  </entry>
  <entry>
    <title>数据库连接过程</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/jdbc-mybatis-druid/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、JDBC"><a href="#一、JDBC" class="headerlink" title="一、JDBC"></a>一、JDBC</h2><p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211107122656442.png" alt="image-20211107122656442"></p>
<h3 id="1-1代码"><a href="#1-1代码" class="headerlink" title="1.1代码"></a>1.1代码</h3><ol>
<li><p>创建连接</p>
<span id="more"></span>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);   <span class="comment">//加载驱动</span></span><br><span class="line">String url=<span class="string">&quot;jdbc:mysql://localhost:3306/testnewuser=root&amp;password=sa&amp;userUnicode=true&amp;characterEncoding=UTF8&quot;</span>;</span><br><span class="line">con = (Connection) DriverManager.getConnection(url,username,password)<span class="comment">//创建连接</span></span><br><span class="line">Statement s = c.createStatement();</span><br><span class="line">String sql = <span class="string">&quot;insert into hero values(null,&quot;</span>+<span class="string">&quot;&#x27;提莫&#x27;&quot;</span>+<span class="string">&quot;,&quot;</span>+<span class="number">313.0f</span>+<span class="string">&quot;,&quot;</span>+<span class="number">50</span>+<span class="string">&quot;)&quot;</span>;</span><br><span class="line">s.execute(sql);</span><br></pre></td></tr></table></figure></li>
<li><p>优化的Statement</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String sql=”.....”;<span class="comment">//PrepareStatement创建时直接指定sql对象</span></span><br><span class="line">PrepareStatement pstmt= conn.PrepareStatement(sql);</span><br><span class="line"><span class="comment">//PrepareStatement也有executeQuery，excuteUpdate方法，但是不带参数，因为创建PrepareStatement对象时候，conn.PrepareStatement(sql)方法已经指定sql语句。</span></span><br><span class="line">String sql = <span class="string">&quot;insert into hero values(null,?,?,?)&quot;</span>;</span><br><span class="line">PreparedStatement ps = c.prepareStatement(sql);<span class="comment">//此时会预编译</span></span><br><span class="line">ps.setString(<span class="number">1</span>, <span class="string">&quot;提莫&quot;</span>);</span><br><span class="line">ps.setFloat(<span class="number">2</span>, <span class="number">313.0f</span>);</span><br><span class="line">ps.setInt(<span class="number">3</span>, <span class="number">50</span>);</span><br><span class="line">ps.execute();</span><br></pre></td></tr></table></figure></li>
<li><p>执行方法</p>
<ol>
<li><p>executeQuery</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function">ResultSet <span class="title">executeQuery</span><span class="params">(String sql)</span><span class="comment">//执行select，返回结果集</span></span></span><br></pre></td></tr></table></figure></li>
<li><p>executeUpdate</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function">Int <span class="title">excuteUpdate</span><span class="params">(String sql)</span><span class="comment">//执行update，insert,delete，create返回一个整数</span></span></span><br></pre></td></tr></table></figure></li>
<li><p>execute</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">execute≈executeQuery+executeUpdate</span><br></pre></td></tr></table></figure>

<ul>
<li>不同1：<br>execute<strong>可以执行查询语句</strong><br>然后通过getResultSet，把结果集取出来<br>executeUpdate<strong>不能执行查询语句</strong></li>
<li>不同2:<br>execute<strong>返回boolean类型</strong>，true表示执行的是查询语句，false表示执行的是insert,delete,update等等<br>executeUpdate<strong>返回的是int</strong>，表示有多少条数据受到了影响</li>
</ul>
<p>代码比较复制代码</p>
</li>
<li><p>Batch</p>
</li>
</ol>
</li>
<li><p>结果</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ResultSet rs = s.getResultSet();</span><br><span class="line"><span class="keyword">while</span> (rs.next()) &#123;</span><br><span class="line">System.out.println(rs.getInt(<span class="string">&quot;id&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="1-2-Statement-PreparedStatement-CallableStatement"><a href="#1-2-Statement-PreparedStatement-CallableStatement" class="headerlink" title="1.2 Statement.PreparedStatement.CallableStatement"></a>1.2 Statement.PreparedStatement.CallableStatement</h3><p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211107113334671.png" alt="image-20211107113334671"></p>
<ol start="2">
<li><a href="https://www.cnblogs.com/noteless/p/10307273.html">区别与联系</a><ul>
<li>Statement接口提供了执行语句和获取结果的基本方法；<ul>
<li>普通的不带参的查询SQL</li>
<li>不会预编译</li>
</ul>
</li>
<li>PreparedStatement接口添加了处理输入参数的方法；<ul>
<li>支持可变参数的SQL</li>
<li>性能快，尤其是执行多次相同的语句，因为已经预编译好了，就差参数了</li>
<li>防止注入攻击原理：参数加引号</li>
<li>会预编译</li>
</ul>
</li>
<li>CallableStatement接口添加了调用存储过程核函数以及处理输出参数的方法。<ul>
<li>支持调用存储过程,提供了对输出和输入/输出参数(INOUT)的支持</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="1-3-事务"><a href="#1-3-事务" class="headerlink" title="1.3 事务"></a>1.3 事务</h3><ol>
<li><p>代码</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">c.setAutoCommit(<span class="keyword">false</span>);</span><br><span class="line">String sql1 = <span class="string">&quot;update hero set hp = hp +1 where id = 22&quot;</span>;</span><br><span class="line">s.execute(sql1);</span><br><span class="line">String sql2 = <span class="string">&quot;updata hero set hp = hp -1 where id = 22&quot;</span>;</span><br><span class="line">s.execute(sql2);</span><br><span class="line"><span class="comment">// 手动提交,要么都成功，要么都失败</span></span><br><span class="line">c.commit() or c.rollback()</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="1-4-数据库连接池"><a href="#1-4-数据库连接池" class="headerlink" title="1.4 数据库连接池"></a>1.4 数据库连接池</h3><p>​    每个线程都需要连接数据库执行SQL语句，每个线程都会创建一个连接，并且在使用完毕后，关闭连接。创建连接和关闭连接的过程也是很消耗资源的。同时，一个数据库同时支持的连接总数也是有限的，如果多线程并发量很大，那么数据库连接的总数就被消耗光，后续线程发起的数据库连接就会失败。</p>
<blockquote>
<p>​    连接池在使用之前，就会创建好一定数量的连接。如果有任何线程需要使用连接，那么就从连接池里面借用，而不是自己重新创建。使用完毕后，又把这个连接归还给连接池供下一次或者其他线程使用。倘若发生多线程并发情况，连接池里的连接被借用光了，那么其他线程就会临时等待，直到有连接被归还回来，再继续使用。整个过程，这些连接都不会被关闭，而是不断的被循环使用，从而节约了启动和关闭连接的时间。</p>
</blockquote>
<ol>
<li><p>druid配置</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">driverClassName</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">url</span>=<span class="string">jdbc:mysql://127.0.0.1:3306/db</span></span><br><span class="line"><span class="attr">username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">initialSize</span>=<span class="string">5</span></span><br><span class="line"><span class="attr">maxActive</span>=<span class="string">10</span></span><br><span class="line"><span class="attr">maxWait</span>=<span class="string">3000</span></span><br><span class="line"><span class="attr">minIdle</span>=<span class="string">3  # 最小连接池数量</span></span><br></pre></td></tr></table></figure></li>
<li><p>连接池</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Properties prop = <span class="keyword">new</span> Properties();</span><br><span class="line">InputStream is = DruidDemo.class.getClassLoader().getResourceAsStream(<span class="string">&quot;mydruid.properties&quot;</span>);</span><br><span class="line">prop.load(is);</span><br><span class="line"><span class="comment">//druid工厂根据配置文件创建druid连接池对象</span></span><br><span class="line">DataSource dataSource = DruidDataSourceFactory.createDataSource(prop);</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="1-5-JdbcUtils"><a href="#1-5-JdbcUtils" class="headerlink" title="1.5 JdbcUtils"></a>1.5 JdbcUtils</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JdbcUtils</span> </span>&#123;</span><br><span class="line">    <span class="comment">//声明配置信息</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String driver;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String url;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String username;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String password;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Connection con;</span><br><span class="line">    <span class="comment">//静态代码块,类加载时解析配置信息</span></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            InputStreamReader is = <span class="keyword">new</span> InputStreamReader</span><br><span class="line">                (JdbcUtils.class.getResourceAsStream(<span class="string">&quot;/jdbc.properties&quot;</span>));</span><br><span class="line">            Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">            properties.load(is);</span><br><span class="line">            driver = properties.getProperty(<span class="string">&quot;jdbc.driver&quot;</span>).trim();</span><br><span class="line">            url = properties.getProperty(<span class="string">&quot;jdbc.url&quot;</span>).trim();</span><br><span class="line">            username = properties.getProperty(<span class="string">&quot;jdbc.username&quot;</span>).trim();  </span><br><span class="line">            password = properties.getProperty(<span class="string">&quot;jdbc.password&quot;</span>).trim();</span><br><span class="line">            <span class="comment">//加载驱动获取连接</span></span><br><span class="line">            Class.forName(driver);</span><br><span class="line">            con =  DriverManager.getConnection(url, username, password);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 获取数据库连接（如果连接关闭则重新创建）</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (con.isClosed()) &#123;</span><br><span class="line">                con =  DriverManager.getConnection(</span><br><span class="line">                    url,username,password);</span><br><span class="line">                <span class="keyword">return</span> con;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> con;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 关闭资源（有结果集）</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">(ResultSet rs, Statement s, </span></span></span><br><span class="line"><span class="params"><span class="function">                             Connection con)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (rs != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                rs.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (s != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                s.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (con != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                con.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 关闭资源（无结果集）</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">(Statement s, Connection con)</span> </span>&#123;</span><br><span class="line">        close(<span class="keyword">null</span>, s, con);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-6-DruidUtils"><a href="#1-6-DruidUtils" class="headerlink" title="1.6 DruidUtils"></a>1.6 DruidUtils</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> DataSource dataSource;</span><br><span class="line"> <span class="keyword">static</span>&#123;</span><br><span class="line">     <span class="keyword">try</span> &#123;</span><br><span class="line">         <span class="comment">// 解析druid的配置文件</span></span><br><span class="line">         Properties prop = <span class="keyword">new</span> Properties();</span><br><span class="line">         InputStream is = JDBCUtil.class.getClassLoader().</span><br><span class="line">             getResourceAsStream(<span class="string">&quot;druid.properties&quot;</span>);</span><br><span class="line">         prop.load(is);</span><br><span class="line">         <span class="comment">// druid工厂使用配置文件创建druid连接池对象</span></span><br><span class="line">         dataSource = DruidDataSourceFactory.createDataSource(prop);</span><br><span class="line">     &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">         e.printStackTrace();</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">//获取druid连接池</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> DataSource <span class="title">getDataSource</span><span class="params">()</span></span>&#123;</span><br><span class="line">     <span class="keyword">return</span> dataSource;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">//获取druid连接池中的连接</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> dataSource.getConnection();</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">//释放资源(归还连接)</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">(ResultSet rs, Statement st,Connection conn)</span> </span>&#123;</span><br><span class="line">     <span class="keyword">if</span>(rs!=<span class="keyword">null</span>)&#123;</span><br><span class="line">         <span class="keyword">try</span> &#123;</span><br><span class="line">             rs.close();</span><br><span class="line">         &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">             e.printStackTrace();</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span>(st!=<span class="keyword">null</span>)&#123;</span><br><span class="line">         <span class="keyword">try</span> &#123;</span><br><span class="line">             st.close();</span><br><span class="line">         &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">             e.printStackTrace();</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span>(conn!=<span class="keyword">null</span>)&#123;</span><br><span class="line">         <span class="keyword">try</span> &#123;</span><br><span class="line">             conn.close();</span><br><span class="line">         &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">             e.printStackTrace();</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">(Statement st,Connection conn)</span> </span>&#123;</span><br><span class="line">     close(<span class="keyword">null</span>,st,conn);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>数据库</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/12/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql%E4%B8%80%E4%BA%9B%E9%AB%98%E7%BA%A7%E6%A6%82%E5%BF%B5/</url>
    <content><![CDATA[<ol>
<li>分区</li>
<li>主从复制</li>
<li>集群</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>mysql知识</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql%E7%9F%A5%E8%AF%86/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="字符类型"><a href="#字符类型" class="headerlink" title="字符类型"></a>字符类型</h3><span id="more"></span>

<h2 id="二、数据类型"><a href="#二、数据类型" class="headerlink" title="二、数据类型"></a>二、数据类型</h2><h3 id="2-1-字符"><a href="#2-1-字符" class="headerlink" title="2.1 字符"></a>2.1 字符</h3><table>
<thead>
<tr>
<th>类型</th>
<th>名称</th>
<th>范围</th>
</tr>
</thead>
<tbody><tr>
<td>char</td>
<td>定长字符串</td>
<td>255</td>
</tr>
<tr>
<td>varchar</td>
<td>变长字符串</td>
<td>65535</td>
</tr>
</tbody></table>
<h3 id="2-2-文本text"><a href="#2-2-文本text" class="headerlink" title="2.2 文本text"></a>2.2 文本text</h3><table>
<thead>
<tr>
<th>类型</th>
<th>名称</th>
<th>范围</th>
</tr>
</thead>
<tbody><tr>
<td>tinytext</td>
<td></td>
<td>255</td>
</tr>
<tr>
<td>text</td>
<td></td>
<td>65535（2^16 64K）</td>
</tr>
<tr>
<td>mediumtext</td>
<td></td>
<td>16777215（2^24 16M）</td>
</tr>
<tr>
<td>longtext</td>
<td></td>
<td>4294967295（2^32 4G）</td>
</tr>
</tbody></table>
<h3 id="2-3-二进制大对象-blob"><a href="#2-3-二进制大对象-blob" class="headerlink" title="2.3 二进制大对象 blob"></a>2.3 二进制大对象 blob</h3><table>
<thead>
<tr>
<th>类型</th>
<th>名称</th>
<th>范围</th>
</tr>
</thead>
<tbody><tr>
<td>tinyblob</td>
<td></td>
<td>255</td>
</tr>
<tr>
<td>blob</td>
<td></td>
<td>65535</td>
</tr>
<tr>
<td>mediumblob</td>
<td></td>
<td>16777215</td>
</tr>
<tr>
<td>longblob</td>
<td></td>
<td>4294967295</td>
</tr>
</tbody></table>
<h3 id="2-4-数值"><a href="#2-4-数值" class="headerlink" title="2.4 数值"></a>2.4 数值</h3><table>
<thead>
<tr>
<th>类型</th>
<th>名称</th>
<th>范围</th>
</tr>
</thead>
<tbody><tr>
<td>TINYINT</td>
<td>最小整数</td>
<td></td>
</tr>
<tr>
<td>SMALLINT</td>
<td>小整数</td>
<td></td>
</tr>
<tr>
<td>MEDIUMINT</td>
<td>中整数</td>
<td></td>
</tr>
<tr>
<td>INT</td>
<td>整数</td>
<td></td>
</tr>
<tr>
<td>BIGINT</td>
<td>大整数</td>
<td></td>
</tr>
<tr>
<td>DECIMAL(P,D)</td>
<td><a href="https://www.cnblogs.com/owenma/p/7097602.html">精确小数</a></td>
<td>1&lt;P&lt;65，0&lt;D&lt;30</td>
</tr>
<tr>
<td>FLOAT</td>
<td>单精度浮点</td>
<td></td>
</tr>
<tr>
<td>DOUBAL</td>
<td>双精度浮点</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id="2-5-时间"><a href="#2-5-时间" class="headerlink" title="2.5 时间"></a>2.5 时间</h3><table>
<thead>
<tr>
<th>类型</th>
<th>名称</th>
<th>范围</th>
</tr>
</thead>
<tbody><tr>
<td>Date</td>
<td>日期</td>
<td>1000-01-01到9999-12-31</td>
</tr>
<tr>
<td>Time</td>
<td>时间</td>
<td>-838:59:59到838:59:59</td>
</tr>
<tr>
<td>DATETIME</td>
<td>日期时间</td>
<td>1000-01-01 00:00:00到9999-12-31 23:59:59</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>时间戳</td>
<td>1970-01-01 00:00:00到2037年</td>
</tr>
<tr>
<td>YEAR</td>
<td>年</td>
<td>4位格式：1901到2155，2位格式：1970-2069(70-69)，或：0000</td>
</tr>
</tbody></table>
<h4 id="TIMESTAM和datetime-区别"><a href="#TIMESTAM和datetime-区别" class="headerlink" title="TIMESTAM和datetime 区别"></a>TIMESTAM和datetime 区别</h4><ol>
<li>存储方式<ul>
<li>TIMESTAMP，它把客户端插入的时间从当前时区转化为UTC（世界标准时间）进行存储。查询时，将其又转化为客户端当前时区进行返回。</li>
<li>DATETIME，不做任何改变，基本上是原样输入和输出。</li>
</ul>
</li>
<li>占字节数<ol>
<li>datetime占用8个字节</li>
<li>timestamp占用4个字节</li>
</ol>
</li>
<li>默认值<ol>
<li>datetime null</li>
<li>timestamp 当前时间</li>
</ol>
</li>
<li>两者所能存储的时间范围不一样 </li>
<li>对于跨时区的业务，TIMESTAMP更为合适，</li>
</ol>
<h3 id="2-6-数据类型大小"><a href="#2-6-数据类型大小" class="headerlink" title="2.6 数据类型大小"></a>2.6 数据类型大小</h3><ol>
<li>varchar(50) 表示最多50个字符，包括汉字</li>
<li>varchar变长，char 定长，定长时间效率高，空间效率差</li>
<li>int(n)中不论n指定为多少，范围都一样-2<del>31</del>2^31-1，都能插入9位数字。n只是用来控制显示而已，如果为int(4)，插入一个1，显示时也会用空格补齐到4个字节  </li>
<li>text 64KB longtext 4G</li>
<li>1k能写大概</li>
</ol>
<h2 id="三、关键字"><a href="#三、关键字" class="headerlink" title="三、关键字"></a>三、关键字</h2><h3 id="3-1-in和exists"><a href="#3-1-in和exists" class="headerlink" title="3.1 in和exists"></a>3.1 in和exists</h3><ol>
<li><p><a href="https://blog.csdn.net/codesweetpotato/article/details/109700424">in流程</a></p>
<p>对于 in 查询来说，会先执行子查询，如上边的 t2 表，然后把查询得到的结果和外表 t1 做<a href="https://so.csdn.net/so/search?from=pc_blog_highlight&q=%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF">笛卡尔积</a>，再通过条件进行筛选（这里的条件就是指 name 是否相等），把每个符合条件的数据都加入到结果集中。</p>
</li>
<li><p>exists执行流程</p>
<p>对于 exists 来说，是先查询遍历外表 t1 ，然后每次遍历时，再检查在内表是否符合匹配条件，即检查是否存在 name 相等的数据。</p>
</li>
</ol>
<h3 id="3-2-join三种"><a href="#3-2-join三种" class="headerlink" title="3.2 join三种"></a>3.2 join三种</h3><ol>
<li><p>简单join 即inner join</p>
<p>复杂度也是最高的，O(mn)</p>
</li>
</ol>
<h3 id="3-2-value和values区别"><a href="#3-2-value和values区别" class="headerlink" title="3.2 value和values区别"></a>3.2 value和values区别</h3><ol>
<li>value插入多行快,values单行快</li>
</ol>
]]></content>
      <categories>
        <category>数据库</category>
      </categories>
  </entry>
  <entry>
    <title>mysql其他知识</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql%E7%9F%A5%E8%AF%862/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="日志"><a href="#日志" class="headerlink" title="日志"></a>日志</h3><ol>
<li>参考<ol>
<li><a href="https://www.cnblogs.com/du-z/p/11164232.html">cnblog1</a></li>
</ol>
</li>
</ol>
<h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><ol>
<li><p>开启记录执行时间</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">set</span> profiling <span class="operator">=</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure></li>
</ol>
<span id="more"></span>

<h3 id="innodb"><a href="#innodb" class="headerlink" title="innodb"></a>innodb</h3><ol>
<li>[知乎</li>
<li><a href="https://zhuanlan.zhihu.com/p/352153062"></a></li>
</ol>
<h2 id="mysql-锁机制"><a href="#mysql-锁机制" class="headerlink" title="mysql 锁机制"></a>mysql 锁机制</h2><h4 id="乐观锁-version"><a href="#乐观锁-version" class="headerlink" title="乐观锁  version"></a>乐观锁  version</h4><ol>
<li><a href="https://blog.csdn.net/hh1sdfsf56456/article/details/79449714">乐观锁</a></li>
<li>丢失更新问题</li>
<li>取vsersion1，更新的适合再取一次对比，如果不一样就重新更新</li>
</ol>
]]></content>
      <categories>
        <category>数据库</category>
      </categories>
  </entry>
  <entry>
    <title>mysql知识3</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql%E7%9F%A5%E8%AF%863/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="细节"><a href="#细节" class="headerlink" title="细节"></a>细节</h3><h4 id="null值"><a href="#null值" class="headerlink" title="null值"></a>null值</h4><ol>
<li><p>null和空值的区别：</p>
<ol>
<li>null占空间，空值不占空间</li>
<li>&lt;&gt;’’会同时过滤空值和null值</li>
<li>定义为NOT NULL的字段只能插入空值，不能插入null值</li>
<li>对于timestamp数据类型，如果往这个数据类型插入的列插入NULL值，则出现的值是当前系统时间。插入空值，则会出现 ‘0000-00-00 00:00:00’ </li>
</ol>
</li>
<li><p>注意插入的null是 不带引号的</p>
</li>
<li><p>&lt;=&gt; 比较操作符（不同于 = 运算符），当比较的的两个值相等或者都为 NULL 时返回 true。</p>
</li>
<li><p>count()统计某列的记录数的时候，不会记录NULL值</p>
</li>
<li><p>order by()  null值最小</p>
</li>
<li><p>group by() null为一组</p>
</li>
<li><p>索引不会包含有NULL值的列</p>
<blockquote>
<p>只要列中包含有NULL值都将不会被包含在索引中，复合索引中只要有一列含有NULL值，那么这一列对于此复合索引将失效。所以在数据库设计时尽量不让字段的默认值为NULL</p>
</blockquote>
</li>
</ol>
<h4 id="change和modify"><a href="#change和modify" class="headerlink" title="change和modify"></a>change和modify</h4><ol>
<li><p>modify改类型和约束   alter table  name  modify old_name 类型 </p>
</li>
<li><p>change修改类型   alter table name change old_name  new_name  类型</p>
<ol>
<li><p>modify和change的区别: modify是原地换，change是去掉以前的新建一个所以</p>
<ol>
<li>change修改需要指定两次表名</li>
<li>只有change可以修改表名 </li>
</ol>
</li>
<li><p>注意 修改类型原来的类型会被去除 (除了primary key)</p>
</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>数据库</category>
      </categories>
  </entry>
  <entry>
    <title>mysql索引</title>
    <url>/2022/03/12/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql%E7%B4%A2%E5%BC%95/</url>
    <content><![CDATA[<h2 id="一、索引结构"><a href="#一、索引结构" class="headerlink" title="一、索引结构"></a>一、索引结构</h2><h3 id="1-1-为什么是b-树"><a href="#1-1-为什么是b-树" class="headerlink" title="1.1 为什么是b+树"></a>1.1 为什么是b+树</h3><ol>
<li>索引的表象是一个目录</li>
<li>底层原理   [字段值,地址] 某种数据结构的映射</li>
</ol>
<h3 id="1-2-排好序的数据结构"><a href="#1-2-排好序的数据结构" class="headerlink" title="1.2 排好序的数据结构"></a>1.2 排好序的数据结构</h3><ol>
<li>二叉树   —&gt; 递增有序的情况    <strong>树高度==n</strong></li>
<li>AVL 平衡二叉树   旋转次数多</li>
<li>红黑树 弱平衡二叉树         弊端: 高度高</li>
<li>B树   m叉树+平衡查找树     扩大横分叉，高度可控</li>
<li>B+树  每个节点从左到右一次递增<ol>
<li>非叶子节点不存数据，只存冗余索引</li>
<li>叶子节点从大到小相互连接</li>
<li>每个节点16KB<ol>
<li>如果满了  节点分裂  高度增加</li>
</ol>
</li>
</ol>
</li>
</ol>
<h4 id="B-树相对于B树优点"><a href="#B-树相对于B树优点" class="headerlink" title="B+树相对于B树优点"></a>B+树相对于B树优点</h4><ol>
<li>非叶子节点不带有指向记录的指针，则一个块可以存储更多的索引项，如此可以降低树的高度。</li>
<li>叶子节点之间有指针连接，则在范围扫描时避免了在内部节点来回移动。</li>
</ol>
<h4 id="B-树搜索过程"><a href="#B-树搜索过程" class="headerlink" title="B+树搜索过程"></a>B+树搜索过程</h4><ol>
<li>根据冗余索引找到data叶子节点</li>
<li>把data加载到内存 然后二分查找</li>
</ol>
<h4 id="特别的"><a href="#特别的" class="headerlink" title="特别的"></a>特别的</h4><ol>
<li>如果只有一层  那么就相当于二分查找 ，但是，但是这意味着把所有的数据加载到内存，内存吃不消。 </li>
<li>hash表<ol>
<li>数组+链表</li>
<li>hash运算—&gt;存到链表(hash冲突直接加在链表尾部)</li>
<li><strong>不支持范围查找</strong></li>
</ol>
</li>
<li>mysql的memory支持hash索引，一般hash索引用于名字，而不用于数字</li>
<li>innodb不支持hash索引，</li>
</ol>
<h2 id="二、索引分类"><a href="#二、索引分类" class="headerlink" title="二、索引分类"></a>二、索引分类</h2><ol>
<li>索引分类 innodb才有   mylsam没有分类</li>
</ol>
<h3 id="聚集-聚簇-索引：存储-id-adress"><a href="#聚集-聚簇-索引：存储-id-adress" class="headerlink" title="聚集(聚簇)索引：存储   (id,adress)"></a>聚集(聚簇)索引：存储   (id,adress)</h3><ol>
<li>索引和数据一起存储 </li>
<li>一个文件 idb</li>
</ol>
<h3 id="非聚集-稀疏-索引：-存储-key-id"><a href="#非聚集-稀疏-索引：-存储-key-id" class="headerlink" title="非聚集(稀疏)索引： 存储(key,id)"></a>非聚集(稀疏)索引： 存储(key,id)</h3><ol>
<li>索引和数据分开存储 </li>
<li>两个文件 </li>
</ol>
<h3 id="二级索引-稀疏-：数据放的是主键，"><a href="#二级索引-稀疏-：数据放的是主键，" class="headerlink" title="二级索引(稀疏)：数据放的是主键，"></a>二级索引(稀疏)：数据放的是主键，</h3><ol>
<li>查完得到主键</li>
<li>再回表去主键索引查询位置</li>
</ol>
<h3 id="联合索引"><a href="#联合索引" class="headerlink" title="联合索引"></a>联合索引</h3><ol>
<li><p>底层</p>
</li>
<li><p>最左前缀原则(a,b,c)</p>
<ol>
<li><p>为什么最左前缀</p>
<p>在相同的a下才会排序b</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211014212733501.png" alt="image-20211014212733501"></p>
</li>
<li></li>
</ol>
</li>
</ol>
<h2 id="三、索引选择"><a href="#三、索引选择" class="headerlink" title="三、索引选择"></a>三、索引选择</h2><h3 id="3-1-B-树索引"><a href="#3-1-B-树索引" class="headerlink" title="3.1 B+树索引"></a>3.1 B+树索引</h3><h4 id="用于"><a href="#用于" class="headerlink" title="用于"></a>用于</h4><ol>
<li>完全匹配</li>
<li>范围匹配</li>
<li>前缀匹配（左模糊）</li>
</ol>
<h4 id="限制"><a href="#限制" class="headerlink" title="限制"></a>限制</h4><ol>
<li>对于index(a,b,c)，有最左原则，也就是只有选了a才能用索引</li>
</ol>
<h3 id="3-2-hash索引"><a href="#3-2-hash索引" class="headerlink" title="3.2 hash索引"></a>3.2 hash索引</h3><h4 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h4><ol>
<li>简单</li>
<li>快</li>
</ol>
<h4 id="限制-1"><a href="#限制-1" class="headerlink" title="限制"></a>限制</h4><ol>
<li>不能范围</li>
<li>不能排序</li>
<li>不能模糊查询</li>
<li>考虑hash冲突</li>
</ol>
<h2 id="四、索引创建原则"><a href="#四、索引创建原则" class="headerlink" title="四、索引创建原则"></a>四、索引创建原则</h2><h3 id="需要建立索引"><a href="#需要建立索引" class="headerlink" title="需要建立索引"></a>需要建立索引</h3><ol>
<li>经常select+where, update+where delete where</li>
<li>需要分组、排序的字段</li>
<li>唯一的字段</li>
<li></li>
</ol>
<h3 id="不需要建立索引"><a href="#不需要建立索引" class="headerlink" title="不需要建立索引"></a>不需要建立索引</h3><ol>
<li>数据量小不建立</li>
<li>经常update,delete,insert</li>
<li>不经常where</li>
<li>数据重复严重</li>
<li>字段长度太大</li>
</ol>
<h2 id="五、索引失效"><a href="#五、索引失效" class="headerlink" title="五、索引失效"></a>五、索引失效</h2><blockquote>
<p>模：代表模糊查询。</p>
<p>型：代表数据类型。</p>
<p>数：代表函数。</p>
<p>空：是Null的意思。</p>
<p>运：代表运算。</p>
<p>最：代表最左原则。</p>
<p>快：全表扫描更快的意思</p>
</blockquote>
<h2 id="六、索引调优"><a href="#六、索引调优" class="headerlink" title="六、索引调优"></a>六、索引调优</h2><h3 id="6-1-长字段索引"><a href="#6-1-长字段索引" class="headerlink" title="6.1 长字段索引"></a>6.1 长字段索引</h3><p>字符串长度太大不适合索引</p>
]]></content>
  </entry>
  <entry>
    <title>mysql设计问题</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql%E8%AE%BE%E8%AE%A1/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、逻辑删除"><a href="#一、逻辑删除" class="headerlink" title="一、逻辑删除"></a>一、逻辑删除</h2><ol>
<li>常见逻辑删除：is_delete,delete_time，把删除的数据储存在新表内</li>
<li>逻辑删除的优缺点<ol>
<li><p>优点: 方便恢复被删除的数据</p>
</li>
<li><p>缺点:</p>
<ol>
<li>数据冗余</li>
<li>查询数据时，所有的查询条件都需要增加deleteTime==null。</li>
<li>不可以使用业务唯一性字段(名字，电话等)作为数据库表Id，需要增加1个专门的没有逻辑意义的自增长Id作为唯一性Id。</li>
</ol>
</li>
<li><p>解决方案：</p>
<ol>
<li>delete和名字做联合索引</li>
<li>新建一个表</li>
</ol>
</li>
</ol>
</li>
<li>适用场景：<ol>
<li>对数据安全要求高的用逻辑删除</li>
</ol>
</li>
</ol>
<h2 id="二、视图"><a href="#二、视图" class="headerlink" title="二、视图"></a>二、视图</h2><h2 id="三、触发器"><a href="#三、触发器" class="headerlink" title="三、触发器"></a>三、触发器</h2>]]></content>
      <categories>
        <category>数据库</category>
      </categories>
  </entry>
  <entry>
    <title>mysql调优1</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql%E8%B0%83%E4%BC%981/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="四大方面"><a href="#四大方面" class="headerlink" title="四大方面"></a>四大方面</h3><ol>
<li><p>设计：存储引擎，字段类型，视图，范式与逆范式。</p>
</li>
<li><p>功能：索引，缓存，分区分表。</p>
</li>
<li><p>架构：主从复制，读写分离，负载均衡。</p>
</li>
<li><p>SQL语句：测试，经验。</p>
<span id="more"></span></li>
</ol>
<h3 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h3><ol>
<li>存储引擎<ol>
<li>innodb 形容的是表  <ol>
<li>支持ACID</li>
<li></li>
</ol>
</li>
<li>myisam<ol>
<li>miy文件  索引</li>
</ol>
</li>
</ol>
</li>
<li>variables<br><a href="https://www.cnblogs.com/goldenstones/p/6362434.html">参考</a><ol>
<li>key_buffer_size</li>
<li>max_connections</li>
<li>key_blocks_u</li>
<li>created_tmp</li>
</ol>
</li>
</ol>
<h3 id="索引优化"><a href="#索引优化" class="headerlink" title="索引优化"></a>索引优化</h3><ol>
<li><ol>
<li><ol>
<li><ol>
<li>3. </li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li></li>
<li><p>explain</p>
</li>
<li><p>文件</p>
<ol>
<li>frm是描抄述了表的结构</li>
<li>MYD保存了表的数据记录</li>
<li>MYI则是表的索引</li>
<li>opt记录数据库的选项</li>
<li>数据库的字符集设置</li>
</ol>
</li>
<li><p>uuid当主键的问题</p>
<ol>
<li>UUID 太长了、占用空间大，<strong>作为主键性能太差</strong>了</li>
<li>UUID 不具有有序性，会导致 B+ 树索引在写的时候有过多的随机写操作</li>
<li>innodb推荐用整形递增  减少B+树索引分裂的次数</li>
</ol>
</li>
<li><p>如果没有设置主键</p>
<ol>
<li>有唯一字段：用这个唯一字段建造B+树</li>
<li>没有唯一 字段：创建隐藏列 这样效率很低</li>
</ol>
</li>
<li><p>索引的建立提高了select效率 降低了update,insert效率</p>
</li>
<li><p>索引的建立</p>
<ol>
<li><p>原则1：需要将选择度高的列放在前面。所谓选择度，即COUNT(DISTINCT(列名))/COUNT(列名)。</p>
<p>比如性别 1  0  就不能建立索引</p>
</li>
<li><p>原则2：较频繁查询的字段创建索引  较频繁更改的字段不建立索引</p>
</li>
<li><p>原则3：不出现在where的字段不建立索引 </p>
</li>
<li><p>必须有主键</p>
</li>
<li><p>原则4：数据量小的不要索引</p>
</li>
<li><p>原则5：字段值长的不建议索引</p>
</li>
</ol>
</li>
<li><h4 id="索引失效"><a href="#索引失效" class="headerlink" title="索引失效"></a>索引失效</h4><ol>
<li><p>前缀原则1  abc%会用索引</p>
</li>
<li><p>前缀原则2  联合索引(a,b,c)会a  ab  abc的方式使用索引</p>
</li>
</ol>
</li>
</ol>
<h3 id="查询优化"><a href="#查询优化" class="headerlink" title="查询优化"></a>查询优化</h3><ol>
<li>in和exist的区别<ol>
<li>exist适合 子查询中表数据大于外查询表中数据的业务场景</li>
<li>in:适合外部表数据大于子查询的表数据的业务场景</li>
</ol>
</li>
<li></li>
</ol>
<h3 id="缓存优化"><a href="#缓存优化" class="headerlink" title="缓存优化"></a>缓存优化</h3><h3 id="分区分表"><a href="#分区分表" class="headerlink" title="分区分表"></a>分区分表</h3><h3 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h3><ol>
<li><p>b+tree和btree的区别<img src="C:\Users\22453\AppData\Roaming\Typora\typora-user-images\image-20211015020343225.png" alt="image-20211015020343225"></p>
</li>
<li></li>
</ol>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ol>
<li><a href="https://www.cnblogs.com/sharpest/p/10390035.html">cnblog</a></li>
<li><a href="https://www.cnblogs.com/sharpest/p/10390035.html">优化10大技巧-cn</a></li>
<li><a href="https://blog.csdn.net/wukuaiyang/article/details/78755097?utm_term=b+%E6%A0%91%E5%92%8C%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE&utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~all~sobaiduweb~default-0-78755097&spm=3001.4430">索引-B+树-csdn</a></li>
</ol>
]]></content>
      <categories>
        <category>数据库</category>
      </categories>
  </entry>
  <entry>
    <title>mysql配置</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="字符类型"><a href="#字符类型" class="headerlink" title="字符类型"></a>字符类型</h3><h4 id="utf8mb4-utf8-区别"><a href="#utf8mb4-utf8-区别" class="headerlink" title="utf8mb4 utf8 区别"></a>utf8mb4 utf8 区别</h4><p>1、MySQL在5.5.3之后增加了这个utf8mb4的编码，mb4就是most bytes 4的意思，专门用来兼容四字节的unicode。</p>
<p>2、好在utf8mb4是utf8的超集，除了将编码改为utf8mb4外不需要做其他转换。当然，为了节省空间，一般情况下使用utf8也就够了。</p>
<p>二、内容描述</p>
<p>1、那上面说了既然utf8能够存下大部分中文汉字,那为什么还要使用utf8mb4呢? 原来mysql支持的 utf8 编码最大字符长度为 3 字节，如果遇到 4 字节的宽字符就会插入异常了。</p>
<p>2、三个字节的 UTF-8 最大能编码的 Unicode 字符是 0xffff，也就是 Unicode 中的基本多文种平面（BMP）。</p>
<p>3、也就是说，任何不在基本多文本平面的 Unicode字符，都无法使用 Mysql 的 utf8 字符集存储。</p>
<p>4、包括 Emoji 表情（Emoji 是一种特殊的 Unicode 编码，常见于 ios 和 android 手机上），和很多不常用的汉字，以及任何新增的 Unicode 字符等等。</p>
<p>三、问题根源</p>
<p>1、最初的 UTF-8 格式使用一至六个字节，最大能编码 31 位字符。最新的 UTF-8 规范只使用一到四个字节，最大能编码21位，正好能够表示所有的 17个 Unicode 平面。</p>
<p>2、utf8 是 Mysql 中的一种字符集，只支持最长三个字节的 UTF-8字符，也就是 Unicode 中的基本多文本平面。</p>
<p>3、Mysql 中的 utf8 为什么只支持持最长三个字节的 UTF-8字符呢？可能是因为 Mysql 刚开始开发那会，Unicode 还没有辅助平面这一说呢。</p>
<p>4、那时候，Unicode 委员会还做着 “65535 个字符足够全世界用了”的美梦。Mysql 中的字符串长度算的是字符数而非字节数，对于 CHAR 数据类型来说，需要为字符串保留足够的长。</p>
<p>5、当使用 utf8 字符集时，需要保留的长度就是 utf8 最长字符长度乘以字符串长度，所以这里理所当然的限制了 utf8 最大长度为 3，比如 CHAR(100) Mysql 会保留 300字节长度。</p>
<p>6、至于后续的版本为什么不对 4 字节长度的 UTF-8 字符提供支持，我想一个是为了向后兼容性的考虑，还有就是基本多文种平面之外的字符确实很少用到。</p>
<p>7、要在 Mysql 中保存 4 字节长度的 UTF-8 字符，需要使用 utf8mb4 字符集，但只有 5.5.3 版本以后的才支持（查看版本： select version();）。</p>
<p>8、为了获取更好的兼容性，应该总是使用 utf8mb4 而非 utf8. 对于 CHAR 类型数据，utf8mb4 会多消耗一些空间，根据 Mysql 官方建议，使用 VARCHAR 替代 CHAR。</p>
<h3 id="修改密码"><a href="#修改密码" class="headerlink" title="修改密码"></a>修改密码</h3><h3 id="允许远程登录"><a href="#允许远程登录" class="headerlink" title="允许远程登录"></a>允许远程登录</h3><ol>
<li><p>新建用户</p>
<p>grant all on <em>.</em> to root@’%’ identified by ‘root’ with grant option;</p>
</li>
<li><p>刷新权限</p>
<p>flush privileges;</p>
<span id="more"></span></li>
<li><p>修改远程密码</p>
<ol>
<li>update mysql.user set authentication_string=passsword(“Wyg1234! where user=”root”)</li>
<li>flush privileges</li>
<li>重新建立</li>
</ol>
</li>
<li></li>
</ol>
]]></content>
      <categories>
        <category>数据库</category>
      </categories>
  </entry>
  <entry>
    <title>mysql其他</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/sql2/</url>
    <content><![CDATA[<h3 id="group-by"><a href="#group-by" class="headerlink" title="group by"></a>group by</h3><ol>
<li><p>聚集user，exam选出用户每场考试的最高分和其他详细信息。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> user_id,exam_id,depart_id,title,<span class="built_in">max</span>(qualify_score) <span class="keyword">from</span> el_paper <span class="keyword">group</span> <span class="keyword">by</span> user_id,exam_id;</span><br></pre></td></tr></table></figure></li>
</ol>
<span id="more"></span>

<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ol>
<li><p>去重，保留最小的</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DELETE</span></span><br><span class="line"><span class="keyword">FROM</span> testdelete</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">ONE</span> <span class="keyword">IN</span>(<span class="keyword">SELECT</span></span><br><span class="line">               <span class="keyword">ONE</span></span><br><span class="line">             <span class="keyword">FROM</span> (<span class="keyword">SELECT</span></span><br><span class="line">                     <span class="keyword">ONE</span></span><br><span class="line">                   <span class="keyword">FROM</span> testdelete</span><br><span class="line">                   <span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="keyword">ONE</span></span><br><span class="line">                   <span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="keyword">ONE</span>) <span class="operator">&gt;</span> <span class="number">1</span>) a)</span><br><span class="line">    <span class="keyword">AND</span> id <span class="keyword">NOT</span> <span class="keyword">IN</span>(<span class="keyword">SELECT</span></span><br><span class="line">                    <span class="operator">*</span></span><br><span class="line">                  <span class="keyword">FROM</span> (<span class="keyword">SELECT</span></span><br><span class="line">                          <span class="built_in">MIN</span>(id)</span><br><span class="line">                        <span class="keyword">FROM</span> testdelete</span><br><span class="line">                        <span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="keyword">ONE</span></span><br><span class="line">                        <span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="keyword">ONE</span>) <span class="operator">&gt;</span> <span class="number">1</span>) b)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="导出导入"><a href="#导出导入" class="headerlink" title="导出导入"></a>导出导入</h3><ol>
<li><p>导出整个数据库<br>mysqldump -u dbuser -p dbname &gt; dbname.sql</p>
</li>
<li><p>导出一个表<br>mysqldump -u dbuser -p dbname tableName&gt; dbname_users.sql</p>
</li>
<li><p>导出一个数据库结构<br>mysqldump -u dbuser -p -d –add-drop-table dbname &gt;d:/dbname_db.sql<br>参数：-d 没有数据 </p>
<p>参数：–add-drop-table 在每个create语句之前增加一个drop table</p>
</li>
<li><p>导入数据库 use test<br>source d:/dbname.sql</p>
</li>
</ol>
<!--more-->
]]></content>
      <categories>
        <category>数据库</category>
      </categories>
  </entry>
  <entry>
    <title>数据库事务</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/%E4%BA%8B%E5%8A%A1/</url>
    <content><![CDATA[<p>ACID</p>
<p><a href="https://www.cnblogs.com/takumicx/p/9998844.html">数据库事务cnblog</a></p>
<ol>
<li><p>Atomicity 原子性</p>
<ol>
<li>begin</li>
<li>sql1</li>
<li>sql2</li>
<li>commit</li>
<li>构成逻辑整体的这些数据库操作,要么全部执行成功,要么全部不执行。基于以事务为单位执行</li>
</ol>
</li>
</ol>
<span id="more"></span>

<ol start="2">
<li><p>Consistency一致性：正确性，一个一致性转移到另一个一致性，并且拥有完整性约束。</p>
</li>
<li><p>Isolation隔离性：可串行化，即并发执行和串行执行结果一样。</p>
</li>
<li><p>Durability持久性：事务一旦提交，其对数据库的更新是永久的。</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20210924130355472.png" alt="image-20210924130355472"></p>
</li>
</ol>
<h3 id="—"><a href="#—" class="headerlink" title="—"></a>—</h3><ol>
<li>在事务的ACID特性中,C即一致性是事务的根本追求,而对数据一致性的破坏主要来自两个方面<ol>
<li>事务的并发执行</li>
<li>事务故障或系统故障</li>
</ol>
</li>
<li>数据库系统是通过并发控制技术和日志恢复技术来避免这种情况发生的。</li>
</ol>
<h3 id="各种错误"><a href="#各种错误" class="headerlink" title="各种错误"></a>各种错误</h3><ol>
<li><p>脏读:事务读取了其他事务还没提交的事务</p>
</li>
<li><p>丢失更新:两个事务对相同的值进行更改，造成了一个更改失败。：a=10   q:a=a-10</p>
<p>p:a=a+10  结果a=10</p>
</li>
<li><p>不可重复度读：读了一次A=1，另一个事务对A改变，第二次在读是A=2.</p>
</li>
<li><p>幻读:事务前后数量发生变化。a删除了，另一个事务有插入了一个a，这样数量变了，造成了幻觉。</p>
</li>
</ol>
<h3 id="隔离级别"><a href="#隔离级别" class="headerlink" title="隔离级别"></a>隔离级别</h3><ol>
<li><p>四种隔离级别从高到低依次是：</p>
<ol>
<li><p>读未提交</p>
</li>
<li><p>读已提交</p>
</li>
<li><p>可重复读 mysql 默认rr</p>
</li>
<li><p>创行化</p>
<p><img src="E:\data-ana\ana-notes\experience\db\隔离级别" alt="image-20210924131844559"></p>
</li>
</ol>
</li>
<li><p>事务隔离实现：并发控制</p>
<ol>
<li>基于封锁</li>
<li>基于时间戳</li>
<li>基于有效检查</li>
<li>基于快照</li>
<li></li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>数据库</category>
      </categories>
  </entry>
  <entry>
    <title>数据库规范</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A7%84%E8%8C%83/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、外键"><a href="#一、外键" class="headerlink" title="一、外键"></a>一、外键</h2><ol>
<li><p>每次delete update都需要考虑外键。</p>
</li>
<li><p>阿里巴巴开发规范禁用外键。</p>
</li>
<li><p>每次考虑外键都要检查主外键表，造成了效率低下。</p>
</li>
<li><p>级联删除造成数据不可控（不可追溯）</p>
<span id="more"></span></li>
</ol>
<h2 id="二、范式"><a href="#二、范式" class="headerlink" title="二、范式"></a>二、范式</h2><h3 id="1-1-第一范式-1NF"><a href="#1-1-第一范式-1NF" class="headerlink" title="1.1 第一范式 1NF"></a>1.1 第一范式 1NF</h3><ol>
<li>字段有原子性，不可拆分</li>
</ol>
<h3 id="1-2-第二范式-2NF"><a href="#1-2-第二范式-2NF" class="headerlink" title="1.2 第二范式 2NF"></a>1.2 第二范式 2NF</h3><ol>
<li>必须有主键</li>
<li>非主键必须<strong>完全</strong>依赖于主键，而不能<strong>只</strong>完全依赖于主键的一部分(最小主键原则?)</li>
<li>简单的解释，比如你和一个女生约会建立一张表，不用每条约会记录都记录她的身高、体重，将身高体重单独的存在一张表中供查询即可。</li>
</ol>
<h3 id="1-3-第三范式"><a href="#1-3-第三范式" class="headerlink" title="1.3 第三范式"></a>1.3 第三范式</h3><ol>
<li>任何字段不能由其他字段派生出来，它要求字段没有冗余</li>
<li>去次键原则</li>
<li>非主键不能传递关系  表1 爸爸，儿子，女儿，女儿的衣服  ，最后一个数据就不行，应该添加表2 女儿,女儿的衣服</li>
<li>第三范式说明不直接相关的数据应该拆分到连个表中</li>
</ol>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2>]]></content>
      <categories>
        <category>数据库</category>
      </categories>
  </entry>
  <entry>
    <title>数据库调优2</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B0%83%E4%BC%982/</url>
    <content><![CDATA[<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211223120007692.png" alt="image-20211223120007692"></p>
<h2 id="一、优化维度"><a href="#一、优化维度" class="headerlink" title="一、优化维度"></a>一、优化维度</h2><h3 id="1-1-业务需求"><a href="#1-1-业务需求" class="headerlink" title="1.1 业务需求"></a>1.1 业务需求</h3><ol>
<li>分页减少查询</li>
<li>砍掉不必要的join(用详情代替join)</li>
</ol>
<h3 id="1-2-系统架构"><a href="#1-2-系统架构" class="headerlink" title="1.2  系统架构"></a>1.2  系统架构</h3><ol>
<li>读写分离</li>
<li>分库分表</li>
<li>主从配置</li>
<li>数据库选择,nosql,mysql,orcle,hbase</li>
</ol>
<h3 id="1-3-sql索引"><a href="#1-3-sql索引" class="headerlink" title="1.3 sql索引"></a>1.3 sql索引</h3><h3 id="1-4-表结构"><a href="#1-4-表结构" class="headerlink" title="1.4 表结构"></a>1.4 表结构</h3><h3 id="1-5-数据库配置参数"><a href="#1-5-数据库配置参数" class="headerlink" title="1.5 数据库配置参数"></a>1.5 数据库配置参数</h3><ol>
<li>sort buffer</li>
<li></li>
</ol>
<h3 id="1-6-系统配置"><a href="#1-6-系统配置" class="headerlink" title="1.6 系统配置"></a>1.6 系统配置</h3><h3 id="1-7-硬件"><a href="#1-7-硬件" class="headerlink" title="1.7 硬件"></a>1.7 硬件</h3><h2 id="数据源"><a href="#数据源" class="headerlink" title="数据源"></a>数据源</h2><p>mysq官网–&gt;document–&gt;more–&gt;employee data</p>
<h2 id="二、慢查询与sql分析"><a href="#二、慢查询与sql分析" class="headerlink" title="二、慢查询与sql分析"></a>二、慢查询与sql分析</h2><h3 id="2-1-explain配置参数"><a href="#2-1-explain配置参数" class="headerlink" title="2.1 explain配置参数"></a>2.1 explain配置参数</h3><table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>log_output</td>
<td>慢查询日志文件类型,默认File</td>
<td></td>
</tr>
<tr>
<td>long_query_time</td>
<td>进入日志的最短时间</td>
<td></td>
</tr>
<tr>
<td>slow_query_log_file</td>
<td>日志路径，默认在mysql.slow_log</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id="2-2-修改慢查询参数"><a href="#2-2-修改慢查询参数" class="headerlink" title="2.2 修改慢查询参数"></a>2.2 修改慢查询参数</h3><h4 id="2-2-1-方法1-修改my-conf"><a href="#2-2-1-方法1-修改my-conf" class="headerlink" title="2.2.1 方法1 修改my.conf"></a>2.2.1 方法1 修改my.conf</h4><blockquote>
<p>永久配置，需要重启</p>
</blockquote>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">slow_query_log</span> = <span class="literal">ON</span></span><br><span class="line"><span class="attr">long_query_time</span> = <span class="number">0.1</span></span><br></pre></td></tr></table></figure>

<h4 id="2-2-2-方法2-set-变量"><a href="#2-2-2-方法2-set-变量" class="headerlink" title="2.2.2 方法2 set 变量"></a>2.2.2 方法2 set 变量</h4><blockquote>
<p>一次性，不要重启，但是需要重新连接session</p>
</blockquote>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">set</span> global long_query_time = <span class="number">0</span>.<span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="2-3-explain详解"><a href="#2-3-explain详解" class="headerlink" title="2.3 explain详解"></a>2.3 explain详解</h3><table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>指定父子查询，id大的先执行，如果没有子查询，一般都是1</td>
<td></td>
</tr>
<tr>
<td>select_type</td>
<td></td>
<td></td>
</tr>
<tr>
<td>table</td>
<td>使用的表别名</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>all: 全表扫描 index:遍历所引述 range:</td>
<td></td>
</tr>
<tr>
<td>ref做分界线</td>
<td>system &gt; const &gt; eq_ref &gt; [ref] &gt; fulltext &gt; ref_or_null &gt; index_merge &gt; unique_subquery &gt; index_subquery &gt; range &gt; index &gt; ALL</td>
<td></td>
</tr>
<tr>
<td>possiable_keys</td>
<td>可能使用的索引</td>
<td></td>
</tr>
<tr>
<td>key</td>
<td>实际用的索引</td>
<td></td>
</tr>
<tr>
<td>key_len</td>
<td>当前使用索引的长度</td>
<td></td>
</tr>
<tr>
<td>ref</td>
<td></td>
<td></td>
</tr>
<tr>
<td>rows</td>
<td>需要扫描的行数</td>
<td></td>
</tr>
<tr>
<td>filtered</td>
<td>表示符合条件条数占比</td>
<td></td>
</tr>
<tr>
<td>extra</td>
<td>useTemp 使用临时表，useFileSory 使用文件排序(需要被优化)</td>
<td></td>
</tr>
</tbody></table>
<h3 id="2-4-使用profiling分析语句"><a href="#2-4-使用profiling分析语句" class="headerlink" title="2.4 使用profiling分析语句"></a>2.4 使用profiling分析语句</h3><ol>
<li>可以观察一条语句经历了几个阶段</li>
<li>每个阶段消耗的时间</li>
<li>每个阶段占用的内存</li>
</ol>
<h2 id="三、索引"><a href="#三、索引" class="headerlink" title="三、索引"></a>三、索引</h2><h3 id="3-1-索引数据结构"><a href="#3-1-索引数据结构" class="headerlink" title="3.1 索引数据结构"></a>3.1 索引数据结构</h3><h2 id="四、语句优化"><a href="#四、语句优化" class="headerlink" title="四、语句优化"></a>四、语句优化</h2><h2 id="五、mysql存储过程"><a href="#五、mysql存储过程" class="headerlink" title="五、mysql存储过程"></a>五、mysql存储过程</h2><blockquote>
<p>存储例程是存储在数据库服务器中的一组sql语句，通过在查询中调用一个指定的名称来执行这些sql语句命令</p>
</blockquote>
<h3 id="存储过程的优点"><a href="#存储过程的优点" class="headerlink" title="存储过程的优点"></a>存储过程的优点</h3><ol>
<li>减少网络通信量</li>
<li>执行速度更快<ol>
<li>在存储过程创建的时候，数据库已经对其进行了一次解析和优化</li>
<li>存储过程会(备份)保存在内存中</li>
</ol>
</li>
<li>更强的适应性</li>
</ol>
<h3 id="5-1-DELIMITER"><a href="#5-1-DELIMITER" class="headerlink" title="5.1 DELIMITER"></a>5.1 DELIMITER</h3><p> 声明自定义分隔符：DELIMITER //      </p>
<h3 id="5-2-PROCEDURE"><a href="#5-2-PROCEDURE" class="headerlink" title="5.2 PROCEDURE"></a>5.2 PROCEDURE</h3><p>声明存储过程：CREATE PROCEDURE demo_in_parameter(IN p_in int) </p>
<h3 id="5-3-IN、OUT"><a href="#5-3-IN、OUT" class="headerlink" title="5.3 IN、OUT"></a>5.3 IN、OUT</h3><ol>
<li>IN  形式参数</li>
<li>OUT 实际参数(会影响到外面的值)，传入为null</li>
<li>INOUT 输入输出参数:调用时指定，并且可被改变和返回</li>
</ol>
<h3 id="5-4-BEGIN、END"><a href="#5-4-BEGIN、END" class="headerlink" title="5.4 BEGIN、END"></a>5.4 BEGIN、END</h3><p>存储过程开始和结束符号</p>
<h3 id="5-5-SET-p-in-1-变量赋值"><a href="#5-5-SET-p-in-1-变量赋值" class="headerlink" title="5.5 SET @p_in=1 变量赋值"></a>5.5 SET @p_in=1 变量赋值</h3><h4 id="5-5-1-变量声明declare"><a href="#5-5-1-变量声明declare" class="headerlink" title="5.5.1 变量声明declare"></a>5.5.1 变量声明declare</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">declare</span> variable_name  datatype [<span class="keyword">DEFAULT</span> <span class="keyword">value</span>];</span><br></pre></td></tr></table></figure>

<ol>
<li><p>变量类型datatype</p>
<p>int, float, date,varchar(length),datetim</p>
</li>
<li><p>例子</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span> l_int <span class="type">int</span> unsigned <span class="keyword">default</span> <span class="number">4000000</span>;</span><br><span class="line"><span class="keyword">DECLARE</span> l_numeric number(<span class="number">8</span>,<span class="number">2</span>) <span class="keyword">DEFAULT</span> <span class="number">9.95</span>;  </span><br><span class="line"><span class="keyword">DECLARE</span> l_date <span class="type">date</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;1999-12-31&#x27;</span>;  </span><br><span class="line"><span class="keyword">DECLARE</span> l_datetime datetime <span class="keyword">DEFAULT</span> <span class="string">&#x27;1999-12-31 23:59:59&#x27;</span>;  </span><br><span class="line"><span class="keyword">DECLARE</span> l_varchar <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;This will not be padded&#x27;</span>; </span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="5-5-2-变量赋值set"><a href="#5-5-2-变量赋值set" class="headerlink" title="5.5.2 变量赋值set"></a>5.5.2 变量赋值set</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SET</span> <span class="variable">@x</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">+</span><span class="number">2</span><span class="operator">+</span><span class="number">3</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="string">&#x27;Hello World&#x27;</span> <span class="keyword">into</span> <span class="variable">@x</span>;  </span><br></pre></td></tr></table></figure>

<h3 id="5-6-call-调用存储过程"><a href="#5-6-call-调用存储过程" class="headerlink" title="5.6 call 调用存储过程"></a>5.6 call 调用存储过程</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">1.</span> delimiter <span class="operator">/</span><span class="operator">/</span></span><br><span class="line"><span class="number">2.</span> <span class="keyword">create</span> <span class="keyword">procedure</span> out_param(<span class="keyword">out</span> p_out <span class="type">int</span>)</span><br><span class="line">     <span class="keyword">begin</span></span><br><span class="line">       <span class="keyword">select</span> p_out;</span><br><span class="line">        <span class="keyword">set</span> p_out<span class="operator">=</span><span class="number">2</span>;</span><br><span class="line">        <span class="keyword">select</span> p_out;</span><br><span class="line">       <span class="keyword">end</span></span><br><span class="line">     <span class="operator">/</span><span class="operator">/</span></span><br><span class="line"><span class="number">3.</span> <span class="keyword">set</span> <span class="variable">@p</span>_out<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"><span class="number">4.</span> <span class="keyword">call</span> out_param(<span class="variable">@p</span>_out);</span><br></pre></td></tr></table></figure>

<h3 id="5-7-条件-case-if-then-else"><a href="#5-7-条件-case-if-then-else" class="headerlink" title="5.7 条件 case-if-then-else"></a>5.7 条件 case-if-then-else</h3><h4 id=""><a href="#" class="headerlink" title=""></a></h4><h3 id="5-8-循环-while-lables"><a href="#5-8-循环-while-lables" class="headerlink" title="5.8 循环 while-lables"></a>5.8 循环 while-lables</h3><h3 id="存储函数"><a href="#存储函数" class="headerlink" title="存储函数"></a>存储函数</h3><p>见附录1.1 </p>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><h3 id="1-存储函数"><a href="#1-存储函数" class="headerlink" title="1. 存储函数"></a>1. 存储函数</h3><h4 id="1-1-字符串类"><a href="#1-1-字符串类" class="headerlink" title="1.1 字符串类"></a>1.1 字符串类</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">CHARSET(str) <span class="operator">/</span><span class="operator">/</span>返回字串字符集</span><br><span class="line">CONCAT (string2 [,... ]) <span class="operator">/</span><span class="operator">/</span>连接字串</span><br><span class="line">INSTR (string ,substring ) <span class="operator">/</span><span class="operator">/</span>返回substring首次在string中出现的位置,不存在返回<span class="number">0</span></span><br><span class="line">LCASE (string2 ) <span class="operator">/</span><span class="operator">/</span>转换成小写</span><br><span class="line"><span class="keyword">LEFT</span> (string2 ,length ) <span class="operator">/</span><span class="operator">/</span>从string2中的左边起取length个字符</span><br><span class="line">LENGTH (string ) <span class="operator">/</span><span class="operator">/</span>string长度</span><br><span class="line">LOAD_FILE (file_name ) <span class="operator">/</span><span class="operator">/</span>从文件读取内容</span><br><span class="line">LOCATE (substring , string [,start_position ] ) 同INSTR,但可指定开始位置</span><br><span class="line">LPAD (string2 ,length ,pad ) <span class="operator">/</span><span class="operator">/</span>重复用pad加在string开头,直到字串长度为length</span><br><span class="line">LTRIM (string2 ) <span class="operator">/</span><span class="operator">/</span>去除前端空格</span><br><span class="line">REPEAT (string2 ,count ) <span class="operator">/</span><span class="operator">/</span>重复count次</span><br><span class="line">REPLACE (str ,search_str ,replace_str ) <span class="operator">/</span><span class="operator">/</span>在str中用replace_str替换search_str</span><br><span class="line">RPAD (string2 ,length ,pad) <span class="operator">/</span><span class="operator">/</span>在str后用pad补充,直到长度为length</span><br><span class="line">RTRIM (string2 ) <span class="operator">/</span><span class="operator">/</span>去除后端空格</span><br><span class="line">STRCMP (string1 ,string2 ) <span class="operator">/</span><span class="operator">/</span>逐字符比较两字串大小,</span><br><span class="line"><span class="built_in">SUBSTRING</span> (str , position [,length ]) <span class="operator">/</span><span class="operator">/</span>从str的position开始,取length个字符,</span><br><span class="line"><span class="built_in">TRIM</span>([[<span class="keyword">BOTH</span><span class="operator">|</span><span class="keyword">LEADING</span><span class="operator">|</span><span class="keyword">TRAILING</span>][padding] <span class="keyword">FROM</span>]string2) <span class="operator">/</span><span class="operator">/</span>去除指定位置的指定字符</span><br><span class="line">UCASE (string2 ) <span class="operator">/</span><span class="operator">/</span>转换成大写</span><br><span class="line"><span class="keyword">RIGHT</span>(string2,length) <span class="operator">/</span><span class="operator">/</span>取string2最后length个字符</span><br><span class="line">SPACE(count) <span class="operator">/</span><span class="operator">/</span>生成count个空格</span><br></pre></td></tr></table></figure>

<h4 id="1-2-数字类"><a href="#1-2-数字类" class="headerlink" title="1.2 数字类"></a>1.2 数字类</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ABS</span> (number2 ) <span class="operator">/</span><span class="operator">/</span>绝对值</span><br><span class="line">BIN (decimal_number ) <span class="operator">/</span><span class="operator">/</span>十进制转二进制</span><br><span class="line"><span class="built_in">CEILING</span> (number2 ) <span class="operator">/</span><span class="operator">/</span>向上取整</span><br><span class="line">CONV(number2,from_base,to_base) <span class="operator">/</span><span class="operator">/</span>进制转换</span><br><span class="line"><span class="built_in">FLOOR</span> (number2 ) <span class="operator">/</span><span class="operator">/</span>向下取整</span><br><span class="line">FORMAT (number,decimal_places ) <span class="operator">/</span><span class="operator">/</span>保留小数位数</span><br><span class="line">HEX (DecimalNumber ) <span class="operator">/</span><span class="operator">/</span>转十六进制</span><br><span class="line">LEAST (number , number2 [,..]) <span class="operator">/</span><span class="operator">/</span>求最小值</span><br><span class="line"><span class="built_in">MOD</span> (numerator ,denominator ) <span class="operator">/</span><span class="operator">/</span>求余</span><br><span class="line"><span class="built_in">POWER</span> (number ,power ) <span class="operator">/</span><span class="operator">/</span>求指数</span><br><span class="line">RAND([seed]) <span class="operator">/</span><span class="operator">/</span>随机数</span><br><span class="line">ROUND (number [,decimals ]) <span class="operator">/</span><span class="operator">/</span>四舍五入,decimals为小数位数]</span><br></pre></td></tr></table></figure>

<h4 id="1-4-日期时间类"><a href="#1-4-日期时间类" class="headerlink" title="1.4 日期时间类"></a>1.4 日期时间类</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">ADDTIME (date2 ,time_interval )<span class="operator">/</span><span class="operator">/</span>将time_interval加到date2</span><br><span class="line">CONVERT_TZ (datetime2 ,fromTZ ,toTZ ) <span class="operator">/</span><span class="operator">/</span>转换时区</span><br><span class="line"><span class="built_in">CURRENT_DATE</span> ( ) <span class="operator">/</span><span class="operator">/</span>当前日期</span><br><span class="line"><span class="built_in">CURRENT_TIME</span> ( ) <span class="operator">/</span><span class="operator">/</span>当前时间</span><br><span class="line"><span class="built_in">CURRENT_TIMESTAMP</span> ( ) <span class="operator">/</span><span class="operator">/</span>当前时间戳</span><br><span class="line"><span class="type">DATE</span> (datetime ) <span class="operator">/</span><span class="operator">/</span>返回datetime的日期部分</span><br><span class="line">DATE_ADD (date2 , <span class="type">INTERVAL</span> d_value d_type ) <span class="operator">/</span><span class="operator">/</span>在date2中加上日期或时间</span><br><span class="line">DATE_FORMAT (datetime ,FormatCodes ) <span class="operator">/</span><span class="operator">/</span>使用formatcodes格式显示datetime</span><br><span class="line">DATE_SUB (date2 , <span class="type">INTERVAL</span> d_value d_type ) <span class="operator">/</span><span class="operator">/</span>在date2上减去一个时间</span><br><span class="line">DATEDIFF (date1 ,date2 ) <span class="operator">/</span><span class="operator">/</span>两个日期差</span><br><span class="line"><span class="keyword">DAY</span> (<span class="type">date</span> ) <span class="operator">/</span><span class="operator">/</span>返回日期的天</span><br><span class="line">DAYNAME (<span class="type">date</span> ) <span class="operator">/</span><span class="operator">/</span>英文星期</span><br><span class="line">DAYOFWEEK (<span class="type">date</span> ) <span class="operator">/</span><span class="operator">/</span>星期(<span class="number">1</span><span class="number">-7</span>) ,<span class="number">1</span>为星期天</span><br><span class="line">DAYOFYEAR (<span class="type">date</span> ) <span class="operator">/</span><span class="operator">/</span>一年中的第几天</span><br><span class="line"><span class="built_in">EXTRACT</span> (interval_name <span class="keyword">FROM</span> <span class="type">date</span> ) <span class="operator">/</span><span class="operator">/</span>从<span class="type">date</span>中提取日期的指定部分</span><br><span class="line">MAKEDATE (<span class="keyword">year</span> ,<span class="keyword">day</span> ) <span class="operator">/</span><span class="operator">/</span>给出年及年中的第几天,生成日期串</span><br><span class="line">MAKETIME (<span class="keyword">hour</span> ,<span class="keyword">minute</span> ,<span class="keyword">second</span> ) <span class="operator">/</span><span class="operator">/</span>生成时间串</span><br><span class="line">MONTHNAME (<span class="type">date</span> ) <span class="operator">/</span><span class="operator">/</span>英文月份名</span><br><span class="line">NOW ( ) <span class="operator">/</span><span class="operator">/</span>当前时间</span><br><span class="line">SEC_TO_TIME (seconds ) <span class="operator">/</span><span class="operator">/</span>秒数转成时间</span><br><span class="line">STR_TO_DATE (string ,format ) <span class="operator">/</span><span class="operator">/</span>字串转成时间,以format格式显示</span><br><span class="line">TIMEDIFF (datetime1 ,datetime2 ) <span class="operator">/</span><span class="operator">/</span>两个时间差</span><br><span class="line">TIME_TO_SEC (<span class="type">time</span> ) <span class="operator">/</span><span class="operator">/</span>时间转秒数]</span><br><span class="line">WEEK (date_time [,start_of_week ]) <span class="operator">/</span><span class="operator">/</span>第几周</span><br><span class="line"><span class="keyword">YEAR</span> (datetime ) <span class="operator">/</span><span class="operator">/</span>年份</span><br><span class="line">DAYOFMONTH(datetime) <span class="operator">/</span><span class="operator">/</span>月的第几天</span><br><span class="line"><span class="keyword">HOUR</span>(datetime) <span class="operator">/</span><span class="operator">/</span>小时</span><br><span class="line">LAST_DAY(<span class="type">date</span>) <span class="operator">/</span><span class="operator">/</span><span class="type">date</span>的月的最后日期</span><br><span class="line">MICROSECOND(datetime) <span class="operator">/</span><span class="operator">/</span>微秒</span><br><span class="line"><span class="keyword">MONTH</span>(datetime) <span class="operator">/</span><span class="operator">/</span>月</span><br><span class="line"><span class="keyword">MINUTE</span>(datetime) <span class="operator">/</span><span class="operator">/</span>分返回符号,正负或<span class="number">0</span></span><br><span class="line"><span class="built_in">SQRT</span>(number2) <span class="operator">/</span><span class="operator">/</span>开平方</span><br></pre></td></tr></table></figure>









]]></content>
      <categories>
        <category>数据库</category>
      </categories>
  </entry>
  <entry>
    <title>kmp算法</title>
    <url>/2022/03/10/%E7%AE%97%E6%B3%95/kmp/</url>
    <content><![CDATA[<h2 id="找到next"><a href="#找到next" class="headerlink" title="找到next[]"></a>找到next[]</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">next[<span class="number">0</span>]=<span class="number">1</span>;<span class="comment">//越过next[i]个</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>二分查找</title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/</url>
    <content><![CDATA[<h3 id="关键"><a href="#关键" class="headerlink" title="关键"></a>关键</h3><ol>
<li><p>while(begin &lt;= end)</p>
</li>
<li><p>关键还是返回end还是begin</p>
<ul>
<li>对于返回第一个比他小的，返回end</li>
<li>对于返回第一个比他大的，返回begin</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[]nums=&#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">66</span>&#125;;</span><br><span class="line">        System.out.println(binFind2(nums,<span class="number">0</span>,nums.length-<span class="number">1</span>,-<span class="number">1</span>));</span><br><span class="line">        System.out.println(binFind2(nums,<span class="number">0</span>,nums.length-<span class="number">1</span>,<span class="number">2</span>));</span><br><span class="line">        System.out.println(binFind2(nums,<span class="number">0</span>,nums.length-<span class="number">1</span>,<span class="number">7</span>));</span><br><span class="line">        System.out.println(binFind2(nums,<span class="number">0</span>,nums.length-<span class="number">1</span>,<span class="number">77</span>));</span><br><span class="line">    &#125; </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">binFind2</span><span class="params">(<span class="keyword">int</span> nums[],<span class="keyword">int</span> begin,<span class="keyword">int</span> end,<span class="keyword">int</span> target)</span></span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(begin&lt;=end)&#123;</span><br><span class="line">            <span class="keyword">int</span> pivot=begin+(end-begin)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[pivot]==target)</span><br><span class="line">            &#123;</span><br><span class="line">                flag=<span class="keyword">true</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(nums[pivot]&lt;target)</span><br><span class="line">                begin=pivot+<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                end=pivot-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> begin;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>算法</category>
      </categories>
  </entry>
  <entry>
    <title>二叉树</title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E4%BA%8C%E5%8F%89%E6%A0%91/</url>
    <content><![CDATA[<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><ol>
<li>二叉树问题一般都要用到递归<ol>
<li>对比两个是否相等</li>
<li>镜像</li>
</ol>
</li>
<li>层次遍历用队列</li>
<li>层次遍历+分层输出用两个队列</li>
</ol>
]]></content>
      <categories>
        <category>算法</category>
      </categories>
  </entry>
  <entry>
    <title>双指针</title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E5%8F%8C%E6%8C%87%E9%92%88/</url>
    <content><![CDATA[<h3 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h3><ol>
<li><p>变量1和1匹配</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">nums1[begin1] nums2[begin2]</span><br><span class="line">而不是nums2[begin1] nums1[begin2]</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="特殊"><a href="#特殊" class="headerlink" title="特殊"></a>特殊</h3><ol>
<li><p>双遍历避免越界的处理</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//d</span></span><br><span class="line"><span class="keyword">while</span> ((begin1 + begin2) &lt; len / <span class="number">2</span> &amp;&amp; begin1 &lt; nums1.length || begin2 &lt; nums2.length) &#123;</span><br><span class="line">    <span class="keyword">if</span> (begin1 &lt; nums1.length &amp;&amp; begin2 &gt;= nums2.length || nums1[begin1] &lt; nums2[begin2]) &#123;</span><br><span class="line">        res = nums1[begin1];</span><br><span class="line">        begin1++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        res = nums2[begin2];</span><br><span class="line">        begin2++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>偶数的处理</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">return</span> len % <span class="number">2</span> == <span class="number">0</span> ? <span class="number">1.0</span> * (next + res) / <span class="number">2</span> : next;<span class="comment">//第四题</span></span><br></pre></td></tr></table></figure></li>
<li><p>正负处理</p>
</li>
<li><p>大数处理</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//29题  所有的中间值都是l </span></span><br><span class="line"><span class="keyword">long</span> d1 = dividend, d2 = divisor;</span><br><span class="line">        <span class="keyword">long</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> sign = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> ((d1 &gt; <span class="number">0</span> &amp;&amp; d2 &lt; <span class="number">0</span>) || (d1 &lt; <span class="number">0</span> &amp;&amp; d2 &gt; <span class="number">0</span>))</span><br><span class="line">            sign = -<span class="number">1</span>;</span><br><span class="line">        d1 = Math.abs(d1);</span><br><span class="line">        d2 = Math.abs(d2);</span><br><span class="line">        <span class="keyword">long</span> now = res;</span><br><span class="line">        <span class="keyword">while</span> (now + d2 &lt;= d1) &#123;</span><br><span class="line">            now += d2;</span><br><span class="line">            res++;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="keyword">return</span> res&gt;Integer.MAX_VALUE?Integer.MAX_VALUE:(<span class="keyword">int</span>) (res * sign);</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="二分查找"><a href="#二分查找" class="headerlink" title="二分查找"></a>二分查找</h3><h4 id="爬坡法"><a href="#爬坡法" class="headerlink" title="爬坡法"></a>爬坡法</h4>]]></content>
      <categories>
        <category>算法</category>
      </categories>
  </entry>
  <entry>
    <title>括号逻辑</title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E6%8B%AC%E5%8F%B7%E9%80%BB%E8%BE%91/</url>
    <content><![CDATA[<h3 id="一、括号逻辑"><a href="#一、括号逻辑" class="headerlink" title="一、括号逻辑"></a>一、括号逻辑</h3><h3 id="3条件"><a href="#3条件" class="headerlink" title="3条件"></a>3条件</h3><ol>
<li><p>A and  B or  C</p>
<p>(A and B) or C</p>
</li>
<li><p><strong>A  and (B  or  C)</strong></p>
<p>A是大前提</p>
</li>
<li><p>A  or  B  and  C</p>
<p>A or (B&amp;&amp;C)</p>
</li>
</ol>
<span id="more"></span>

<h3 id="4条件"><a href="#4条件" class="headerlink" title="4条件"></a>4条件</h3><ol>
<li><p>条件1 and 条件2 or 条件3 or 条件4 </p>
<p>条件3，4是特殊通行</p>
</li>
<li><p>条件1 and 条件2  or (条件3 or 条件4 )</p>
<p>同1</p>
</li>
<li><p>**条件1 and (条件2 or 条件3 )or 条件4 **</p>
<p>and or杂糅</p>
<p>弱化条件3 强化条件2</p>
</li>
</ol>
<p>总结</p>
<ol>
<li>()对于and-and,or-or来说没作用</li>
<li>但是(and-or)会让and变强，or变弱。</li>
<li><strong>and 优先级大于 or</strong></li>
</ol>
]]></content>
      <categories>
        <category>算法</category>
      </categories>
  </entry>
  <entry>
    <title>排序算法</title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E6%8E%92%E5%BA%8F/</url>
    <content><![CDATA[<h3 id="快排"><a href="#快排" class="headerlink" title="快排"></a>快排</h3><blockquote>
<p>思想: 分治</p>
</blockquote>
<h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><p>哨兵机制+分治。</p>
<ol>
<li>取最左边为哨兵</li>
<li>从最右边&lt;–&gt;左边，交替遍历，</li>
<li>最终将nums分成小于哨兵的部分和大于哨兵的部分</li>
</ol>
<h4 id="易错"><a href="#易错" class="headerlink" title="易错"></a>易错</h4><ol>
<li><p>对于nums,x,y型 void quickSort(int[]nums,int begin,int end)</p>
<p>每次取的哨兵是nums[begin]而不是nums[0]</p>
</li>
</ol>
<h3 id="合并排序"><a href="#合并排序" class="headerlink" title="合并排序"></a>合并排序</h3><blockquote>
<p>思想: 分治</p>
</blockquote>
<h4 id="原理-1"><a href="#原理-1" class="headerlink" title="原理"></a>原理</h4><p>分治+merge</p>
<h4 id="易错-1"><a href="#易错-1" class="headerlink" title="易错"></a>易错</h4><ol>
<li><p>合并是在左右两个数组都排好序后在进行{11.两个有序链表合并问题}</p>
</li>
<li><p>求mid: (begin + end) / 2;</p>
</li>
<li><p>sort:</p>
<p>if(begin&lt;end)</p>
<ul>
<li>sort(begin,mid);</li>
<li>sort(mid+1,end);</li>
<li>merge(begin,mid,end);</li>
</ul>
</li>
<li><p>merge: </p>
<p>【begin,mid】   【mid+1,end】两个有序数组的Merge </p>
<p>​    创建一个新的temp{}</p>
</li>
</ol>
<h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><p>​    归并排序是稳定排序，它也是一种十分高效的排序，能利用完全二叉树特性的排序一般性能都不会太差。java中Arrays.sort()采用了一种名为TimSort的排序算法，就是归并排序的优化版本。每次合并操作的平均时间复杂度为O(n)，而完全二叉树的深度为|log2n|。总的平均时间复杂度为O(nlogn)。而且，归并排序的最好，最坏，平均时间复杂度均为O(nlogn)。</p>
]]></content>
      <categories>
        <category>算法</category>
      </categories>
  </entry>
  <entry>
    <title>数组移动问题</title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E6%95%B0%E7%BB%84%E7%A7%BB%E5%8A%A8%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h3 id="一、问题一"><a href="#一、问题一" class="headerlink" title="一、问题一"></a>一、问题一</h3><p>nums=[1,3,0,2]，原地转成[0,1,2,3]</p>
<h4 id="1-1-基于哨兵"><a href="#1-1-基于哨兵" class="headerlink" title="1.1 基于哨兵"></a>1.1 基于哨兵</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> guard=nums[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">    <span class="keyword">int</span> temp=nums[guard];</span><br><span class="line">    nums[guard]=guard;</span><br><span class="line">    guard=temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="二、寻找重复的数字"><a href="#二、寻找重复的数字" class="headerlink" title="二、寻找重复的数字"></a>二、寻找重复的数字</h3><blockquote>
<p>遍历+哨兵交换</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findRepeatNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n=nums.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> temp=nums[i];<span class="comment">//此刻的值</span></span><br><span class="line">        <span class="keyword">while</span>(temp!=i)&#123;</span><br><span class="line">            <span class="keyword">int</span> t=nums[temp];<span class="comment">//下一目标的值</span></span><br><span class="line">            <span class="keyword">if</span>(t==temp)  <span class="comment">//如果下一个满足，退出</span></span><br><span class="line">                <span class="keyword">return</span> t;</span><br><span class="line">            nums[temp]=temp;<span class="comment">//不然的话就交换</span></span><br><span class="line">            temp=t;</span><br><span class="line">        &#125;</span><br><span class="line">        nums[i]=i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>算法</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E6%B3%A8%E6%84%8F/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><h3 id="细节"><a href="#细节" class="headerlink" title="细节"></a>细节</h3><ol>
<li><p>list.contains而不是contain</p>
</li>
<li><p>s.length()而不是s.length</p>
</li>
<li><p>s.substring而不是s.subString</p>
</li>
<li><p>大数的处理 ： 用long</p>
</li>
<li><p>奇偶判断</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>((b &amp; <span class="number">1</span>) == <span class="number">1</span>)</span><br><span class="line">	<span class="keyword">return</span> <span class="string">&quot;boo&quot;</span>  <span class="comment">//e</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="需要考虑的问题"><a href="#需要考虑的问题" class="headerlink" title="需要考虑的问题"></a>需要考虑的问题</h3><ol>
<li>传入的数组能变吗</li>
<li>多用数组的for-each</li>
<li>别着急结束，要输出 System.out.println(Arrays.toString) </li>
<li>字符串是否是只有26个字母，注意不是的话不能用int [26];</li>
</ol>
<h3 id="单词写法"><a href="#单词写法" class="headerlink" title="单词写法"></a>单词写法</h3><h3 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h3><ol>
<li><p>二维数组</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span>[][]a=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1</span>][];</span><br></pre></td></tr></table></figure></li>
<li><p>二位数组需要完全初始化</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span>[][]a=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1</span>][<span class="number">2</span>];</span><br></pre></td></tr></table></figure></li>
<li><p>arr–&gt;stream</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Arrays.stream(nums)</span><br></pre></td></tr></table></figure></li>
<li><p>去重</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Set&lt;String&gt; wordDictSet = <span class="keyword">new</span> HashSet(wordDict);</span><br></pre></td></tr></table></figure></li>
<li><p>排序</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;Integer&gt;s=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">Collections.sort(s);</span><br></pre></td></tr></table></figure></li>
<li><p>快速创建List</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> ArrayList&lt;&gt;(Arrays.asList(nums[i], nums[j], nums[k]));</span><br></pre></td></tr></table></figure></li>
<li><p>int–&gt;list<int>一定要正序</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">14124</span>--&gt;[<span class="number">1</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>] 而不要[<span class="number">4</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">1</span>]</span><br></pre></td></tr></table></figure></li>
<li><p>逆序Collections.reverse</p>
</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>特殊题目</title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E7%89%B9%E6%AE%8A%E9%A2%98%E7%9B%AE/</url>
    <content><![CDATA[<ol>
<li><p>题229 找众数<br> 基于摩尔投票法，关键是理解大于1/3的元素一定会活下来。</p>
</li>
<li><p>剑指Offer52 两个节点的公共节点</p>
<p> 你走我的路，我走里的路，我们最终一定会不期而遇</p>
</li>
</ol>
]]></content>
      <categories>
        <category>算法</category>
      </categories>
  </entry>
  <entry>
    <title>进程</title>
    <url>/2022/03/08/408/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%BF%9B%E7%A8%8B/</url>
    <content><![CDATA[<h2 id="同步、异步与阻塞、非阻塞"><a href="#同步、异步与阻塞、非阻塞" class="headerlink" title="同步、异步与阻塞、非阻塞"></a>同步、异步与阻塞、非阻塞</h2><p><a href="https://www.zhihu.com/question/19732473">参考</a></p>
<h3 id="同步、异步"><a href="#同步、异步" class="headerlink" title="同步、异步"></a>同步、异步</h3><ul>
<li><p>所谓同步，就是在发出一个<em>调用</em>时，在没有得到结果之前，该<em>调用</em>就不返回。但是一旦调用返回，就得到返回值，<br>换句话说，就是由调用者主动等待这个<em>调用</em>的结果。</p>
</li>
<li><p>而异步则是相反，调用在发出之后，这个调用就直接返回了，所以没有返回结果。换句话说，当一个异步过程调用发出后，调用者不会立刻得到结果。而是在<em>调用</em>发出后，<em>被调用者</em>通过状态、通知来通知调用者，或通过回调函数处理这个调用。</p>
</li>
</ul>
<h3 id="阻塞、非阻塞"><a href="#阻塞、非阻塞" class="headerlink" title="阻塞、非阻塞"></a>阻塞、非阻塞</h3>]]></content>
      <categories>
        <category>操作系统</category>
      </categories>
  </entry>
  <entry>
    <title>树</title>
    <url>/2022/03/08/408/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%A0%91/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="懒树"><a href="#懒树" class="headerlink" title="懒树"></a>懒树</h3><p>1. </p>
]]></content>
      <categories>
        <category>算法</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/10/408/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/xl/</url>
    <content><![CDATA[<ol>
<li><p>查询ip   </p>
<ol>
<li>curl -l htttp://ip.tool.lu</li>
<li>curl cip.cc</li>
</ol>
</li>
<li><p>阿里云的服务ip为什么和ifconfig的不一样</p>
</li>
<li><p>linux设置ip别名</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">i</span></span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>java8新特性</title>
    <url>/2022/03/08/java/java8/java8%E6%96%B0%E7%89%B9%E6%80%A7/</url>
    <content><![CDATA[<h1 id="java8新特性"><a href="#java8新特性" class="headerlink" title="java8新特性"></a>java8新特性</h1><h3 id="一、lambda-参数式函数-代码更少"><a href="#一、lambda-参数式函数-代码更少" class="headerlink" title="一、lambda(参数式函数) 代码更少"></a>一、lambda(参数式函数) 代码更少</h3><blockquote>
<p>lambda含义：Runnable runnable=()-&gt; System.out.println(“”);</p>
<p>创建一个类，并new出来，看成一个方法对象</p>
</blockquote>
<p>fun1(fun2())</p>
<ol>
<li><p>参数式函数，参数式lambda。</p>
</li>
<li><p>java中 lambda是实现了函数的对象，而不像其他语言一样是一个函数。一般用于接口，这个接口只有一个函数需要重写。这个接口的实例就是lambda。</p>
</li>
<li><p>但是用到的lambda还是写的那个重写的函数，也就是说我们需要某个功能的时候，我们可以根据四大函数式接口写出自己的函数，将这个接口传入，就完成了一个功能器。</p>
<span id="more"></span></li>
<li><p>为了完成多功能，所以lambda对象应该是以参数的身份传入到指定函数，以为创建Lambda很简单，代码很少，这样在不改变原函数的情况下就能根据传入的lambda不同而拥有不同的功能，目的就是多态。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">public</span> List <span class="title">filter</span><span class="params">(<span class="keyword">int</span> []nums,Predicate&lt;Integer&gt;predicate)</span></span>&#123;</span><br><span class="line">filter(nums,o-&gt;o&gt;<span class="number">6</span>);</span><br><span class="line">filter(nums,o-&gt;<span class="number">2</span>*o&gt;<span class="number">6</span>);</span><br><span class="line">filter(nums,o-&gt;o*o&gt;<span class="number">6</span>);</span><br><span class="line">filter(nums,o-&gt;<span class="number">1</span>&gt;<span class="number">6</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>创建比较器</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//lambda</span></span><br><span class="line">Comparator&lt;Integer&gt;comparator2=(o1,o2)-&gt;o1.compareTo(o2);</span><br><span class="line"><span class="comment">//方法引用  lambda 传fun</span></span><br><span class="line">        Comparator&lt;Integer&gt;comparator3= Integer::compareTo;</span><br><span class="line">Arrays.sort(nums,comparator3);</span><br></pre></td></tr></table></figure></li>
<li><p>创建进程</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Runnable runnable2=()-&gt; System.out.println(<span class="string">&quot;rrrr2&quot;</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>lambda优化</p>
<ol>
<li><p>去掉形参类型(类型推断)</p>
<ol>
<li><p>直接传入o1,而不用在前面加integer</p>
</li>
<li><p>int[]nums=new int[]{1,2,3}–&gt;</p>
<p>int[]nums={1,2,3}</p>
</li>
</ol>
</li>
<li><p>去掉return和{} 只有一句的情况</p>
</li>
<li><p>只有一个参数，可以去掉小括号</p>
</li>
</ol>
</li>
<li><p>格式</p>
<ol>
<li>一个参数没返回:obj=x-&gt;fun(x)</li>
<li>无参无返回: obj=()-&gt;fun()</li>
<li>两个参数: obj=(x,y)-&gt;fun(x,y)</li>
<li>有返回: obj=(x,y)-&gt;{fun(x,y) return}</li>
</ol>
</li>
</ol>
<h3 id="二、函数式接口"><a href="#二、函数式接口" class="headerlink" title="二、函数式接口"></a>二、函数式接口</h3><ol>
<li><p>对于静态方法，是fun(E)，对于类::方法，用的是E.fun()</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Arrays.stream(nums).mapToInt(Integer::intValue);<span class="comment">//类::方法</span></span><br><span class="line">Arrays.stream(nums).mapToInt(Integer::valueOf);<span class="comment">//类::静态方法</span></span><br></pre></td></tr></table></figure></li>
<li></li>
</ol>
<h3 id="三、方法引用-构造器引用"><a href="#三、方法引用-构造器引用" class="headerlink" title="三、方法引用 构造器引用"></a>三、方法引用 构造器引用</h3><ol>
<li><p>当要传递给lambda操作，已经有实现方法，就可以使用方法引用。</p>
</li>
<li><p>基于lambda</p>
</li>
<li><p>关键：传入的方法的返回类型和参数相同</p>
</li>
<li><p>就好像现在不用自己写函数传入Lambda体了，而是有现成的函数，那么直接传入</p>
<p>类::方法名就ok了。</p>
</li>
<li><p>三种情况+一种构造器</p>
<ol>
<li>类::非静态方法</li>
<li>对象::静态方法</li>
<li>类::非静态方法</li>
<li>构造器引用<ol>
<li>类::new</li>
</ol>
</li>
</ol>
</li>
<li><p>要求：两个函数除了名字不一样，其他都一样</p>
</li>
<li><p>细节</p>
<ol>
<li>不用写入形参，因为类型与参数推断，且要求两函数是一样的，所以没必要写形参。</li>
</ol>
</li>
</ol>
<h3 id="四、stream-api-并行计算"><a href="#四、stream-api-并行计算" class="headerlink" title="四、stream api 并行计算"></a>四、stream api 并行计算</h3><ol>
<li><p>stream:运算 cpu打交道</p>
<p>Collection:集合  内存打交道</p>
</li>
<li><p>类似于SQL语句</p>
</li>
<li><p>作用：</p>
<ol>
<li>查询数据不能用sql的情况,如nosql需要把查询到的数据在java里面进行处理</li>
</ol>
</li>
<li><p>特点：</p>
<ol>
<li>自己不储存(视图)</li>
<li>不会改变原对象，也就是inplace=False</li>
<li>操作延迟，直到终止操作才会执行</li>
</ol>
</li>
<li><p>步骤</p>
<ol>
<li><p>创建</p>
<ol>
<li><p>可迭代对象(即实现迭代接口).stream()</p>
</li>
<li><p>并行：parallelstream()</p>
</li>
<li><p>Arrays.stream(T[]arr)</p>
</li>
<li><p>Stream.of(T..)</p>
</li>
<li><p>生成器</p>
<ol>
<li><p>生成偶数流</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span>&lt;T&gt; <span class="title">iterate</span><span class="params">(T t,计算器)</span></span></span><br><span class="line"><span class="function">Stream.<span class="title">iterate</span><span class="params">(<span class="number">0</span>,t-&gt;t+<span class="number">2</span>)</span></span></span><br></pre></td></tr></table></figure></li>
<li><p>生成随机数流</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Stream.generate(Math::random)</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
</li>
<li><p>中间操作{数据处理：}</p>
<ol>
<li><p>筛选与切片</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//筛选</span></span><br><span class="line">stream.filter(a-&gt;a&gt;<span class="number">2</span>)</span><br><span class="line"><span class="comment">//跳过 跳过前三个</span></span><br><span class="line">stream.skip(<span class="number">3</span>)</span><br><span class="line"><span class="comment">//截断 前三个</span></span><br><span class="line">stream.limit(<span class="number">3</span>)</span><br><span class="line"><span class="comment">//去重</span></span><br><span class="line">stream.distinct()</span><br></pre></td></tr></table></figure></li>
<li><p>映射map  (数据转换)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//转换成大写</span></span><br><span class="line">   stream.map(s&gt;s.toUpperCase())</span><br><span class="line">   <span class="comment">//选出名字长度大于三的数据</span></span><br><span class="line">   stream.map(User::getname).filter(name-&gt;name.leangth&gt;<span class="number">3</span>)</span><br><span class="line">   <span class="comment">//摊平</span></span><br><span class="line">   stream.flatMap(mapToStream)</span><br><span class="line">   <span class="comment">//其中mapToStream能够把stream里面的单个对象转换成stream的函数</span></span><br></pre></td></tr></table></figure></li>
<li><p>排序</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">stream.sorted((o1,o2)-&gt;o1.value-o2.value)</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>终止操作</p>
<ol>
<li><p>匹配查找</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//所有匹配-&gt;bool</span></span><br><span class="line">stream.addMatch(o-&gt;o.age&gt;<span class="number">18</span>)    </span><br><span class="line"><span class="comment">//任意匹配-&gt;bool</span></span><br><span class="line">stream.anyMatch(o-&gt;o.age&gt;<span class="number">18</span>)</span><br><span class="line"><span class="comment">//第一个元素-&gt;Optional&lt;T&gt;</span></span><br><span class="line">stream.fidFirst()</span><br></pre></td></tr></table></figure></li>
<li><p>其他</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//数量-&gt;long</span></span><br><span class="line">stream.count()</span><br><span class="line"><span class="comment">//最大值-&gt;Optional&lt;T&gt;</span></span><br><span class="line">stream.max((o1,o2)-&gt;o1.value-o2.value)</span><br><span class="line"><span class="comment">//内部迭代</span></span><br><span class="line">stream.foreach(System.out:println)</span><br></pre></td></tr></table></figure></li>
<li><p>规约 reduce</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">stream.reduce(<span class="number">0</span>,(o1,o2)-&gt;o1+o2)</span><br></pre></td></tr></table></figure></li>
<li><p>收集collect(Collector c)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//list</span></span><br><span class="line">stream.collect(Collectors.toList())</span><br><span class="line"><span class="comment">//set</span></span><br><span class="line">stream.collect(Collectors.toSet())    </span><br><span class="line"><span class="comment">//不确定性collection</span></span><br><span class="line">stream.collect(Collectors.toCollection())</span><br></pre></td></tr></table></figure></li>
<li><p>分组</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Map&lt;String, Map&lt;String, Paper&gt;&gt; collect = records.parallelStream().collect(</span><br><span class="line">                Collectors.groupingBy(Paper::getExamId,</span><br><span class="line">                        Collectors.toMap(Paper::getUserId, Function.identity(), (o1, o2) -&gt; (o1.getUserScore() &gt; o2.getUserScore() ? o1 : o2))));</span><br></pre></td></tr></table></figure></li>
<li><p>平均值</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> avg = exams.stream().mapToInt(UserExam::getMaxScore).sum() / exams.size();</span><br></pre></td></tr></table></figure></li>
<li><p>某一属性</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">dictEntityList.stream().map(DictEntity::getName).collect(Collectors.toList());</span><br></pre></td></tr></table></figure></li>
<li><p><a href="https://blog.csdn.net/yihuaiyan/article/details/101050144?utm_term=javastream%E6%B1%82%E5%B9%B3%E5%9D%87%E5%80%BC&utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~all~sobaiduweb~default-0-101050144&spm=3001.4430">参考</a></p>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="optional类-最大减少空指针异常"><a href="#optional类-最大减少空指针异常" class="headerlink" title="optional类 最大减少空指针异常"></a>optional类 最大减少空指针异常</h3><ol>
<li><p>of</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Optional&lt;Student&gt;optionalStudent=Optional.of(student);<span class="comment">//of必须非空</span></span><br><span class="line"><span class="comment">//ofNullable 可空，为empty  </span></span><br><span class="line">Optional&lt;Student&gt;optionalStudent2=Optional.ofNullable(student);</span><br></pre></td></tr></table></figure></li>
<li><p>orElse</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">value != <span class="keyword">null</span> ? value : other</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ol>
<li><p>接口默认方法</p>
</li>
<li><p>DateTime api</p>
</li>
<li><p>nashorn javascript引擎</p>
</li>
</ol>
<h3 id="函数式接口"><a href="#函数式接口" class="headerlink" title="函数式接口"></a><a href="https://www.runoob.com/java/java8-functional-interfaces.html">函数式接口</a></h3><ol>
<li><p>Function</p>
</li>
<li><p>&lt;T&gt; Function&lt;T, T&gt;  Function.identity()   传</p>
</li>
<li><p>BinaryOperator</p>
<figure class="highlight gcode"><table><tr><td class="code"><pre><span class="line">T apply<span class="comment">(T t, T u)</span>;</span><br><span class="line"><span class="comment">(o1,o2)</span>-&gt;<span class="meta">o1</span>.age&gt;<span class="meta">o2</span>.a? <span class="meta">o1</span> : <span class="meta">o2</span></span><br></pre></td></tr></table></figure></li>
<li><p>BiFunction&lt;T, U, R&gt;</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function">R <span class="title">apply</span><span class="params">(T t, U u)</span></span>;</span><br></pre></td></tr></table></figure></li>
<li><p>ToIntFunction<T> </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">applyAsInt</span><span class="params">(T value)</span></span>;</span><br><span class="line">Student::getAge</span><br><span class="line">o-&gt;o.getAge()    </span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="我对Lambda的运用"><a href="#我对Lambda的运用" class="headerlink" title="我对Lambda的运用"></a>我对Lambda的运用</h3><ol>
<li><p>类–&gt;映射string–&gt;加到listString</p>
<pre><code><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">result.getAllErrors().stream().map(DefaultMessageSourceResolvable::getDefaultMessage).forEach(list::add);</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p>取出每组最大值</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//并行流 聚集分组 得最大值</span></span><br><span class="line">Map&lt;String, ConcurrentMap&lt;String, Paper&gt;&gt; map = records.stream().collect(</span><br><span class="line">    Collectors.groupingBy(Paper::getExamId,</span><br><span class="line">                          Collectors.toConcurrentMap(Paper::getUserId, Function.identity(), (o1, o2) -&gt; (o1.getUserScore() &gt; o2.getUserScore() ? o1 : o2))));</span><br></pre></td></tr></table></figure></li>
<li></li>
</ol>
]]></content>
      <categories>
        <category>java高阶</category>
      </categories>
  </entry>
  <entry>
    <title>optional类</title>
    <url>/2022/03/08/java/java8/java8%E4%B9%8Boptional/</url>
    <content><![CDATA[<h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><ol>
<li>```java<br>private final T value;//值<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">2</span>. ```java</span><br><span class="line">   <span class="keyword">private</span> <span class="built_in">static</span> <span class="keyword">final</span> Optional<span class="meta">&lt;?</span>&gt; <span class="keyword">EMPTY</span> = <span class="keyword">new</span> Optional&lt;&gt;();<span class="comment">//空值常量</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3><ol>
<li><p>构建：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Optional.of()<span class="comment">// 不能传null</span></span><br><span class="line">Optional.ofNullable() <span class="comment">//可以传null</span></span><br><span class="line">Optional.empty()<span class="comment">//返回一个空的optional</span></span><br></pre></td></tr></table></figure></li>
<li><p> 检查</p>
</li>
</ol>
   <figure class="highlight java"><table><tr><td class="code"><pre><span class="line">o.isPresent() <span class="comment">//判断是否存在值</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p>取值</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">o.get()  <span class="comment">//如果o为null就会报错</span></span><br><span class="line">o.orElse(abc)<span class="comment">// 取值，如果为Null，返回同类对象abc</span></span><br></pre></td></tr></table></figure>

<span id="more"></span></li>
<li><p>lambda</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">o.ifPresent(s-&gt;System.out.println(s))<span class="comment">//消费者函数 consumer void accept (T t)</span></span><br><span class="line">o.orElseGet(Supplier&lt;? extends T&gt; other)   <span class="comment">// 生产者函数 supplier  T get()</span></span><br><span class="line">o.filter(Predicate&lt;? <span class="keyword">super</span> T&gt; predicate) <span class="comment">//检测者函数 Boolean test(T t)，如果为false就会变null</span></span><br><span class="line">o.map(Function&lt;? <span class="keyword">super</span> T, ? extends U&gt; mapper) <span class="comment">//映射函数Function R apply(T t) 转换类型</span></span><br></pre></td></tr></table></figure></li>
<li><p>重写方法</p>
<ol>
<li><p>判等</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">equals(object o)</span><br><span class="line">--&gt;Object.equals(value,o.value)</span><br><span class="line">----&gt;<span class="keyword">return</span> v1==v2||v1.equals(v2)</span><br></pre></td></tr></table></figure></li>
<li><p>toString</p>
</li>
</ol>
</li>
</ol>
<h3 id="实际用途"><a href="#实际用途" class="headerlink" title="实际用途"></a>实际用途</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">CompanyNum companyNum = Optional.ofNullable(companyNumService.getCountOfCompany(entity)).orElse(<span class="keyword">new</span> CompanyNum());</span><br></pre></td></tr></table></figure>

<p>​    数据查询，如果为null，就新建造一个。</p>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>函数式接口</title>
    <url>/2022/03/08/java/java8/java8%E4%B9%8B%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3/</url>
    <content><![CDATA[<h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><ol>
<li><p>标准函数式接口在这个包下</p>
<p>java.util.function</p>
</li>
<li><p>@FuntionalInterface</p>
</li>
<li><p>面向函数范式编程(FOP)(SQL)</p>
</li>
<li><p>面向接口编程</p>
</li>
<li><p><strong>面向过程编程（<code>Procedure Oriented</code>、简称<code>PO</code>）</strong> 和 <strong>面向对象编程（<code>Object Oriented</code>、简称<code>OO</code>）</strong> 我们一定听过，然而实际企业级开发里受用更多的一种编程思想那就是：<strong>面向接口编程（<code>Interface-Oriented</code>）</strong>！</p>
</li>
</ol>
<p>&lt;!–&gt;</p>
<h3 id="四大函数式接口"><a href="#四大函数式接口" class="headerlink" title="四大函数式接口"></a>四大函数式接口</h3><ol>
<li><p>Consumer<T> </p>
<p>​    消费型：有参无返回 </p>
<p>​    void accept(T t)</p>
</li>
<li><p>Suppiier<T> 它是一个可以获取任意值的接口而已</p>
<p>​    供给型：无参有返回</p>
<p>​    T get()</p>
</li>
<li><p>Functional&lt;T,R&gt;</p>
<p>​    函数型：处理参数</p>
<p>​    R apply(T t)</p>
</li>
<li><p>Prediate<T></p>
<p>​    断定型：有参判定返回bool</p>
<p>​    boolean test(T t)</p>
</li>
<li></li>
</ol>
<h3 id="其他常见函数式接口"><a href="#其他常见函数式接口" class="headerlink" title="其他常见函数式接口"></a>其他常见函数式接口</h3><p><a href="https://www.runoob.com/java/java8-functional-interfaces.html">菜鸟教程</a></p>
<h3 id="我对函数式接口的理解与发现"><a href="#我对函数式接口的理解与发现" class="headerlink" title="我对函数式接口的理解与发现"></a>我对函数式接口的理解与发现</h3><ol>
<li><p>java的函数式接口就是为了弥补java中<strong>万物皆对象</strong>,但函数却不是对象的缺憾而产生的。</p>
<p>比如 一个函数对象</p>
<figure class="highlight coffeescript"><table><tr><td class="code"><pre><span class="line">Supplier&lt; Integer&gt; a = <span class="function"><span class="params">()</span> -&gt;</span> <span class="number">10</span> + <span class="number">1</span>; <span class="regexp">//</span>这个生产者函数就是一个对象。</span><br></pre></td></tr></table></figure></li>
<li><p>传出的函数对象的参数一定是形参或者final引用(不会add,remove,但可以update)的参数，比如</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;Paper&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">List&lt;Paper&gt; finalList = list;</span><br><span class="line">map.values().forEach(o -&gt; finalList.addAll(o.values()));</span><br></pre></td></tr></table></figure>

<p>这里就需要用一个list的final引用才能放进lambda表达式</p>
</li>
</ol>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>java2</title>
    <url>/2022/03/08/java/JavaSE/java2/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h3><ol>
<li>接口基础<ol>
<li><p>接口继承接口，方法重复只需要重写一个就ok</p>
</li>
<li><p>接口可以有default方法</p>
</li>
<li><p>接口可以有static方法</p>
<span id="more"></span></li>
</ol>
</li>
</ol>
<!-- more --

2. 接口继承
   1. 两个接口Animal<--Cat
   2. Cat ani= new Animal可以通过
   3. 但是如果调用Cat的新增方法就会报错。



### static

1. 类的所有方法都能访问static方法

2. 类的所有方法都能访问static变量

3. static方法不能访问非static方法

4. static方法不能访问非static变量

   <figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line">这就好像<span class="keyword">static</span>的东西都无私奉献出来了，但他却置身事外，不过问q</span><br></pre></td></tr></table></figure>


<h3 id="protected"><a href="#protected" class="headerlink" title="protected"></a>protected</h3><ol>
<li>protected权限就是对包的限定</li>
<li>例子：<ol>
<li>clone方法是protected的，如果不重写，那么永远实例对象都不能用(除了这个类自带的方法，包括main方法能有权利用到，其他都没这个权力)，</li>
</ol>
</li>
<li>在其他包创建实例，没有能力用到这个类的protected。</li>
<li>不同包的B继承了A那么，B如果不重写protected，那么除非在A的包下创建实例之外，就永远访问不到protected</li>
<li>关键<ol>
<li>自己类里面能用所有的方法(除了static不饿能访问非static方法)</li>
<li>对于protected，包的概念应该相对于类成员来讲的，而不是相对于类来讲的，也就是说如果在这个protected成员所在的包创建的实例能够调用protected方法。</li>
<li>不同包下创建的实例就不能调用这个protected成员。</li>
</ol>
</li>
</ol>
<h3 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h3><h3 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h3><ol>
<li><p> 菱形运算符&lt;&gt;</p>
</li>
<li><p>定义(我需要)</p>
<ol>
<li><p>接口</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="symbol">ReadListener</span>&lt;<span class="symbol">T</span>&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>类</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="symbol">AnalysisEventListener</span>&lt;<span class="symbol">T</span>&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>方法</p>
<figure class="highlight delphi"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span>&lt;T&gt; T copyByClass(<span class="keyword">Object</span> src,<span class="keyword">Class</span> x,<span class="keyword">Class</span> target) </span><br></pre></td></tr></table></figure>

<ol>
<li><p>如果这两个class参数都不指定T 那么就会返回一个Object</p>
</li>
<li><p>如果是</p>
<figure class="highlight delphi"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span>&lt;T&gt; T copyByClass(<span class="keyword">Object</span> src,<span class="keyword">Class</span> x,<span class="keyword">Class</span>&lt;T&gt; target) </span><br></pre></td></tr></table></figure></li>
<li><p>那么返回对象就是target类</p>
</li>
</ol>
</li>
</ol>
</li>
<li><p>传入</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="module-access"><span class="module"><span class="identifier">BeanMapper</span>.</span></span>copy<span class="constructor">ByClass(<span class="params">studentVO</span>, Integer.TYPE,Student.<span class="params">class</span>)</span>;</span><br></pre></td></tr></table></figure></li>
<li><p> 如果没有T，那么就只能返返回Object</p>
</li>
<li><p> 也就是说&lt;&gt;菱形运算符就是为了规范返回与传入，全部Object一堆乱+强制类型转换</p>
</li>
<li><p>几种类别</p>
<ol>
<li>无限通配符 List&lt;?&gt;<ol>
<li> 只能add null</li>
</ol>
</li>
<li>原类型List<ol>
<li> <code>类型</code>不安全,可以将任何类型元素加入</li>
<li> 这个类型是为了兼容jdk1.5之前的代码，不然java会禁用这种写法</li>
</ol>
</li>
<li> 通配符List<T></li>
</ol>
</li>
<li><p> 泛型就是检错，泛型的擦除就是检错完成后让代码和不使用泛型的代码完全相同</p>
</li>
</ol>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>反射</title>
    <url>/2022/03/08/java/JavaSE/%E5%8F%8D%E5%B0%84%E5%92%8C%E6%B3%A8%E8%A7%A3/</url>
    <content><![CDATA[<p>[toc]</p>
<p>参考<a href="https://www.cnblogs.com/tech-bird/p/3525336.html">狂神</a></p>
<h2 id="一、Class"><a href="#一、Class" class="headerlink" title="一、Class"></a>一、Class</h2><h3 id="1-创建类方式"><a href="#1-创建类方式" class="headerlink" title="1. 创建类方式"></a>1. 创建类方式</h3><ol>
<li>new</li>
<li>clone</li>
<li>反射<ol>
<li>newInstance</li>
<li>Constructor.newInstance</li>
</ol>
</li>
<li>反序列化</li>
</ol>
<h3 id="2-谁拥有class"><a href="#2-谁拥有class" class="headerlink" title="2. 谁拥有class"></a>2. 谁拥有class</h3><ol>
<li><p>class</p>
</li>
<li><p>interface</p>
<span id="more"></span></li>
<li><p>enum</p>
</li>
<li><p>annotation</p>
</li>
<li><p>primitive type 基本数据类型</p>
</li>
<li><p>void</p>
</li>
</ol>
<h3 id="3-java-lang-Class-lt-T-gt"><a href="#3-java-lang-Class-lt-T-gt" class="headerlink" title="3. java.lang.Class&lt;T&gt;"></a>3. java.lang.Class&lt;T&gt;</h3><ol>
<li><p>Class类是一个对象照镜子的结果，对象可以看到自己有哪些属性，方法，构造器，实现了哪些接口等等</p>
</li>
<li><p>Class类和Object关系不大，Class就是一个方便反射的类。interface也有Class,这个.但这不意味着interface和Object有任何关系。</p>
<ol>
<li>inteface作为注解的时候有一个类似Object的公共父接口Annotation.</li>
</ol>
</li>
<li><p>Class 是一个类,一个描述类的类.封装了描述方法的 Method,</p>
<p>​       描述字段的 File</p>
<p>​       描述构造器的 Constructor 等属性.</p>
</li>
</ol>
<h2 id="二、反射"><a href="#二、反射" class="headerlink" title="二、反射"></a>二、反射</h2><h3 id="1-反射Api"><a href="#1-反射Api" class="headerlink" title="1. 反射Api"></a>1. 反射Api</h3><ol>
<li><p>关于方法的</p>
<table>
<thead>
<tr>
<th>方法名</th>
<th>功能说明</th>
</tr>
</thead>
<tbody><tr>
<td>static Class forName(String name)</td>
<td>返回指定类名 name 的 Class 对象</td>
</tr>
<tr>
<td>Object newInstance()</td>
<td>调用缺省构造函数，返回该Class对象的一个实例</td>
</tr>
<tr>
<td>Object newInstance(Object []args)</td>
<td>调用当前格式构造函数，返回该Class对象的一个实例</td>
</tr>
<tr>
<td>getName()</td>
<td>返回此Class对象所表示的实体（类、接口、数组类、基本类型或void）名称</td>
</tr>
<tr>
<td>Class getSuperClass()</td>
<td>返回当前Class对象的父类的Class对象</td>
</tr>
<tr>
<td>Class [] getInterfaces()</td>
<td>获取当前Class对象的接口</td>
</tr>
<tr>
<td>ClassLoader getClassLoader()</td>
<td>返回该类的类加载器</td>
</tr>
<tr>
<td>Class getSuperclass()</td>
<td>返回表示此Class所表示的实体的超类的Class</td>
</tr>
</tbody></table>
</li>
<li><p>获得非超类属性</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">getDeclatedFields、getDeclatedMethods和getDeclaredConstructors方法可以获得类中声明的全部域、方法和构造器，其中包括私有和受保护的成员，但不包括超类的成员。</span><br></pre></td></tr></table></figure></li>
<li><p>获得所有属性</p>
<blockquote>
<p>getFields、getMethods和getCostructors方法可以获得类提供的public域、方法和构造器数组，其中包括超类的共有成员</p>
</blockquote>
</li>
<li><p>获得特定属性</p>
</li>
</ol>
<blockquote>
<p>getField、getMethod和getCostructor方法可以获得指定名字的域、方法和构造器。</p>
</blockquote>
<ol>
<li><ol start="4">
<li><p>获取方法</p>
<ol>
<li><p>fornname</p>
</li>
<li><p>实例.getClass()</p>
</li>
<li><p>类.class</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Class&lt;String&gt; _class = String.class;</span><br><span class="line">        Class&lt;String&gt; _getClass = (Class&lt;String&gt;) <span class="string">&quot;aa&quot;</span>.getClass();</span><br><span class="line">          Object obj=xx;</span><br><span class="line">     System.out.println(obj == _class);</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
</li>
<li><p>Class&lt;T&gt;</p>
<ol>
<li><p>```java<br>Class<Class>tt=Class.class</p>
<figure class="highlight crystal"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">3</span>. 特别的</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>. 基本类可以通过其封装类.<span class="keyword">type</span>获得<span class="class"><span class="keyword">class</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Integer.TYPE==int<br>Integer.class==class java.lang.Integer</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="bullet">4.</span> 类加载过程</span><br><span class="line"></span><br><span class="line"><span class="bullet">   1.</span> load:classLoader将class文件读入内存，并创建一个Class\<span class="xml"><span class="tag">&lt;<span class="name">this</span>&gt;</span></span>的Class实例</span><br><span class="line"><span class="bullet">   2.</span> link:将类的二进制数据合并到Jre</span><br><span class="line"><span class="bullet">      1.</span> 检验类信息是否符合规范，代码是否正确</span><br><span class="line"><span class="bullet">      2.</span> 分配static成员的内存</span><br><span class="line"><span class="bullet">   3.</span> initialize:JVM初始化类，执行静态代码块</span><br><span class="line"></span><br><span class="line"><span class="bullet">5.</span> 类的初始化</span><br><span class="line"></span><br><span class="line"><span class="bullet">   1.</span> 初始化是一种懒加载，只有被用到了才会初始化</span><br><span class="line"><span class="bullet">   2.</span> 主动引用(从父类到子类都会初始化)</span><br><span class="line"><span class="bullet">      1.</span> new</span><br><span class="line"><span class="bullet">      2.</span> 反射</span><br><span class="line"><span class="bullet">   3.</span> 被动引用(不会初始化)</span><br><span class="line"><span class="bullet">      1.</span> 直接调用静态变量 、常量类A.a，(因为在这些东西在link的时候就加载出来了)</span><br><span class="line"><span class="bullet">      2.</span> new 出来的是对象数组</span><br><span class="line"></span><br><span class="line"><span class="bullet">6.</span> 类加载器</span><br><span class="line"></span><br><span class="line">   ![<span class="string">image-20211011004255272</span>](<span class="link">https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211011004255272.png</span>)</span><br><span class="line"></span><br><span class="line"><span class="bullet">7.</span> 双亲委派机制</span><br><span class="line"></span><br><span class="line"><span class="bullet">8.</span> 关键</span><br><span class="line"></span><br><span class="line"><span class="bullet">   1.</span> 一个类,对象只有一个Class</span><br><span class="line"></span><br><span class="line"><span class="section">### 反射</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> [<span class="string">反射功能</span>](<span class="link">https://www.cnblogs.com/adamjwh/p/9683705.html</span>)</span><br><span class="line"></span><br><span class="line"><span class="bullet">   1.</span> 在运行时判断任意一个对象所属的类。</span><br><span class="line"><span class="bullet">   2.</span> 在运行时构造任意一个类的对象。</span><br><span class="line"><span class="bullet">   3.</span> 在运行时判断任意一个类所具有的成员变量和方法。</span><br><span class="line"><span class="bullet">   4.</span> 在运行时调用任意一个对象的方法。</span><br><span class="line"><span class="bullet">   5.</span> 生成动态代理。</span><br><span class="line"></span><br><span class="line"><span class="bullet">2.</span> Method</span><br><span class="line"></span><br><span class="line"><span class="bullet">   1.</span> 获得所有方法(不包括私有)</span><br><span class="line"></span><br><span class="line"><span class="code">      ```java</span></span><br><span class="line"><span class="code">      Method[] methods = clazz.getMethods();</span></span><br></pre></td></tr></table></figure></li>
<li><p>获取本类方法(包括私有)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">methods = clazz.getDeclaredMethods();</span><br></pre></td></tr></table></figure></li>
<li><p>通过方法名+参数类型获取方法(包括私有)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Method method = clazz.getDeclaredMethod(<span class="string">&quot;setName&quot;</span>, String.class);</span><br></pre></td></tr></table></figure></li>
<li><p>反向调用方法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">method.invoke(obje,<span class="number">2</span>);<span class="comment">//如果一个方法是私有方法，第三步是可以获取到的，但是这一步却不能执行　　　　//私有方法的执行，必须在调用invoke之前加上一句method.setAccessible（true）;</span></span><br></pre></td></tr></table></figure></li>
<li><p>个人理解</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> &lt;T&gt;<span class="function"><span class="keyword">void</span> <span class="title">updateEntity</span><span class="params">(BaseMapper baseMapper, String entity,Class&lt;T&gt;tClass)</span></span></span><br></pre></td></tr></table></figure>

<p>void前面的T就好像是声明了我这个函数是关于T的，如果不声明，参数也不能用T。</p>
</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>java分析3</title>
    <url>/2022/03/08/java/JavaSE/java%E7%89%B9%E6%AE%8A%E5%B1%9E%E6%80%A7/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、面向对象"><a href="#一、面向对象" class="headerlink" title="一、面向对象"></a>一、面向对象</h2><h3 id="1-1-方法重构"><a href="#1-1-方法重构" class="headerlink" title="1.1 方法重构"></a>1.1 方法重构</h3><ol>
<li><p>不同return 不同参  可行</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">t</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">t</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;<span class="keyword">return</span> <span class="number">1</span>;&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>不同类型同参  不行</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">t</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">t</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> <span class="number">1</span>;&#125;</span><br></pre></td></tr></table></figure>

<span id="more"></span></li>
<li><p>继承重构也是</p>
</li>
<li><p>所以带有@Data的两个继承类，属性能覆盖，但是如果int A.a  String B.a 就会报错，因为A是int getA()</p>
<p>而B是String getA()。</p>
</li>
<li><p>重写的方法不能抛出新的异常，只能try catch掉</p>
</li>
</ol>
<h3 id="1-2-super关键字"><a href="#1-2-super关键字" class="headerlink" title="1.2 super关键字"></a>1.2 super关键字</h3><ol>
<li><p>super()调用必须是<font color='red'>构造函数主体</font>中的<font color='red'>第一条语句</font>,当父类有无参构造的时候可以不写。</p>
</li>
<li><p>super.fun() 可调用父类的方法</p>
<ul>
<li>同包下-权限下限: default</li>
<li>不同包-权限下限: protected</li>
</ul>
</li>
<li><p>对于接口的super,可以用A1Interface的类名.super.fun()，很特殊，因为super一般都是指向父类而非接口。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">a</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   A1Interface.<span class="keyword">super</span>.a();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>接口的defalut方法其实不是访问权限，而是表明是默认方法，访问权限其实还是public</p>
</li>
</ol>
<h3 id="1-3-this关键字"><a href="#1-3-this关键字" class="headerlink" title="1.3 this关键字"></a>1.3 this关键字</h3><ol>
<li><p>默认情况下this不能再static方法中出现，所以main方法取到private属性</p>
</li>
<li><p>在main方法中取到private属性可以不用public方法，因为这是在类内部</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String aaa;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="keyword">new</span> Test().aaa);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>反射的应用</title>
    <url>/2022/03/08/java/JavaSE/%E5%8F%8D%E5%B0%84%E7%9A%84%E5%BA%94%E7%94%A8/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><ol>
<li><p>自定义注解要有@Retention(RetentionPolicy.RUNTIME)，才能运行时检查</p>
</li>
<li><p>只有static变量才能set(null,”sth”)</p>
<span id="more"></span></li>
</ol>
<h3 id="改变static变量"><a href="#改变static变量" class="headerlink" title="改变static变量"></a>改变static变量</h3><ol>
<li><p>定义注解</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Target(ElementType.FIELD)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Path &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>判断</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (Field declaredField : PathTest.class.getDeclaredFields()) &#123;</span><br><span class="line">    <span class="comment">//判断static</span></span><br><span class="line">    <span class="keyword">if</span> (Modifier.isStatic(declaredField.getModifiers()))</span><br><span class="line">    &#123;       <span class="comment">//判断类型</span></span><br><span class="line">        <span class="keyword">if</span> (String.class.equals(declaredField.getType())) &#123;</span><br><span class="line">            declaredField.set(<span class="keyword">null</span>, <span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">            declaredField.set(<span class="keyword">null</span>, <span class="number">20</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">int</span>.class.equals(declaredField.getType())) &#123;</span><br><span class="line">            declaredField.set(<span class="keyword">null</span>, <span class="number">20</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> declaredField.set(<span class="keyword">null</span>, <span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>java注解</title>
    <url>/2022/03/08/java/JavaSE/%E6%B3%A8%E8%A7%A3/</url>
    <content><![CDATA[<h3 id="1-内置注解"><a href="#1-内置注解" class="headerlink" title="1. 内置注解"></a>1. 内置注解</h3><ol>
<li><p>@Override </p>
</li>
<li><p>@Supersswarnings 类/方法</p>
</li>
<li><p>@Deprecated 类/方法</p>
</li>
<li><p>元注解 </p>
<ol>
<li><p>@Target 作用范围</p>
<p>ElementType 枚举值</p>
<ol>
<li>Type 类上</li>
<li>Method 方法上</li>
<li>Field 属性上</li>
</ol>
</li>
<li><p>@Retetion 什么时候有效</p>
</li>
<li><p>@Inherited 继承</p>
</li>
<li><p>@Documented 生成文档</p>
</li>
</ol>
</li>
<li><p>次元注解(注解的注解)</p>
<ol>
<li><p>@Repeatable(Persons.class)</p>
<p>可重复的</p>
</li>
</ol>
</li>
<li><p>本质：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">myAnno</span>.<span class="title">An1</span> <span class="keyword">extends</span> <span class="title">java</span>.<span class="title">lang</span>.<span class="title">annotation</span>.<span class="title">Annotation</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>三大主干类</p>
<ol>
<li><p>祖先</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> java.lang.annotation;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Annotation</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">String <span class="title">toString</span><span class="params">()</span></span>;</span><br><span class="line">    Class&lt;? extends Annotation&gt; annotationType();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>作用域</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">ElementType</span> </span>&#123;</span><br><span class="line">    TYPE,               <span class="comment">/* 类、接口（包括注释类型）或枚举声明  */</span></span><br><span class="line">    FIELD,              <span class="comment">/* 字段声明（包括枚举常量）  */</span></span><br><span class="line">    METHOD,             <span class="comment">/* 方法声明  */</span></span><br><span class="line">    PARAMETER,          <span class="comment">/* 参数声明  */</span></span><br><span class="line">    CONSTRUCTOR,        <span class="comment">/* 构造方法声明  */</span></span><br><span class="line">    LOCAL_VARIABLE,     <span class="comment">/* 局部变量声明  */</span></span><br><span class="line">    ANNOTATION_TYPE,    <span class="comment">/* 注释类型声明  */</span></span><br><span class="line">    PACKAGE             <span class="comment">/* 包声明  */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>作用时间</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> java.lang.annotation;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">RetentionPolicy</span> </span>&#123;</span><br><span class="line">    SOURCE,            <span class="comment">/* Annotation信息仅存在于编译器处理期间，编译器处理完之后就没有该Annotation信息了  */</span></span><br><span class="line">    CLASS,             <span class="comment">/* 编译器将Annotation存储于类对应的.class文件中。默认行为  */</span></span><br><span class="line">    RUNTIME            <span class="comment">/* 编译器将Annotation存储于class文件中，并且可由JVM读入 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>属性—抽象方法</p>
<ol>
<li><p>这是一种java特定规约方法,无参+返回</p>
<p>object method();</p>
<p>类似的还有@Test的</p>
<p>void method();</p>
</li>
<li><p>返回值类型</p>
<ol>
<li>注解(不能是自己，循环注解)</li>
<li>string</li>
<li>枚举</li>
<li>数组</li>
<li>基本类型(不是integer)</li>
</ol>
</li>
<li><p>可以default</p>
</li>
<li><p>在注解被使用的时候属性必须有值</p>
</li>
<li><p>每个属性—抽象方法都能根据反射获得值</p>
</li>
</ol>
</li>
<li><p>作用</p>
<ol>
<li>编译检查<ol>
<li>override检查父类是否有该方法<ol>
<li>其实override加不加都能覆盖,但是加了能起到检查的作用</li>
</ol>
</li>
<li>supersswarnings 检查警告</li>
<li></li>
</ol>
</li>
</ol>
</li>
<li><p>4. </p>
</li>
</ol>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>面向对象</title>
    <url>/2022/03/08/java/JavaSE/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/</url>
    <content><![CDATA[<h3 id="构造函数的规则"><a href="#构造函数的规则" class="headerlink" title="构造函数的规则"></a>构造函数的规则</h3><ol>
<li>None-Any 无规则</li>
<li>0-Any <strong>先执行父类</strong>的空参构造函数</li>
<li>n-Any 需要<strong>先super</strong>一个父类构造函数</li>
</ol>
<h4 id="也就是说"><a href="#也就是说" class="headerlink" title="也就是说"></a>也就是说</h4><ol>
<li>父类只有有参构造,子类必须super</li>
<li>父类只有无参构造或者没有构造</li>
</ol>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>OOP</title>
    <url>/2022/03/08/java/javaOOP/javaOOP/</url>
    <content><![CDATA[<h3 id=""><a href="#" class="headerlink" title=""></a></h3><ol>
<li><p>对象=数据+操作，数据就是属性，操作就是函数，而Class是对两者的封装。</p>
</li>
<li><p>成员变量是私有的</p>
</li>
<li><p>package,public,import是一套的</p>
<blockquote>
<ol>
<li>只有public类才能在不同package下使用</li>
<li>不用package下别的类需要import</li>
</ol>
</blockquote>
</li>
</ol>
<p>​        </p>
<h3 id="访问权限"><a href="#访问权限" class="headerlink" title="访问权限"></a>访问权限</h3><ol>
<li>public&gt;protected&gt;default&gt;private</li>
<li>只有 同一个包下面，可以访问default</li>
<li>不同包下，子类</li>
</ol>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>java知识</title>
    <url>/2022/03/08/java/javaOOP/java%E7%9F%A5%E8%AF%86/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、java分析"><a href="#一、java分析" class="headerlink" title="一、java分析"></a>一、java分析</h2><ol>
<li><p>基本代码分析</p>
<ol>
<li>调试–栈</li>
<li>语法糖、注解等：javac编译+javap反编译</li>
</ol>
</li>
<li><p>判断两个obj是否同类  print obj.getClass</p>
</li>
<li><p>判断两个obj是否一样  print   obj.hashcode  但是可能hash碰撞</p>
</li>
<li><p>web功能分析：</p>
<ol>
<li><p>F12</p>
</li>
<li><p>Postman Swagger RestfulTools</p>
<span id="more"></span></li>
</ol>
</li>
</ol>
<h2 id="二、类"><a href="#二、类" class="headerlink" title="二、类"></a>二、类</h2><h3 id="2-1-私有构造"><a href="#2-1-私有构造" class="headerlink" title="2.1 私有构造"></a>2.1 私有构造</h3><ol>
<li><p>特点：不能实例化，不能被继承，常用于被实例化一次的类(单例模式)</p>
</li>
<li><p>两种方式拿到单例</p>
<ol>
<li><p>puvlic static成员变量</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Elvis</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Elvis INSTANCE = <span class="keyword">new</span> Elvis();</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Elvis</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>private static成员变量，使用static方法返回</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Elvis</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Elvis INSTANCE = <span class="keyword">new</span> Elvis();</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Elvis</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Elvis <span class="title">getInstance</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> INSTANCE;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>作用：防止实例化和子类化，常用在util类,常量类，我们一般用这些类static方法而非他的实例，</p>
</li>
</ol>
</li>
</ol>
<h3 id="2-2-继承"><a href="#2-2-继承" class="headerlink" title="2.2 继承"></a>2.2 继承</h3><ol>
<li><p>强制转换本着宁多勿少的原则，java.lang.ClassCastException运行时异常</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Users obj= (Users) <span class="keyword">new</span> Object();</span><br></pre></td></tr></table></figure></li>
</ol>
<!--more-->

<h3 id="2-3-内部类"><a href="#2-3-内部类" class="headerlink" title="2.3 内部类"></a>2.3 内部类</h3><h4 id="2-3-1-作用"><a href="#2-3-1-作用" class="headerlink" title="2.3.1 作用"></a>2.3.1 作用</h4><ol>
<li>可以实现多重继承：定义一个半成品类继承类1，</li>
<li>可以直接访问外部类的成员，包括私有</li>
</ol>
<h4 id="2-3-2-内部类的分类"><a href="#2-3-2-内部类的分类" class="headerlink" title="2.3.2  内部类的分类"></a>2.3.2  内部类的分类</h4><ul>
<li><p>成员内部类 –&gt; 类里的类</p>
</li>
<li><p>局部内部类 –&gt; 函数里面的类</p>
</li>
<li><p>静态内部类 –&gt; </p>
</li>
<li><p>匿名内部类</p>
</li>
</ul>
<h4 id="2-3-3-注意点"><a href="#2-3-3-注意点" class="headerlink" title="2.3.3 注意点"></a>2.3.3 注意点</h4><ol>
<li><p>各个类也有访问权限</p>
<ol>
<li>默认defalut</li>
<li>只有public的能在别的包创建这个内部类</li>
</ol>
</li>
<li><p>非static的成员内部类不能有static方法,也即不能有main函数</p>
</li>
<li><p>创建一个成员内类就相当于创建了两个类: 外部+内部</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211203232620875.png" alt="image-20211203232620875"></p>
</li>
<li><p>函数里面不能有权限符号 private等,所有局部内部类都是只有这个方法能访问的</p>
</li>
<li><p>为什么局部内部类访问局部变量必须加final修饰呢</p>
<blockquote>
<p>​    因为<strong>局部变量是随着方法的调用而调用</strong>，<strong>使用完毕就消失</strong>，<strong>而堆内存的数据并不会立即消失</strong>。</p>
<p>所以，堆内存还是用该变量，而该变量已经没有了。<strong>为了让该值还存在，就加final修饰。</strong></p>
<p>原因是，当我们使用final修饰变量后，堆内存直接存储的<strong>是值</strong>，而<strong>不是变量名</strong>。</p>
</blockquote>
</li>
</ol>
<h4 id="2-3-4-成员内部类"><a href="#2-3-4-成员内部类" class="headerlink" title="2.3.4 成员内部类"></a>2.3.4 成员内部类</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SSS</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">	</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Inner</span> </span>&#123;  	<span class="comment">//成员内部类</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(age);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Inner2</span> </span>&#123;  <span class="comment">//静态内部类/嵌套内部类</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="number">111</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">SSS.Inner a=<span class="keyword">new</span> SSS().<span class="function">new <span class="title">Inner</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>

<h4 id="2-3-5-局部内部类"><a href="#2-3-5-局部内部类" class="headerlink" title="2.3.5 局部内部类"></a>2.3.5 局部内部类</h4><ol>
<li></li>
</ol>
<p>​            </p>
<h2 id="三、java9大隐式对象"><a href="#三、java9大隐式对象" class="headerlink" title="三、java9大隐式对象"></a>三、java9大隐式对象</h2><ol>
<li><p>Session: 主要用于来分别保存每个用户信息，与请求关联的对话;</p>
</li>
<li><p>Request: 代表请求对象，主要用于接受客户端通过HTTP协议连接传输到服务器端的数据;</p>
</li>
<li><p>Response: 代表响应对象，主要用于向客户端发送数据;</p>
</li>
<li><p>out: 主要用于向客户端输出数据；</p>
</li>
<li><p>application: 主要用于保存用户信息，代码片段的运行环境;</p>
</li>
<li><p>pageContext: 管理网页属性;</p>
<ol>
<li>可以作为入口对象获取其他八大隐式对象的引用</li>
</ol>
</li>
<li><p>config: 代码片段配置对象，表示Servlet的配置;</p>
</li>
<li><p>page:处理jsp网页;</p>
</li>
<li><p>Exception:处理jsp文件执行时发生的错误和异常</p>
</li>
</ol>
<h4 id="native关键字"><a href="#native关键字" class="headerlink" title="native关键字"></a>native关键字</h4><ol>
<li><a href="https://www.cnblogs.com/szlbm/p/5504603.html**">手写一个native</a></li>
<li>native方法主要用于加载文件和动态链接库，由于Java语言无法访问操作系统底层信息（比如：底层硬件设备等），这时候就需要借助C语言来完成了。被native修饰的方法可以被C语言重写。</li>
<li>被native关键字修饰的方法叫做本地方法，本地方法和其它方法不一样，本地方法意味着和平台有关</li>
<li>Java程序中声明native修饰的方法，类似于abstract修饰的方法，只有方法签名，没有方法实现。编译该java文件，会产生一个.class文件。</li>
</ol>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>JNI</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JNI/</url>
    <content><![CDATA[<h2 id="Native"><a href="#Native" class="headerlink" title="Native"></a>Native</h2><p>其中Java调用Nativie方法通常的步骤是：</p>
<ul>
<li><ol>
<li>声明native方法： <code>private native void sayHello();</code></li>
</ol>
</li>
<li><ol>
<li>通过<code>javah</code> 生成native程序的头文件<code>HelloJNI.h</code></li>
</ol>
</li>
<li><ol>
<li>实现对应的navtive方法</li>
</ol>
</li>
</ul>
<p><a href="https://blog.csdn.net/Saintyyu/article/details/90452826">参考1</a></p>
<p><a href="https://www.jianshu.com/p/216a41352fd8">参考2-JNI 学习笔记——通过RegisterNatives注册原生方法</a></p>
<p>Java有两种方法：</p>
<ul>
<li>Java方法是由Java语言编写，Java方法是平台无关的，编译成字节码，存储在class文件中。本地方法是由其他语言（比如C，C++，或者汇编）编写的，编译成和处理器相关的机器代码。</li>
<li>本地方法保存在动态连接库中，格式是各个平台专有的。本地方法却不是，运行中的Java程序调用本地方法时，虚拟机装载包含这个本地方法的动态库，并调用这个方法。本地方法是联系Java程序和底层主机操作系统的连接方法。</li>
</ul>
<h3 id="registerNatives"><a href="#registerNatives" class="headerlink" title="registerNatives"></a>registerNatives</h3><blockquote>
<p>当包含registerNatives()方法的类被加载的时候，注册的方法就是该类所包含的除了registerNatives()方法以外的所有本地方法</p>
</blockquote>
<blockquote>
<p>Object,Class,System,Unsafe,ClassLoader都要这个方法</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">registerNatives</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        registerNatives();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p> Java调用本地方法步骤</p>
<ol>
<li>通过System.loadLibrary()将包含本地方法实现的动态文件加载进内存</li>
<li>当Java程序需要调用本地方法时，虚拟机在加载的动态文件中定位并链接该本地方法，从而得以执行本地方法。registerNatives()方法的作用就是取代第二步，让程序主动将本地方法链接到调用方，当Java程序需要调用本地方法时就可以直接调用，而不需要虚拟机再去定位并链接。</li>
</ol>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>java多线程关键字理解</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/Java%E5%85%B3%E9%94%AE%E5%AD%97/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、synchronized"><a href="#一、synchronized" class="headerlink" title="一、synchronized"></a>一、synchronized</h2><p><a href="(http://hollischuang.gitee.io/tobetopjavaer/#/basics/concurrent-coding/synchronized?id=synchronized%E7%9A%84%E7%94%A8%E6%B3%95)">参考</a></p>
<blockquote>
<p> 当我们想要保证一个共享资源在同一时间只会被一个线程访问到时，我们可以在代码中使用<code>synchronized</code>关键字对类或者对象加锁/同步。</p>
</blockquote>
<blockquote>
<p><code>synchronized</code>关键字在需要原子性、可见性和有序性这三种特性的时候都可以作为其中一种解决方案，看起来是“万能”的。的确，大部分并发控制操作都能使用synchronized来完成。</p>
</blockquote>
<h3 id="1-1-用法"><a href="#1-1-用法" class="headerlink" title="1.1 用法"></a>1.1 用法</h3><h3 id="1-2-原理"><a href="#1-2-原理" class="headerlink" title="1.2 原理"></a>1.2 原理</h3><h3 id="1-3-CSA"><a href="#1-3-CSA" class="headerlink" title="1.3 CSA"></a>1.3 CSA</h3><h3 id="可见性"><a href="#可见性" class="headerlink" title="可见性"></a>可见性</h3><blockquote>
<p>可见性是指当多个线程访问同一个变量时，一个线程修改了这个变量的值，其他线程能够立即看得到修改的值。</p>
</blockquote>
<h2 id="二、volatile"><a href="#二、volatile" class="headerlink" title="二、volatile"></a>二、volatile</h2><h3 id="锁机制缺点"><a href="#锁机制缺点" class="headerlink" title="锁机制缺点"></a>锁机制缺点</h3><p>（1）在多线程竞争下，加锁、释放锁会导致比较多的上下文切换和调度延时，引起性能问题。</p>
<p>（2）一个线程持有锁会导致其它所有需要此锁的线程挂起。</p>
<p>（3）如果一个优先级高的线程等待一个优先级低的线程释放锁会导致优先级倒置，引起性能风险。</p>
<p>volatile是不错的机制，但是volatile不能保证原子性。因此对于同步最终还是要回到锁机制上来。</p>
<p>独占锁是一种悲观锁，synchronized就是一种独占锁，会导致其它所有需要锁的线程挂起，等待持有锁的线程释放锁。而另一个更加有效的锁就是乐观锁。所谓乐观锁就是，每次不加锁而是假设没有冲突而去完成某项操作，如果因为冲突失败就重试，直到成功为止。乐观锁用到的机制就是CAS，Compare and Swap。</p>
<h3 id="三、"><a href="#三、" class="headerlink" title="三、= ="></a>三、= =</h3><blockquote>
<p>双等号</p>
</blockquote>
<p>java中的数据类型，可分为两类：</p>
<ol>
<li>基本数据类型：比较的是他们的值。</li>
<li>引用类型<br>比较的是他们在内存中的存放地址，所以，除非是同一个new出来的对象，他们的比较后的结果为true，否则比较后结果为false。 JAVA当中所有的类都是继承于Object这个基类的，在Object中的基类中定义了一个equals的方法，这个方法的初始行为是比较对象的内存地 址，但在一些类库当中这个方法被覆盖掉了，如String,Integer,Date在这些类当中equals有其自身的实现，而不再是比较类在堆内存中的存放地址了。<br> 对于复合数据类型之间进行equals比较，在没有覆写equals方法的情况下，他们之间的比较还是基于他们在内存中的存放位置的地址值的，因为Object的equals方法也是用双等号（==）进行比较的，所以比较后的结果跟双等号（==）的结果相同。</li>
</ol>
<h2 id="三、transient"><a href="#三、transient" class="headerlink" title="三、transient"></a>三、<a href="http://hollischuang.gitee.io/tobetopjavaer/#/basics/java-basic/transient-in-java?id=transient">transient</a></h2><blockquote>
<p>​    transient修饰的成员变量，在序列化的时候其值会被忽略，在被反序列化后， transient 变量的值被设为初始值， 如 int 型的是 0，对象型的是 null。</p>
</blockquote>
]]></content>
      <categories>
        <category>java</category>
        <category>JUC</category>
      </categories>
  </entry>
  <entry>
    <title>hashcode分析</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/hashcode%E7%9A%84%E5%88%86%E6%9E%90/</url>
    <content><![CDATA[<h3 id="hashcode的由来"><a href="#hashcode的由来" class="headerlink" title="hashcode的由来"></a>hashcode的由来</h3><p><a href="https://blog.csdn.net/zhangyuan19880606/article/details/51240372">参考1</a></p>
<p><a href="https://www.jianshu.com/p/be943b4958f4">参考2-Java Object.hashCode()返回的是对象内存地址？</a></p>
<ol>
<li><p>object直接输出类名+hashcode的16进制</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span>:</span></span><br><span class="line"><span class="function">	return <span class="title">getClass</span><span class="params">()</span>.<span class="title">getName</span><span class="params">()</span> + &quot;@&quot; + Integer.<span class="title">toHexString</span><span class="params">(hashCode()</span>)</span>;</span><br></pre></td></tr></table></figure></li>
<li><p>jvm生成hashcode的算法是不稳定算法</p>
<blockquote>
<p>分为五种策略,默认五种</p>
</blockquote>
<ol>
<li><p>第一种策略</p>
<ol>
<li><p>获取内存地址，然后根据地址进行一定计算</p>
<figure class="highlight nim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">addr</span>=intptr&gt;&gt;<span class="number">3</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">addr</span>^(<span class="keyword">addr</span>&gt;&gt;<span class="number">5</span>)^<span class="type">RandomInt</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>策略2</p>
<blockquote>
<p>固定返回1，用于测试</p>
</blockquote>
</li>
<li><p>策略3</p>
<blockquote>
<p>自增</p>
</blockquote>
</li>
<li><p>策略4</p>
<blockquote>
<p>直接指针地址</p>
</blockquote>
</li>
<li><p>策略5</p>
</li>
</ol>
</li>
<li><p><a href="https://blog.csdn.net/zjq_1314520/article/details/78955104">其他情况</a></p>
<ol>
<li><p>int  的hashcode就是他们的</p>
</li>
<li><p>string的hashcode</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> h = hash;<span class="comment">//默认为0</span></span><br><span class="line">        <span class="keyword">if</span> (h == <span class="number">0</span> &amp;&amp; value.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">char</span> val[] = value;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; value.length; i++) &#123;</span><br><span class="line">                h = <span class="number">31</span> * h + val[i];&#125;</span><br><span class="line">            hash = h;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> h;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>‘1’ -&gt; 49</p>
<p>‘0’ -&gt; 48</p>
<p>h=31*0+49=49 *</p>
<p><em>h=31</em>49+48=1567</p>
</blockquote>
</li>
<li><p>long</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">return</span> (<span class="keyword">int</span>)(value ^ (value &gt;&gt;&gt; <span class="number">32</span>));</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h3 id="hashcode是否会相等"><a href="#hashcode是否会相等" class="headerlink" title="hashcode是否会相等"></a>hashcode是否会相等</h3>]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>java分析1</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/java%E5%88%86%E6%9E%90/</url>
    <content><![CDATA[<h3 id="数组-列表的for-each"><a href="#数组-列表的for-each" class="headerlink" title="数组-列表的for-each"></a>数组-列表的for-each</h3><ol>
<li><p>数组</p>
<ol>
<li><p>源代码1</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (Student student : students) &#123;student=students2[<span class="number">0</span>];&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>反编译1</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(var5 = <span class="number">0</span>; var5 &lt; var4; ++var5) &#123;</span><br><span class="line">            Student var10000 = var3[var5];</span><br><span class="line">            var6 = var2[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<span id="more"></span></li>
<li><p>源代码2</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (Student student : students) &#123;</span><br><span class="line">           System.out.println(student);</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>反编译2</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(var5 = <span class="number">0</span>; var5 &lt; var4; ++var5) &#123;</span><br><span class="line">            var6 = var3[var5];</span><br><span class="line">    System.out.println(var6);&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>List</p>
<ol>
<li><p>修改1</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">students.forEach(o-&gt;o=s);</span><br><span class="line"><span class="comment">//编译后</span></span><br><span class="line">var0.forEach((var1x) -&gt; &#123;&#125;);</span><br></pre></td></tr></table></figure></li>
<li><p>修改2</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (Student student : students) student=s;</span><br><span class="line"><span class="comment">//反编译后</span></span><br><span class="line">Iterator var2;</span><br><span class="line">Student var3;</span><br><span class="line"><span class="keyword">for</span>(var2 = var0.iterator(); var2.hasNext(); var3 = (Student)var2.next()) &#123;&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>输出1</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">students.forEach(o-&gt; System.out.println(s));</span><br><span class="line"><span class="comment">//反编译后</span></span><br><span class="line">var0.forEach((var1x) -&gt; &#123;System.out.println(var1);&#125;);</span><br></pre></td></tr></table></figure></li>
<li><p>输出2</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>(var2.hasNext()) &#123;var3 = (Student)var2.next();System.out.println(var3);&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>list.foreach(id-&gt;xx)不能continue break return</p>
</li>
</ol>
</li>
</ol>
<h3 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h3><ol>
<li>泛型擦除</li>
</ol>
<h3 id="instanceof的原理"><a href="#instanceof的原理" class="headerlink" title="instanceof的原理"></a>instanceof的原理</h3><ol>
<li>​        用法 obj instanceof clazz   obj是否为clazz的实例，或者是他的或者实现这个接口，</li>
<li></li>
</ol>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>java常用工具类源码</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/</url>
    <content><![CDATA[<h3 id="比较器Comparator"><a href="#比较器Comparator" class="headerlink" title="比较器Comparator"></a>比较器Comparator</h3><h3 id="一、比较器Comparator"><a href="#一、比较器Comparator" class="headerlink" title="一、比较器Comparator"></a>一、比较器Comparator</h3><ol>
<li><p>Arrays.sort(users,new Comparator)</p>
<p>-&gt;TimSort.sort(user,0,length,comparator)</p>
<p>-&gt;if(len&lt;32)</p>
<p>​    –&gt;i++找到合适开始index</p>
<p>​    –&gt;2进制插入排序binarySort(a,index,length,c)</p>
<p>​    –&gt;这是对少量元素进行排序的最佳方法，它需</p>
</li>
</ol>
<span id="more"></span>

<ol start="2">
<li><p>要O（n logn）比较，但需要O（n^2）数据移动（最坏情况</p>
<p>-&gt;else -&gt;Timsort</p>
</li>
<li><p>Arrays.sort(int[])–&gt;优化的快排</p>
</li>
</ol>
<h3 id="二、org-apache-logging-log4j-util-Strings-final"><a href="#二、org-apache-logging-log4j-util-Strings-final" class="headerlink" title="二、org.apache.logging.log4j.util.Strings(final)"></a>二、org.apache.logging.log4j.util.Strings(final)</h3><ol>
<li><p>isEmpty</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">return</span> cs == <span class="keyword">null</span> || cs.length() == <span class="number">0</span>;</span><br></pre></td></tr></table></figure></li>
<li><p>isBlank 是否是空白</p>
</li>
</ol>
<h3 id="三、java-lang"><a href="#三、java-lang" class="headerlink" title="三、java.lang"></a>三、java.lang</h3><ol>
<li><p>final class</p>
<ol>
<li><p>String</p>
<ol>
<li><p>charAt,indexOf,compareTo,concat(str),contain,equals,endsWith,ifEmpty</p>
<p>replace,split</p>
</li>
<li><p>copyValueOf(),valueOf(char[],begin,length),valueOf(基本类型)</p>
</li>
<li><p>subString(begin,end),toLowerCase,trim</p>
</li>
</ol>
</li>
<li><p>Character</p>
<ol>
<li>equals,isLetter是否是一个字母,isLowLetter是否小写字母，toLowCase,compareTo</li>
<li>digit</li>
</ol>
</li>
<li><p>Object</p>
<ol>
<li><p>final native getClass 获得运行时Class而非String/类 com.wyg.entity.user,也可能是他的子类。</p>
</li>
<li><p>native clone</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">x.clone()!=x</span><br><span class="line">x.clone().getClass()==x</span><br><span class="line">x.clone().equal(<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>native hashcode</p>
</li>
<li><p>可重写：toString,equals</p>
</li>
</ol>
</li>
<li><p>java.util.Objects  //对Object对象处理的方法类</p>
<ol>
<li><p>深度判等</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">deepEquals(Object a, Object b)</span><br><span class="line"><span class="keyword">if</span> (a == b)</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (a == <span class="keyword">null</span> || b == <span class="keyword">null</span>)</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	<span class="keyword">return</span> Arrays.deepEquals0(a, b);</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>System</p>
<ol>
<li><p>获取系统信息，修改系统信息，标准输入输出流，加载文件、库。</p>
</li>
<li><p>native void arraycopy(src[],begin1,dest[],begin2,length)</p>
</li>
<li><p>exit退出</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">exit</span><span class="params">(<span class="keyword">int</span> status)</span> </span>&#123;</span><br><span class="line">    Runtime.getRuntime().exit(status);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>Math</p>
</li>
<li><p>Thread</p>
</li>
</ol>
</li>
<li><p>class</p>
<ol>
<li>interface Runable</li>
<li>Thread implements Runnable<ol>
<li>static sleep 当前线程休息</li>
<li>start,调用run</li>
<li>getId,getName</li>
<li>static currentThread,返回当前线程</li>
<li></li>
</ol>
</li>
<li>class Package implements java.lang.reflect.AnnotatedElemen–单例</li>
</ol>
</li>
<li><p>特殊类：</p>
<ol>
<li><p>异常类class Throwable implements Serializable</p>
<ol>
<li>getMassage</li>
<li>printStackTrace</li>
</ol>
</li>
<li><p>final Void</p>
<ol>
<li><p>结合native方法构成关键字</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">native</span> Class&lt;?&gt; getPrimitiveClass(String name);</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>final Class&lt;T&gt;</p>
<ol>
<li><p>结合native方法构成关键字</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">native</span> Class&lt;?&gt; getPrimitiveClass(String name);</span><br></pre></td></tr></table></figure></li>
<li><p>T newInstance 创造实例</p>
</li>
<li></li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="sun-reflect"><a href="#sun-reflect" class="headerlink" title="sun.reflect"></a>sun.reflect</h3>]]></content>
      <categories>
        <category>javay</category>
      </categories>
  </entry>
  <entry>
    <title>java源码解读2</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB2/</url>
    <content><![CDATA[<h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><ol>
<li></li>
</ol>
<h3 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h3><ol>
<li><p>Arrays.sort(nums)</p>
<ol>
<li>len&lt;286 用快排</li>
<li>否则:检查是否已经接近有序</li>
<li>如果不是接近有序,用快排</li>
<li>用合并排序</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>Java源码</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/readme/</url>
    <content><![CDATA[<h2 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h2><h3 id="1-1-作用"><a href="#1-1-作用" class="headerlink" title="1.1 作用"></a>1.1 作用</h3><h3 id="1-2-原理"><a href="#1-2-原理" class="headerlink" title="1.2 原理"></a>1.2 原理</h3><h3 id="1-3-父"><a href="#1-3-父" class="headerlink" title="1.3 父"></a>1.3 父</h3><h2 id="二、属性"><a href="#二、属性" class="headerlink" title="二、属性"></a>二、属性</h2><h2 id="三、方法"><a href="#三、方法" class="headerlink" title="三、方法"></a>三、方法</h2><h2 id="四、细节"><a href="#四、细节" class="headerlink" title="四、细节"></a>四、细节</h2>]]></content>
  </entry>
  <entry>
    <title>java_Date</title>
    <url>/2022/03/08/java/java%E7%BB%84%E4%BB%B6/Date/</url>
    <content><![CDATA[<h3 id="SimpleDateFormat"><a href="#SimpleDateFormat" class="headerlink" title="SimpleDateFormat"></a>SimpleDateFormat</h3><ol>
<li><p>格式化时间</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Date date = <span class="keyword">new</span> Date();</span><br><span class="line">SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">System.out.println(sdf.format(date));</span><br></pre></td></tr></table></figure></li>
<li></li>
</ol>
<h3 id="Java-util-date与Java-sql-date"><a href="#Java-util-date与Java-sql-date" class="headerlink" title="Java.util.date与Java.sql.date"></a>Java.util.date与Java.sql.date</h3><p>java.sql.date     2022-3-1 </p>
<p>java.util.date    Sat Apr 27 14:32:11 CST 2019</p>
<h4 id="读取数据库后的转换问题"><a href="#读取数据库后的转换问题" class="headerlink" title="读取数据库后的转换问题"></a>读取数据库后的转换问题</h4><ol>
<li><p>sql.date和sql.time都只会读取数据库的一部分</p>
<p>如：数据库保存的是 2022-3-1 8:30:20   那么 </p>
<ol>
<li>sql.date就是2022-3-1 </li>
<li> sql.time就是8:30:20 </li>
<li>sql.dateTime 就是 2022-3-1 8:30:20 </li>
</ol>
</li>
</ol>
<h3 id="插入数据库"><a href="#插入数据库" class="headerlink" title="插入数据库"></a>插入数据库</h3><h3 id="转换"><a href="#转换" class="headerlink" title="转换"></a>转换</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Date date1=<span class="keyword">new</span> Date(date2.getTime())；<span class="comment">//sql.date和util.date之间的转换</span></span><br><span class="line">util.Date date=sdf.parse(<span class="string">&quot;2022-3-1&quot;</span>);<span class="comment">//string--&gt;date</span></span><br><span class="line">String str=sdf.format(date);<span class="comment">//date--&gt;string</span></span><br></pre></td></tr></table></figure>

<h3 id="时区问题"><a href="#时区问题" class="headerlink" title="时区问题"></a>时区问题</h3><p>数据库层：</p>
<p>服务处</p>
<p>网络层</p>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>url</title>
    <url>/2022/03/08/java/java%E7%BB%84%E4%BB%B6/URL/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/java/java%E7%BB%84%E4%BB%B6/file-content-type/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="一、比较全面的contentType的类型值"><a href="#一、比较全面的contentType的类型值" class="headerlink" title="一、比较全面的contentType的类型值"></a>一、比较全面的contentType的类型值</h3><p><a href="https://blog.csdn.net/qq_37651267/article/details/91380351">参考</a></p>
<p>文件扩展名    Content-Type(Mime-Type)    文件扩展名    Content-Type(Mime-Type)</p>
<span id="more"></span>

<p>.<em>（ 二进制流，不知道下载文件类型）    application/octet-stream    .tif    image/tiff<br>.asp    text/asp    .asx    video/x-ms-asf<br>.au    audio/basic    .avi    video/avi<br>.awf    application/vnd.adobe.workflow    .biz    text/xml<br>.bmp    application/x-bmp    .bot    application/x-bot<br>.cit    application/x-cit    .class    java/</em><br>.csi    application/x-csi    .css    text/css<br>.dcd    text/xml    .dcx    application/x-dcx<br>.dib    application/x-dib    .dll    application/x-msdownload<br>.doc    application/msword    .dot    application/msword<br>.drw    application/x-drw    .dtd    text/xml<br>.dwf    Model/vnd.dwf    .dwf    application/x-dwf<br>.etd    application/x-ebx    .exe    application/x-msdownload<br>.gif    image/gif    .gl2    application/x-gl2<br>.hrf    application/x-hrf    .hta    application/hta<br>.htc    text/x-component    .htm    text/html<br>.html    text/html    .htt    text/webviewhtml<br>.htx    text/html    .icb    application/x-icb<br>.ico    image/x-icon    .ico    application/x-ico<br>.iff    application/x-iff    .ig4    application/x-g4<br>.igs    application/x-igs    .iii    application/x-iphone<br>.img    application/x-img    .ins    application/x-internet-signup<br>.java    java/*    .jfif    image/jpeg<br>.jpe    image/jpeg    .jpe    application/x-jpe<br>.jpeg    image/jpeg    .jpg    image/jpeg<br>.jpg    application/x-jpg    .js    application/x-javascript<br>.jsp    text/html    .la1    audio/x-liquid-file<br>.mdb    application/msaccess    .mdb    application/x-mdb<br>.mfp    application/x-shockwave-flash    .mht    message/rfc822<br>.mhtml    message/rfc822    .mi    application/x-mi<br>.mid    audio/mid    .midi    audio/mid<br>.mil    application/x-mil    .mml    text/xml<br>.mnd    audio/x-musicnet-download    .mns    audio/x-musicnet-stream<br>.mocha    application/x-javascript    .movie    video/x-sgi-movie<br>.mp1    audio/mp1    .mp2    audio/mp2<br>.mp2v    video/mpeg    .mp3    audio/mp3<br>.mp4    video/mpeg4    .mpa    video/x-mpg<br>.mpd    application/vnd.ms-project    .mpe    video/x-mpeg<br>.mpeg    video/mpg    .mpg    video/mpg<br>.mpga    audio/rn-mpeg    .mpp    application/vnd.ms-project<br>.mps    video/x-mpeg    .mpt    application/vnd.ms-project<br>.mpv    video/mpg    .mpv2    video/mpeg<br>.mpw    application/vnd.ms-project    .mpx    application/vnd.ms-project<br>.mtx    text/xml    .mxp    application/x-mmxp<br>.net    image/pnetvue    .nrf    application/x-nrf<br>.nws    message/rfc822    .odc    text/x-ms-odc<br>.out    application/x-out    .p10    application/pkcs10<br>.p12    application/x-pkcs12    .p7b    application/x-pkcs7-certificates<br>.p7c    application/pkcs7-mime    .p7m    application/pkcs7-mime<br>.p7r    application/x-pkcs7-certreqresp    .p7s    application/pkcs7-signature<br>.pc5    application/x-pc5    .pci    application/x-pci<br>.pcl    application/x-pcl    .pcx    application/x-pcx<br>.pdf    application/pdf    .pdf    application/pdf<br>.pdx    application/vnd.adobe.pdx    .pfx    application/x-pkcs12<br>.pgl    application/x-pgl    .pic    application/x-pic<br>.pko    application/vnd.ms-pki.pko    .pl    application/x-perl<br>.plg    text/html    .pls    audio/scpls<br>.plt    application/x-plt    .png    image/png<br>.png    application/x-png    .pot    application/vnd.ms-powerpoint<br>.ppa    application/vnd.ms-powerpoint    .ppm    application/x-ppm<br>.pps    application/vnd.ms-powerpoint    .ppt    application/vnd.ms-powerpoint<br>.ppt    application/x-ppt    .pr    application/x-pr<br>.prf    application/pics-rules    .prn    application/x-prn<br>.prt    application/x-prt    .ps    application/x-ps<br>.ps    application/postscript    .ptn    application/x-ptn<br>.pwz    application/vnd.ms-powerpoint    .r3t    text/vnd.rn-realtext3d<br>.ra    audio/vnd.rn-realaudio    .ram    audio/x-pn-realaudio<br>.ras    application/x-ras    .rat    application/rat-file<br>.rdf    text/xml    .rec    application/vnd.rn-recording<br>.red    application/x-red    .rgb    application/x-rgb<br>.rjs    application/vnd.rn-realsystem-rjs    .rjt    application/vnd.rn-realsystem-rjt<br>.rlc    application/x-rlc    .rle    application/x-rle<br>.rm    application/vnd.rn-realmedia    .rmf    application/vnd.adobe.rmf<br>.rmi    audio/mid    .rmj    application/vnd.rn-realsystem-rmj<br>.rmm    audio/x-pn-realaudio    .rmp    application/vnd.rn-rn_music_package<br>.rms    application/vnd.rn-realmedia-secure    .rmvb    application/vnd.rn-realmedia-vbr<br>.rmx    application/vnd.rn-realsystem-rmx    .rnx    application/vnd.rn-realplayer<br>.rp    image/vnd.rn-realpix    .rpm    audio/x-pn-realaudio-plugin<br>.rsml    application/vnd.rn-rsml    .rt    text/vnd.rn-realtext<br>.rtf    application/msword    .rtf    application/x-rtf<br>.rv    video/vnd.rn-realvideo    .sam    application/x-sam<br>.sat    application/x-sat    .sdp    application/sdp<br>.sdw    application/x-sdw    .sit    application/x-stuffit<br>.slb    application/x-slb    .sld    application/x-sld<br>.slk    drawing/x-slk    .smi    application/smil<br>.smil    application/smil    .smk    application/x-smk<br>.snd    audio/basic    .sol    text/plain<br>.sor    text/plain    .spc    application/x-pkcs7-certificates<br>.spl    application/futuresplash    .spp    text/xml<br>.ssm    application/streamingmedia    .sst    application/vnd.ms-pki.certstore<br>.stl    application/vnd.ms-pki.stl    .stm    text/html<br>.sty    application/x-sty    .svg    text/xml<br>.swf    application/x-shockwave-flash    .tdf    application/x-tdf<br>.tg4    application/x-tg4    .tga    application/x-tga<br>.tif    image/tiff    .tif    application/x-tif<br>.tiff    image/tiff    .tld    text/xml<br>.top    drawing/x-top    .torrent    application/x-bittorrent<br>.tsd    text/xml    .txt    text/plain<br>.uin    application/x-icq    .uls    text/iuls<br>.vcf    text/x-vcard    .vda    application/x-vda<br>.vdx    application/vnd.visio    .vml    text/xml<br>.vpg    application/x-vpeg005    .vsd    application/vnd.visio<br>.vsd    application/x-vsd    .vss    application/vnd.visio<br>.vst    application/vnd.visio    .vst    application/x-vst<br>.vsw    application/vnd.visio    .vsx    application/vnd.visio<br>.vtx    application/vnd.visio    .vxml    text/xml<br>.wav    audio/wav    .wax    audio/x-ms-wax<br>.wb1    application/x-wb1    .wb2    application/x-wb2<br>.wb3    application/x-wb3    .wbmp    image/vnd.wap.wbmp<br>.wiz    application/msword    .wk3    application/x-wk3<br>.wk4    application/x-wk4    .wkq    application/x-wkq<br>.wks    application/x-wks    .wm    video/x-ms-wm<br>.wma    audio/x-ms-wma    .wmd    application/x-ms-wmd<br>.wmf    application/x-wmf    .wml    text/vnd.wap.wml<br>.wmv    video/x-ms-wmv    .wmx    video/x-ms-wmx<br>.wmz    application/x-ms-wmz    .wp6    application/x-wp6<br>.wpd    application/x-wpd    .wpg    application/x-wpg<br>.wpl    application/vnd.ms-wpl    .wq1    application/x-wq1<br>.wr1    application/x-wr1    .wri    application/x-wri<br>.wrk    application/x-wrk    .ws    application/x-ws<br>.ws2    application/x-ws    .wsc    text/scriptlet<br>.wsdl    text/xml    .wvx    video/x-ms-wvx<br>.xdp    application/vnd.adobe.xdp    .xdr    text/xml<br>.xfd    application/vnd.adobe.xfd    .xfdf    application/vnd.adobe.xfdf<br>.xhtml    text/html    .xls    application/vnd.ms-excel<br>.xls    application/x-xls    .xlw    application/x-xlw<br>.xml    text/xml    .xpl    audio/scpls<br>.xq    text/xml    .xql    text/xml<br>.xquery    text/xml    .xsd    text/xml<br>.xsl    text/xml    .xslt    text/xml<br>.xwd    application/x-xwd    .x_b    application/x-x_b<br>.sis    application/vnd.symbian.install    .sisx    application/vnd.symbian.install<br>.x_t    application/x-x_t    .ipa    application/vnd.iphone<br>.apk    application/vnd.android.package-archive    .xap    application/x-silverlight-app</p>
<h3 id="二、Requests"><a href="#二、Requests" class="headerlink" title="二、Requests"></a>二、Requests</h3><p>Heade r    解释    示例<br>Accept    指定客户端能够接收的内容类型    Accept: text/plain, text/html<br>Accept-Charset    浏览器可以接受的字符编码集。    Accept-Charset: iso-8859-5<br>Accept-Encoding    指定浏览器可以支持的web服务器返回内容压缩编码类型。    Accept-Encoding: compress, gzip<br>Accept-Language    浏览器可接受的语言    Accept-Language: en,zh<br>Accept-Ranges    可以请求网页实体的一个或者多个子范围字段    Accept-Ranges: bytes<br>Authorization    HTTP授权的授权证书    Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==<br>Cache-Control    指定请求和响应遵循的缓存机制    Cache-Control: no-cache<br>Connection    表示是否需要持久连接。    （HTTP 1.1默认进行持久连接）<br>Cookie    HTTP请求发送时，会把保存在该请求域名下的所有cookie值一起发送给web服务器。    Cookie: $Version=1; Skin=new;<br>Content-Length    请求的内容长度    Content-Length: 348<br>Content-Type    请求的与实体对应的MIME信息    Content-Type: application/x-www-form-urlencoded<br>Date    请求发送的日期和时间    Date: Tue, 15 Nov 2010 08:12:31 GMT<br>Expect    请求的特定的服务器行为    Expect: 100-continue<br>From    发出请求的用户的Email    From: <a href="mailto:&#x75;&#x73;&#101;&#x72;&#64;&#101;&#109;&#97;&#x69;&#108;&#x2e;&#x63;&#x6f;&#x6d;">&#x75;&#x73;&#101;&#x72;&#64;&#101;&#109;&#97;&#x69;&#108;&#x2e;&#x63;&#x6f;&#x6d;</a><br>Host    指定请求的服务器的域名和端口号    Host: <a href="http://www.zcmhi.com/">www.zcmhi.com</a><br>If-Match    只有请求内容与实体相匹配才有效    If-Match: “737060cd8c284d8af7ad3082f209582d”<br>If-Modified-Since    如果请求的部分在指定时间之后被修改则请求成功，未被修改则返回304代码    If-Modified-Since: Sat, 29 Oct 2010 19:43:31 GMT<br>If-None-Match    如果内容未改变返回304代码，参数为服务器先前发送的Etag，与服务器回应的Etag比较判断是否改变    If-None-Match: “737060cd8c284d8af7ad3082f209582d”<br>If-Range    如果实体未改变，服务器发送客户端丢失的部分，否则发送整个实体。参数也为Etag    If-Range: “737060cd8c284d8af7ad3082f209582d”<br>If-Unmodified-Since    只在实体在指定时间之后未被修改才请求成功    If-Unmodified-Since: Sat, 29 Oct 2010 19:43:31 GMT<br>Max-Forwards    限制信息通过代理和网关传送的时间    Max-Forwards: 10<br>Pragma    用来包含实现特定的指令    Pragma: no-cache<br>Proxy-Authorization    连接到代理的授权证书    Proxy-Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==<br>Range    只请求实体的一部分，指定范围    Range: bytes=500-999<br>Referer    先前网页的地址，当前请求网页紧随其后,即来路    Referer: <a href="http://www.zcmhi.com/archives/71.html">http://www.zcmhi.com/archives/71.html</a><br>TE    客户端愿意接受的传输编码，并通知服务器接受接受尾加头信息    TE: trailers,deflate;q=0.5<br>Upgrade    向服务器指定某种传输协议以便服务器进行转换（如果支持）    Upgrade: HTTP/2.0, SHTTP/1.3, IRC/6.9, RTA/x11<br>User-Agent    User-Agent的内容包含发出请求的用户信息    User-Agent: Mozilla/5.0 (Linux; X11)<br>Via    通知中间网关或代理服务器地址，通信协议    Via: 1.0 fred, 1.1 nowhere.com (Apache/1.1)<br>Warning    关于消息实体的警告信息    Warn: 199 Miscellaneous warning</p>
<h3 id="三、Responses"><a href="#三、Responses" class="headerlink" title="三、Responses"></a>三、Responses</h3><p>Heade r    解释    示例<br>Accept-Ranges    表明服务器是否支持指定范围请求及哪种类型的分段请求    Accept-Ranges: bytes<br>Age    从原始服务器到代理缓存形成的估算时间（以秒计，非负）    Age: 12<br>Allow    对某网络资源的有效的请求行为，不允许则返回405    Allow: GET, HEAD<br>Cache-Control    告诉所有的缓存机制是否可以缓存及哪种类型    Cache-Control: no-cache<br>Content-Encoding    web服务器支持的返回内容压缩编码类型。    Content-Encoding: gzip<br>Content-Language    响应体的语言    Content-Language: en,zh<br>Content-Length    响应体的长度    Content-Length: 348<br>Content-Location    请求资源可替代的备用的另一地址    Content-Location: /index.htm<br>Content-MD5    返回资源的MD5校验值    Content-MD5: Q2hlY2sgSW50ZWdyaXR5IQ==<br>Content-Range    在整个返回体中本部分的字节位置    Content-Range: bytes 21010-47021/47022<br>Content-Type    返回内容的MIME类型    Content-Type: text/html; charset=utf-8<br>Date    原始服务器消息发出的时间    Date: Tue, 15 Nov 2010 08:12:31 GMT<br>ETag    请求变量的实体标签的当前值    ETag: “737060cd8c284d8af7ad3082f209582d”<br>Expires    响应过期的日期和时间    Expires: Thu, 01 Dec 2010 16:00:00 GMT<br>Last-Modified    请求资源的最后修改时间    Last-Modified: Tue, 15 Nov 2010 12:45:26 GMT<br>Location    用来重定向接收方到非请求URL的位置来完成请求或标识新的资源    Location: <a href="http://www.zcmhi.com/archives/94.html">http://www.zcmhi.com/archives/94.html</a><br>Pragma    包括实现特定的指令，它可应用到响应链上的任何接收方    Pragma: no-cache<br>Proxy-Authenticate    它指出认证方案和可应用到代理的该URL上的参数    Proxy-Authenticate: Basic<br>refresh    应用于重定向或一个新的资源被创造，在5秒之后重定向（由网景提出，被大部分浏览器支持）    Refresh: 5; url=<a href="http://www.zcmhi.com/archives/94.html">http://www.zcmhi.com/archives/94.html</a><br>Retry-After    如果实体暂时不可取，通知客户端在指定时间之后再次尝试    Retry-After: 120<br>Server    web服务器软件名称    Server: Apache/1.3.27 (Unix) (Red-Hat/Linux)<br>Set-Cookie    设置Http Cookie    Set-Cookie: UserID=JohnDoe; Max-Age=3600; Version=1<br>Trailer    指出头域在分块传输编码的尾部存在    Trailer: Max-Forwards<br>Transfer-Encoding    文件传输编码    Transfer-Encoding:chunked<br>Vary    告诉下游代理是使用缓存响应还是从原始服务器请求    Vary: *<br>Via    告知代理客户端响应是通过哪里发送的    Via: 1.0 fred, 1.1 nowhere.com (Apache/1.1)<br>Warning    警告实体可能存在的问题    Warning: 199 Miscellaneous warning<br>WWW-Authenticate    表明客户端请求实体应该使用的授权方案    WWW-Authenticate: Basic</p>
]]></content>
  </entry>
  <entry>
    <title>json</title>
    <url>/2022/03/08/java/java%E7%BB%84%E4%BB%B6/json/</url>
    <content><![CDATA[<h2 id="一、Alibaba-FastJson"><a href="#一、Alibaba-FastJson" class="headerlink" title="一、Alibaba FastJson"></a>一、Alibaba FastJson</h2><p>FastJson的使用基于getter,setter和NoArgsConstructor，配置基于Filed 。</p>
<ol>
<li><p>基本用法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String jsonObject = JSON.toJSONString(person);</span><br><span class="line">Person newPerson = JSON.parseObject(jsonObject, Person.class);</span><br></pre></td></tr></table></figure></li>
<li><p>依赖</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.78<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="1-转换-–将-Java-对象转换为-JSON-格式"><a href="#1-转换-–将-Java-对象转换为-JSON-格式" class="headerlink" title="1. 转换 –将 Java 对象转换为 JSON 格式"></a>1. 转换 –将 Java 对象转换为 JSON 格式</h3><ol>
<li><p>类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;  </span><br><span class="line">    <span class="meta">@JSONField(name = &quot;AGE&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="meta">@JSONField(serialize=false， deserialize=false)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Date dateOfBirth;</span><br><span class="line">    <span class="meta">@JSONField(name=&quot;DATE OF BIRTH&quot;, format=&quot;dd/MM/yyyy&quot;, ordinal = 1)</span></span><br><span class="line">	<span class="keyword">private</span> Date dateOfBirth;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>说明</p>
<ul>
<li>name:  别名</li>
<li>format: 指定时间格式</li>
<li>ordinal: 指定json中的位置</li>
<li>serialize: 序列化</li>
<li>deserialize: 反序列化</li>
</ul>
</li>
<li><p>转换</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String jsonOutput= JSON.toJSONString(personList);</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="2-创建"><a href="#2-创建" class="headerlink" title="2. 创建"></a>2. 创建</h3><ol>
<li><p>创建代码</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">JSONObject jsonObject = <span class="keyword">new</span> JSONObject();</span><br><span class="line">jsonObject.put(<span class="string">&quot;text&quot;</span>, data.getTitle() + data.getRawText());</span><br><span class="line">jsonObject.toString()</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="3-解析"><a href="#3-解析" class="headerlink" title="3. 解析"></a>3. 解析</h3><ol>
<li><p>基于string</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">A a = JSON.parseObject(AString, A.class);</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>时间组件</title>
    <url>/2022/03/08/java/java%E7%BB%84%E4%BB%B6/%E6%97%B6%E9%97%B4%E7%B1%BB/</url>
    <content><![CDATA[<h3 id="自定义"><a href="#自定义" class="headerlink" title="自定义"></a>自定义</h3><ol>
<li><p>sql—util转换</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">java.sql.Date sqlDate = <span class="keyword">new</span> java.sql.Date(utilDate.getTime());</span><br><span class="line">Date date = <span class="keyword">new</span> Date(sqlDate.getTime());<span class="comment">//sql.Date转util.Date        </span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h3><ol>
<li><p>joda</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>joda-time<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>joda-time<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>主要获取当前时间 好看字符串</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">DateTime dt = <span class="keyword">new</span> DateTime();</span><br><span class="line">DateTime dt1 = DateTime.now();<span class="comment">//2021-10-21T13:59:41.040+08:00</span></span><br><span class="line">DateTime dt2 = <span class="keyword">new</span> DateTime(<span class="keyword">new</span> Date());<span class="comment">//2021-10-21T13:59:41.132+08:00</span></span><br><span class="line"><span class="comment">// 指定年月日点分秒生成(参数依次是：年,月,日,时,分,秒,毫秒)</span></span><br><span class="line">DateTime dt3 = <span class="keyword">new</span> DateTime(<span class="number">2012</span>, <span class="number">5</span>, <span class="number">20</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">0</span>, <span class="number">0</span>);        <span class="comment">// 制定ISO8601生成</span></span><br><span class="line">DateTime dt4 = <span class="keyword">new</span> DateTime(<span class="string">&quot;2014-08-01T12:32:3&quot;</span>);</span><br><span class="line">DateTime dt5 = <span class="keyword">new</span> DateTime(<span class="string">&quot;2014-08-01&quot;</span>);</span><br><span class="line">DateTime dt6 = <span class="keyword">new</span> DateTime(Calendar.getInstance())</span><br></pre></td></tr></table></figure>

<span id="more"></span></li>
<li><p>转换  插入数据库</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Date date = <span class="keyword">new</span> Date(<span class="keyword">new</span> DateTime().toDate().getTime());</span><br></pre></td></tr></table></figure></li>
<li></li>
</ol>
]]></content>
      <categories>
        <category>javautils</category>
      </categories>
  </entry>
  <entry>
    <title>java网络请求</title>
    <url>/2022/03/08/java/java%E7%BB%84%E4%BB%B6/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/</url>
    <content><![CDATA[<h3 id="org-apache-httpcomponents"><a href="#org-apache-httpcomponents" class="headerlink" title="org.apache.httpcomponents"></a>org.apache.httpcomponents</h3><ol>
<li><p>依赖</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;<span class="number">4.5</span><span class="number">.13</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>get请求</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">sendGet</span><span class="params">(String url, Map&lt;String, String&gt; params)</span> </span>&#123;</span><br><span class="line">       CloseableHttpClient client = HttpClients.createDefault();</span><br><span class="line">       HttpGet httpGet = <span class="keyword">new</span> HttpGet(url);</span><br><span class="line">       CloseableHttpResponse response = client.execute(httpGet);</span><br><span class="line">       InputStream respInputStream = response.getEntity().getContent();</span><br><span class="line">       response.close();</span><br><span class="line">       <span class="keyword">return</span> respInputStream;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>post请求</p>
<span id="more"></span>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">send</span><span class="params">(String url, String jsonObject, String encoding)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//创建httpclient对象</span></span><br><span class="line">    CloseableHttpClient client = HttpClients.createDefault();</span><br><span class="line">    <span class="comment">//创建post方式请求对象</span></span><br><span class="line">    HttpPost httpPost = <span class="keyword">new</span> HttpPost(url);</span><br><span class="line">    <span class="comment">//装填参数</span></span><br><span class="line">    StringEntity postBody = <span class="keyword">new</span> StringEntity(<span class="string">&quot;[&quot;</span> + jsonObject.toString() + <span class="string">&quot;]&quot;</span>, <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">    postBody.setContentType(<span class="keyword">new</span> BasicHeader(HTTP.CONTENT_TYPE,</span><br><span class="line">                                            <span class="string">&quot;application/json;charset=utf-8&quot;</span>));</span><br><span class="line">    <span class="comment">//设置参数到请求对象中</span></span><br><span class="line">    httpPost.setEntity(postBody);</span><br><span class="line">    <span class="comment">//        System.out.println(&quot;请求参数：&quot;+nvps.toString());</span></span><br><span class="line">    <span class="comment">//设置header信息</span></span><br><span class="line">    <span class="comment">//指定报文头【Content-type】、【User-Agent】</span></span><br><span class="line">    <span class="comment">//        httpPost.setHeader(&quot;Content-type&quot;, &quot;application/x-www-form-urlencoded&quot;);</span></span><br><span class="line">    httpPost.setHeader(<span class="string">&quot;Content-type&quot;</span>, <span class="string">&quot;application/json;charset=utf-8&quot;</span>);</span><br><span class="line">    <span class="comment">//执行请求操作，并拿到结果（同步阻塞）</span></span><br><span class="line">    CloseableHttpResponse response = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">boolean</span> flag = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">while</span> (flag) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            response = client.execute(httpPost);</span><br><span class="line">            flag = <span class="keyword">false</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClientProtocolException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            System.out.println(<span class="string">&quot;请求API出错&quot;</span>);</span><br><span class="line">            flag = <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            System.out.println(<span class="string">&quot;请求API出错&quot;</span>);</span><br><span class="line">            flag = <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//获取结果实体</span></span><br><span class="line">    HttpEntity entity = response.getEntity();</span><br><span class="line">    <span class="comment">//按指定编码转换结果实体为String类型</span></span><br><span class="line">    String body = entity == <span class="keyword">null</span> ? <span class="string">&quot;&quot;</span> : EntityUtils.toString(entity, encoding);</span><br><span class="line">    EntityUtils.consume(entity);</span><br><span class="line">    <span class="comment">//释放链接</span></span><br><span class="line">    response.close();</span><br><span class="line">    <span class="keyword">return</span> body;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>SPI机制</title>
    <url>/2022/03/08/java/java%E8%AE%BE%E8%AE%A1/SPI%E6%9C%BA%E5%88%B6/</url>
    <content><![CDATA[<h2 id="一、SPI-Jdbc"><a href="#一、SPI-Jdbc" class="headerlink" title="一、SPI-Jdbc"></a>一、SPI-Jdbc</h2><p><a href="https://www.jianshu.com/p/51b0cf78210f">参考-JavaSPI</a></p>
<p><a href="https://www.jianshu.com/p/97c01234ba79">参考-SpringSPI</a></p>
<p><a href="https://www.jianshu.com/p/3a3edbcd8f24">参考-jdbcSPI</a></p>
<blockquote>
<p>SPI , Service Provider Interface，是一种服务发现机制。它通过在ClassPath路径下的META-INF/services文件夹查找文件，自动加载文件里所定义的类</p>
</blockquote>
<h3 id="1-1-JDBC的class-foname"><a href="#1-1-JDBC的class-foname" class="headerlink" title="1.1 JDBC的class.foname"></a>1.1 JDBC的class.foname</h3><ol>
<li><p>jdbc执行Class.forName(‘com.mysql.cj.jdbc.Driver’)是加载Driver的意思</p>
<p>但是再Driver这个类有个静态代码块（再类信息第一次加载到内存的时候会运行一次）</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> &#123; </span><br><span class="line">	DriverManager.registerDriver(<span class="keyword">new</span> Driver());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="comment">//registerDriver会根据一系列过程把driver加进来</span></span><br><span class="line">Object[] newElements = Arrays.copyOf(current, len + <span class="number">1</span>);</span><br><span class="line">newElements[len] = e;<span class="comment">//就是driver</span></span><br><span class="line">setArray(newElements);</span><br></pre></td></tr></table></figure></li>
<li><p>DriverManager.getConnection(url,info)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(DriverInfo aDriver : registeredDrivers) &#123;</span><br><span class="line">    Connection con = aDriver.driver.connect(url, info);</span><br><span class="line">    <span class="keyword">if</span> (con != <span class="keyword">null</span>) </span><br><span class="line">        <span class="keyword">return</span> (con);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="1-2-JDBC加入SPI机制之后"><a href="#1-2-JDBC加入SPI机制之后" class="headerlink" title="1.2 JDBC加入SPI机制之后"></a>1.2 JDBC加入SPI机制之后</h3><ol>
<li><p>DriverManager的static代码块 </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> &#123;</span><br><span class="line">    loadInitialDrivers();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">loadInitialDrivers</span> <span class="params">()</span></span>&#123;</span><br><span class="line">     AccessController.doPrivileged(<span class="keyword">new</span> PrivilegedAction&lt;Void&gt;() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> Void <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                ServiceLoader&lt;Driver&gt; loadedDrivers = ServiceLoader.load(Driver.class);</span><br><span class="line">                Iterator&lt;Driver&gt; driversIterator = loadedDrivers.iterator();</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="二、我对spi的解读"><a href="#二、我对spi的解读" class="headerlink" title="二、我对spi的解读"></a>二、我对spi的解读</h2><h3 id="2-1-先决条件"><a href="#2-1-先决条件" class="headerlink" title="2.1 先决条件"></a>2.1 先决条件</h3><h4 id="2-1-1-类接口与类实现"><a href="#2-1-1-类接口与类实现" class="headerlink" title="2.1.1 类接口与类实现"></a>2.1.1 类接口与类实现</h4><blockquote>
<p>面向接口编程，Java标准库提供接口，研发者提供实现</p>
</blockquote>
<ol>
<li><p>Java官方的接口</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Driver</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>我的实现</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wyg.service.abc;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyDriverImpl</span> <span class="keyword">implements</span> <span class="title">Driver</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="2-1-2-文件结构"><a href="#2-1-2-文件结构" class="headerlink" title="2.1.2 文件结构"></a>2.1.2 文件结构</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">META-INF</span><br><span class="line">--services</span><br><span class="line">-----com.wyg.service.abc.MyDriverImpl</span><br></pre></td></tr></table></figure>



<h3 id="2-2-关键代码"><a href="#2-2-关键代码" class="headerlink" title="2.2 关键代码"></a>2.2 关键代码</h3><h4 id="2-2-1-构造函数"><a href="#2-2-1-构造函数" class="headerlink" title="2.2.1 构造函数"></a>2.2.1 构造函数</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String PREFIX = <span class="string">&quot;META-INF/services/&quot;</span>;</span><br><span class="line"><span class="keyword">private</span> LinkedHashMap&lt;String,S&gt; providers = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">ServiceLoader</span><span class="params">(Class&lt;S&gt; svc, ClassLoader cl)</span> </span>&#123;</span><br><span class="line">      service = Objects.requireNonNull(svc, <span class="string">&quot;Service interface cannot be null&quot;</span>);</span><br><span class="line">      loader = (cl == <span class="keyword">null</span>) ? ClassLoader.getSystemClassLoader() : cl;</span><br><span class="line">      acc = (System.getSecurityManager() != <span class="keyword">null</span>) ? AccessController.getContext() : <span class="keyword">null</span>;</span><br><span class="line">      reload();</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-2-2-找到所有的全限定类名"><a href="#2-2-2-找到所有的全限定类名" class="headerlink" title="2.2.2 找到所有的全限定类名"></a>2.2.2 找到所有的全限定类名</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String fullName = PREFIX + service.getName();</span><br><span class="line">configs = ClassLoader.getSystemResources(fullName);</span><br><span class="line">Class  pending = parse(service, configs.nextElement());</span><br></pre></td></tr></table></figure>

<h4 id="2-2-3-加载类并实例化"><a href="#2-2-3-加载类并实例化" class="headerlink" title="2.2.3 加载类并实例化"></a>2.2.3 加载类并实例化</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">c = Class.forName(cn, <span class="keyword">false</span>, loader);</span><br><span class="line">S p = service.cast(c.newInstance());</span><br><span class="line">providers.put(cn, p)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>java高级</category>
      </categories>
  </entry>
  <entry>
    <title>java懒加载</title>
    <url>/2022/03/08/java/java%E8%AE%BE%E8%AE%A1/java%E6%87%92%E5%8A%A0%E8%BD%BD/</url>
    <content><![CDATA[<ol>
<li><p>[参考](<a href="https://zhuanlan.zhihu.com/p/428095023?utm_source=qq&utm_medium=social&utm_oi=1044004825763094528">函数式编程的Java编码实践：利用惰性写出高性能且抽象的代码 - 知乎 (zhihu.com)</a>)</p>
</li>
<li><p>懒加载的例子</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Supplier&lt; Integer&gt; a = () -&gt; <span class="number">10</span> + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> b = a.get() + <span class="number">1</span>;<span class="comment">//创建b的时候才会运算a</span></span><br></pre></td></tr></table></figure>

<span id="more"></span></li>
<li><p>一次计算永久保存的懒加载</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 为了方便与标准的 Java 函数式接口交互，Lazy 也实现了 Supplier</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Lazy</span>&lt; <span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Supplier</span>&lt; <span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Supplier&lt; ? extends T&gt; supplier;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 利用 value 属性缓存 supplier 计算后的值</span></span><br><span class="line">    <span class="keyword">private</span> T value;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Lazy</span><span class="params">(Supplier&lt; ? extends T&gt; supplier)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.supplier = supplier;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt; T&gt; Lazy&lt; T&gt; of(Supplier&lt; ? extends T&gt; supplier) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Lazy&lt; &gt;(supplier);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">get</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (value == <span class="keyword">null</span>) &#123;</span><br><span class="line">            T newValue = supplier.get();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (newValue == <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(<span class="string">&quot;Lazy value can not be null!&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            value = newValue;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用</span></span><br><span class="line">Lazy&lt; Integer&gt; a = Lazy.of(() -&gt; <span class="number">10</span> + <span class="number">1</span>);</span><br><span class="line"><span class="keyword">int</span> b = a.get() + <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<!--more--></li>
<li><p>双重依赖型的懒加载：函子</p>
</li>
<li><p>函子(Functor) 或者叫mapper 或者叫映射</p>
<ol>
<li><p>定义</p>
<p>函子运算可以将一个 T 映射到 S 的 function 应用到 Box&lt; T&gt; 上，让其成为 Box&lt; S&gt;</p>
</li>
<li><p>函数</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> &lt; S&gt; Lazy&lt; S&gt; map(Function&lt; ? <span class="keyword">super</span> T, ? extends S&gt; function) &#123;</span><br><span class="line">	<span class="keyword">return</span> Lazy.of(() -&gt; function.apply(get()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>调用</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Lazy&lt; Lazy&lt; Set&lt; String&gt;&gt;&gt; permissions = departmentLazy.map(department -&gt;</span><br><span class="line">         supervisorLazy.map(supervisor -&gt; getPermissions(department, supervisor))</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>解决多层菱形运算符的懒加载：单子</p>
</li>
<li><p>单子：flatMap</p>
<ol>
<li><p>函数</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> &lt; S&gt; Lazy&lt; S&gt; flatMap(Function&lt; ? <span class="keyword">super</span> T, Lazy&lt; ? extends S&gt;&gt; function) &#123;</span><br><span class="line">        <span class="keyword">return</span> Lazy.of(() -&gt; function.apply(get()).get());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>调用</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Lazy&lt; Set&lt; String&gt;&gt; permissions = departmentLazy.flatMap(department -&gt;</span><br><span class="line">         supervisorLazy.map(supervisor -&gt; getPermissions(department, supervisor))</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>java设计</category>
      </categories>
  </entry>
  <entry>
    <title>java技巧</title>
    <url>/2022/03/08/java/java%E8%AE%BE%E8%AE%A1/%E7%A5%9E%E6%8A%80/</url>
    <content><![CDATA[<ol>
<li><p>多返回之问题</p>
<ol>
<li><p>返回Object[]</p>
</li>
<li><p>返回自定义类</p>
</li>
<li><p>定义一个static变量，返回值反映到这个变量上</p>
<span id="more"></span></li>
</ol>
</li>
<li><p>正则方案</p>
<ol>
<li><p>匹配序号方案</p>
<blockquote>
<p>​    这个序号为上个序号的</p>
<p>​    这种不用正则，手动处理也行</p>
</blockquote>
</li>
<li><p>多层过滤器方案</p>
<blockquote>
<p>​    先把符合条件1的筛选出来，然后把bad放入到另一个文件，在同一个Pattern过滤bad文件，依次过滤。</p>
</blockquote>
</li>
<li><p>去掉换行方案</p>
<blockquote>
<p>​    读取文件把换行去掉，这样不用写复杂的Re</p>
<p>​    优化方案是把换行换成&lt;n&gt;做标记（完美的去掉了换行，右保留了换行的特点）</p>
</blockquote>
</li>
</ol>
</li>
<li><p>StringBuffer为啥比String快</p>
</li>
</ol>
<h3 id="神奇的代码"><a href="#神奇的代码" class="headerlink" title="神奇的代码"></a>神奇的代码</h3><h4 id="关于内部类"><a href="#关于内部类" class="headerlink" title="关于内部类"></a>关于内部类</h4><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="comment">//外部类属性</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="module-access"><span class="module"><span class="identifier">Outer</span>.</span></span>this.age);</span><br><span class="line"><span class="comment">//创建内部类</span></span><br><span class="line">SSS.Inner a=<span class="keyword">new</span> <span class="constructor">SSS()</span>.<span class="keyword">new</span> <span class="constructor">Inner()</span>;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>java简化代码</title>
    <url>/2022/03/08/java/java%E8%AE%BE%E8%AE%A1/%E7%AE%80%E5%8C%96%E4%BB%A3%E7%A0%81/</url>
    <content><![CDATA[<h3 id="一、String"><a href="#一、String" class="headerlink" title="一、String"></a>一、String</h3><ol>
<li><p>忽略大小写equal</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">name.equalsIgnoreCase(name2)</span><br></pre></td></tr></table></figure></li>
<li></li>
</ol>
<h3 id="二、Stream"><a href="#二、Stream" class="headerlink" title="二、Stream"></a>二、Stream</h3><ol>
<li><p>List分割聚合</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String str = list.stream().collect(Collectors.joining(<span class="string">&quot;,&quot;</span>));</span><br><span class="line">String str = String.join(<span class="string">&quot;,&quot;</span>,list);</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="三、Object"><a href="#三、Object" class="headerlink" title="三、Object"></a>三、Object</h3><ol>
<li><p>判等</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Objects</span>.equal(o<span class="number">1</span>,o<span class="number">2</span>);</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="四、Map"><a href="#四、Map" class="headerlink" title="四、Map"></a>四、Map</h3>]]></content>
  </entry>
  <entry>
    <title>java设计约定</title>
    <url>/2022/03/08/java/java%E8%AE%BE%E8%AE%A1/%E7%BA%A6%E5%AE%9A/</url>
    <content><![CDATA[<h3 id="log等级"><a href="#log等级" class="headerlink" title="log等级"></a>log等级</h3><h3 id="debug风格"><a href="#debug风格" class="headerlink" title="debug风格"></a>debug风格</h3><ol>
<li>debug等级<ol>
<li>通过value.properties获取debug等级</li>
</ol>
</li>
</ol>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><ol>
<li>Constant<ol>
<li>临时变量用’_’</li>
<li>常量 小驼峰</li>
<li></li>
</ol>
</li>
<li>枚举 小驼峰</li>
<li></li>
</ol>
<span id="more"></span>]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>设计模式</title>
    <url>/2022/03/08/java/java%E8%AE%BE%E8%AE%A1/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</url>
    <content><![CDATA[<h3 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h3><ul>
<li>单例类只能有一个实例。</li>
<li>单例类必须自己创建自己的唯一实例。</li>
<li>单例类必须给所有其他对象提供这一实例。</li>
</ul>
<span id="more"></span>

<p>实例：</p>
<p>​    Windows 是多进程多线程的，在操作一个文件的时候，就不可避免地出现多个进程或线程同时操作一个文件的现象，所以所有文件的处理必须通过唯一的实例来进行。</p>
<p>特点：</p>
<ol>
<li>私有构造器。</li>
<li>占用内存低（懒汉式）（饿汉式直接创建可能浪费内存）懒汉式线程不安全，但是加锁后可以避免（双重检测锁，voliate）。</li>
<li>但是强大，霸道的反射依然会造成线程不安全。三重检测。（）</li>
</ol>
]]></content>
      <categories>
        <category>java高阶</category>
      </categories>
  </entry>
  <entry>
    <title>Error和Exception</title>
    <url>/2022/03/08/java/java%E9%AB%98%E7%BA%A7/Error%E5%92%8CException/</url>
    <content><![CDATA[<h3 id="一、异常体系"><a href="#一、异常体系" class="headerlink" title="一、异常体系"></a>一、异常体系</h3><p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20220124210601006.png" alt="image-20220124210601006"></p>
<h3 id="二、异常关键字"><a href="#二、异常关键字" class="headerlink" title="二、异常关键字"></a>二、异常关键字</h3><ol>
<li>try、catch、finally都不能单独使用</li>
<li>组合：try-catch、try-finally、try-catch-finally。</li>
</ol>
<h3 id="三、区分"><a href="#三、区分" class="headerlink" title="三、区分"></a>三、区分</h3><h4 id="3-1-Error和RuntimeException"><a href="#3-1-Error和RuntimeException" class="headerlink" title="3.1 Error和RuntimeException"></a>3.1 Error和RuntimeException</h4><ol>
<li>两者很像，都可以选择性catch或者throw</li>
<li>不catch都会导致线程直接结束</li>
<li>Error是系统级别的错误，不建议catch，更不建议自己创建一个Error子类。一般都和JVM有关</li>
<li>RE是代码层面，算是一个简单的Bug(某种情况没考虑到)，可以通过简单处理解决的。</li>
</ol>
<h3 id="3-2-强制性异常"><a href="#3-2-强制性异常" class="headerlink" title="3.2 强制性异常"></a>3.2 强制性异常</h3><p>Java的Exception除了RuntimeException外都是<strong>强制性异常</strong>，</p>
<ol>
<li>强制性异常：必须catch或throws</li>
<li>非强制性异常：选择性catch、throws</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/java/java%E9%AB%98%E7%BA%A7/JavaNPE%E9%97%AE%E9%A2%98%20nopointExpection/</url>
    <content><![CDATA[<h3 id="NPE问题-nopointExpection"><a href="#NPE问题-nopointExpection" class="headerlink" title="NPE问题 nopointExpection"></a>NPE问题 nopointExpection</h3><ol>
<li>Opthional java8</li>
<li>属性用包装类型   阿里巴巴</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>NIO</title>
    <url>/2022/03/08/java/java%E9%AB%98%E7%BA%A7/NIO/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、IO概述"><a href="#一、IO概述" class="headerlink" title="一、IO概述"></a>一、IO概述</h2><ol>
<li>同步阻塞IO-面向流-BIO<ol>
<li>一个请求连接一个线程，</li>
<li>问题：需要创建很多的线程，所有的线程还是同步的</li>
<li>解决：线程池，但是线程池数量有上限</li>
<li>适合请求少的场景，程序简单</li>
</ol>
</li>
<li>同步非阻塞IO-多路复用器-NIO<ol>
<li>一个线程可以处理多个请求</li>
<li>selector 选择器(复用器)</li>
<li>适合请求多，请求时间短：聊天，弹幕</li>
</ol>
</li>
<li>异步非阻塞IO–AIO(NIO2.0)<ol>
<li>一个请求一个线程</li>
<li>适合请求较多，且请求时间长场景</li>
</ol>
</li>
</ol>
<h2 id="二、BIO"><a href="#二、BIO" class="headerlink" title="二、BIO"></a>二、BIO</h2><ol>
<li>java.io</li>
</ol>
<h3 id="2-1-一对一"><a href="#2-1-一对一" class="headerlink" title="2.1 一对一"></a>2.1 一对一</h3><blockquote>
<p>服务端只有一个线程，只能处理唯一一个请求</p>
</blockquote>
<h4 id="2-1-1-服务端"><a href="#2-1-1-服务端" class="headerlink" title="2.1.1 服务端"></a>2.1.1 服务端</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ServerSocket serverSocket=<span class="keyword">new</span> ServerSocket(<span class="number">8888</span>);</span><br><span class="line"><span class="comment">//开启监听</span></span><br><span class="line">Socket accept = serverSocket.accept();</span><br><span class="line"><span class="comment">//从socket获得流</span></span><br><span class="line">InputStream inputStream = accept.getInputStream();</span><br><span class="line"><span class="comment">//包装缓冲区</span></span><br><span class="line">String msg= FileUtil.readFile(inputStream);</span><br><span class="line">System.out.println(msg);</span><br></pre></td></tr></table></figure>

<h4 id="2-1-2-客户端"><a href="#2-1-2-客户端" class="headerlink" title="2.1.2 客户端"></a>2.1.2 客户端</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Socket socket=<span class="keyword">new</span> Socket(<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">8888</span>);</span><br><span class="line"><span class="comment">//获得输出流</span></span><br><span class="line">OutputStream outputStream = socket.getOutputStream();</span><br><span class="line">PrintWriter printWriter=<span class="keyword">new</span> PrintWriter(outputStream);</span><br><span class="line">Scanner scanner=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">    System.out.print(<span class="string">&quot;发送:&quot;</span>);</span><br><span class="line">    String s = scanner.nextLine();</span><br><span class="line">    <span class="keyword">if</span>(s.equals(<span class="string">&quot;-1&quot;</span>))</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    printWriter.println(s);</span><br><span class="line">    printWriter.flush();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-多对多"><a href="#2-2-多对多" class="headerlink" title="2.2 多对多"></a>2.2 多对多</h3><blockquote>
<p>每个请求创建一个线程去处理请求</p>
</blockquote>
<h4 id="2-2-1-服务端"><a href="#2-2-1-服务端" class="headerlink" title="2.2.1 服务端"></a>2.2.1 服务端</h4><h4 id="2-2-2-客户端"><a href="#2-2-2-客户端" class="headerlink" title="2.2.2 客户端"></a>2.2.2 客户端</h4><h4 id="2-2-3-缺陷"><a href="#2-2-3-缺陷" class="headerlink" title="2.2.3 缺陷"></a>2.2.3 缺陷</h4><ol>
<li>每个请求都创建线程，线程的切换、竞争会浪费资源</li>
<li>线程本身也占用cpu资源</li>
<li>并不是每个请求线程</li>
</ol>
<h3 id="2-3-伪异步"><a href="#2-3-伪异步" class="headerlink" title="2.3 伪异步"></a>2.3 伪异步</h3><ul>
<li>优：创建线程池，能避免创建线程的资源消耗问题</li>
<li>缺：底层还是阻塞的，如果请求处理较慢，那么新的请求就会长时间的再请求队列中，产生大量超时</li>
<li>适应：小批量，请求处理快速的场景</li>
</ul>
<h3 id="BIO总结"><a href="#BIO总结" class="headerlink" title="BIO总结"></a>BIO总结</h3><ol>
<li><p>发送</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">dataOutputStream.flush();</span><br></pre></td></tr></table></figure></li>
<li><p>发送结束声明</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">socket.shutdownOutput();</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="三、NIO"><a href="#三、NIO" class="headerlink" title="三、NIO"></a>三、NIO</h2><h3 id="3-1-NIO概述"><a href="#3-1-NIO概述" class="headerlink" title="3.1 NIO概述"></a>3.1 NIO概述</h3><h4 id="3-1-1-基本概念"><a href="#3-1-1-基本概念" class="headerlink" title="3.1.1 基本概念"></a>3.1.1 基本概念</h4><ol>
<li>since JDK1.4</li>
<li>基于通道的非阻塞IO，IO复用</li>
<li>支持面向缓冲区</li>
</ol>
<h4 id="3-1-2-三大核心组件"><a href="#3-1-2-三大核心组件" class="headerlink" title="3.1.2 三大核心组件"></a>3.1.2 三大核心组件</h4><ol>
<li>Channel 通道</li>
<li>Buffer 缓冲区</li>
<li>Selector 选择器(多路复用器)<ol>
<li>轮询每个通道</li>
</ol>
</li>
</ol>
<h4 id="3-1-3-非阻塞模式"><a href="#3-1-3-非阻塞模式" class="headerlink" title="3.1.3 非阻塞模式"></a>3.1.3 非阻塞模式</h4><p>一个线程可以同时处理很多请求，基于监听器</p>
<h4 id="3-1-4-NIO模型图"><a href="#3-1-4-NIO模型图" class="headerlink" title="3.1.4 NIO模型图"></a>3.1.4 NIO模型图</h4><p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211207225509511.png" alt="image-20211207225509511"></p>
<h4 id="3-1-5-NIO-vs-BIO"><a href="#3-1-5-NIO-vs-BIO" class="headerlink" title="3.1.5 NIO  vs  BIO"></a>3.1.5 NIO  vs  BIO</h4><table>
<thead>
<tr>
<th>BIO</th>
<th>NIO</th>
</tr>
</thead>
<tbody><tr>
<td>数据流(字节，字符)</td>
<td>数据块(缓冲区，通道)</td>
</tr>
<tr>
<td>流：单向</td>
<td>通道：双向</td>
</tr>
<tr>
<td>阻塞</td>
<td>非阻塞</td>
</tr>
<tr>
<td>一个请求需要一个线程</td>
<td>一个线程处理处理多个请求(选择器监听)</td>
</tr>
</tbody></table>
<h3 id="3-2-Buffer"><a href="#3-2-Buffer" class="headerlink" title="3.2 Buffer"></a>3.2 Buffer</h3><h4 id="3-2-2-Buffer属性"><a href="#3-2-2-Buffer属性" class="headerlink" title="3.2.2 Buffer属性"></a>3.2.2 Buffer属性</h4><ol>
<li>容量：数组大小,不可更改<ol>
<li>通过allocate分配</li>
</ol>
</li>
<li>限制：可操作的最后位置<ol>
<li>读：表示有数据的最后位置</li>
<li>写：表示容量</li>
</ol>
</li>
<li>位置：写入、读取的当前位置索引<ol>
<li>标记：mark该位置</li>
<li>重置：重置到mark位置</li>
</ol>
</li>
</ol>
<h4 id="3-2-3-Buffer-Api"><a href="#3-2-3-Buffer-Api" class="headerlink" title="3.2.3 Buffer Api"></a>3.2.3 Buffer Api</h4><ol>
<li>clear 清空缓存区</li>
<li>flip：转换成可读模式</li>
<li>Remaining：获得缓冲区长度</li>
<li>hasRemaining：是否有数据</li>
<li>rewind：将位置置0清除mark</li>
</ol>
<h4 id="3-2-4-缓冲区分类"><a href="#3-2-4-缓冲区分类" class="headerlink" title="3.2.4 缓冲区分类"></a>3.2.4 缓冲区分类</h4><h5 id="3-2-4-1-直接缓冲区"><a href="#3-2-4-1-直接缓冲区" class="headerlink" title="3.2.4.1 直接缓冲区"></a>3.2.4.1 直接缓冲区</h5><blockquote>
<p>写入到直接内存，高并发场景</p>
</blockquote>
<h5 id="3-2-4-2-非直接缓冲区"><a href="#3-2-4-2-非直接缓冲区" class="headerlink" title="3.2.4.2 非直接缓冲区"></a>3.2.4.2 非直接缓冲区</h5><blockquote>
<p>写入堆内存</p>
</blockquote>
<h3 id="3-3-Channel"><a href="#3-3-Channel" class="headerlink" title="3.3 Channel"></a>3.3 Channel</h3><h4 id="3-3-1-特点"><a href="#3-3-1-特点" class="headerlink" title="3.3.1 特点"></a>3.3.1 特点</h4><ol>
<li>双向的</li>
<li>不能直接数据交互，需借助buffer</li>
<li>异步读写</li>
</ol>
<h4 id="3-3-2-Channel实现"><a href="#3-3-2-Channel实现" class="headerlink" title="3.3.2 Channel实现"></a>3.3.2 Channel实现</h4><ol>
<li>FileChannel 文件</li>
<li>DatagramChannel  UDP</li>
<li>SocketChannel  TCP</li>
<li>ServerSockeChannel  监听Web的TCP连接，每一个连接创建一个Channel</li>
</ol>
<h3 id="3-4-Selector"><a href="#3-4-Selector" class="headerlink" title="3.4 Selector"></a>3.4 Selector</h3><h4 id="3-4-1-工作方式"><a href="#3-4-1-工作方式" class="headerlink" title="3.4.1 工作方式"></a>3.4.1 工作方式</h4><blockquote>
<p>多个 Channel 以事件的方式可以注册到同一个Selector，如果有事件发生，便获取事件然后针对每个事件进行相应的处理。这样就可以只用一个单线程去管理多个通道，也就是管理多个连接和请求。避免了多线程之间的上下文切换导致的开销</p>
</blockquote>
<h4 id="3-4-2-选择器作用"><a href="#3-4-2-选择器作用" class="headerlink" title="3.4.2 选择器作用"></a>3.4.2 选择器作用</h4><ol>
<li>轮询Channel选出可用的Channel</li>
</ol>
<h3 id="3-5-Reactor模式"><a href="#3-5-Reactor模式" class="headerlink" title="3.5 Reactor模式"></a>3.5 Reactor模式</h3><ol>
<li><a href="https://zhuanlan.zhihu.com/p/93612337">参考</a></li>
</ol>
]]></content>
      <categories>
        <category>java高级</category>
      </categories>
  </entry>
  <entry>
    <title>动态代理</title>
    <url>/2022/03/08/java/java%E9%AB%98%E7%BA%A7/java%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/</url>
    <content><![CDATA[<h3 id="动态代理"><a href="#动态代理" class="headerlink" title="动态代理"></a>动态代理</h3><blockquote>
<p>对每个接口方法的增强，而不是对所有类方法的增强</p>
</blockquote>
<ol>
<li><p>方式1 jdk.InvocationHandler</p>
<ol>
<li><p>步骤</p>
<ol>
<li><p>被代理对象A1  实现接口A的两个方法(m1,m2)</p>
</li>
<li><p>创建一个handler实现InvocationHandler接口</p>
</li>
<li><p>重写handler的invoke方法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">doDate()</span><br><span class="line">invoke(tar,args)==doSime()</span><br><span class="line">doLog()</span><br></pre></td></tr></table></figure></li>
<li><p>实现代理jdk.Proxy</p>
</li>
</ol>
<span id="more"></span></li>
<li><p>要求： 必须接口</p>
</li>
<li><p>代码</p>
<ol>
<li><p>创建接口和类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">PublicI</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">implements</span> <span class="title">PublicI</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;AAAAAAAAAAAAAAAAAAAAAAA&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>创建handler用于对接口方法的加强</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyProxyHandler</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Object object;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyProxyHandler</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.object = object;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;before&quot;</span>);</span><br><span class="line">        <span class="comment">//方法调用</span></span><br><span class="line">        method.invoke(object,args);</span><br><span class="line">        System.out.println(<span class="string">&quot;after&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>创建代理类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">A a=<span class="keyword">new</span> A();<span class="comment">//创建被代理对象</span></span><br><span class="line">InvocationHandler handler=<span class="keyword">new</span> MyProxyHandler(a);<span class="comment">//创建中间产物</span></span><br><span class="line">PublicI proxy= (PublicI) Proxy.newProxyInstance(a.getClass().getClassLoader(),a.getClass().getInterfaces(),handler);<span class="comment">//代理类</span></span><br><span class="line">proxy.speak();</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
</li>
<li><p>方式2 CGLIB</p>
<ol>
<li>要求：继承，不能final</li>
</ol>
</li>
<li><p>作用：</p>
<ol>
<li>减少代码重复</li>
<li>无痛功能增强</li>
<li>专注业务逻辑</li>
<li>解耦合</li>
</ol>
</li>
<li><p>AOP 面向切面编程</p>
<ol>
<li> 规范化（约定好）的动态代理</li>
<li></li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>java高级</category>
      </categories>
  </entry>
  <entry>
    <title>java_equals_==_new</title>
    <url>/2022/03/08/java/java%E9%AB%98%E7%BA%A7/new-equll==/</url>
    <content><![CDATA[<h3 id="equals和"><a href="#equals和" class="headerlink" title="equals和=="></a>equals和==</h3><ol>
<li>==<ul>
<li>对于基本类型，==号比较的是是值相等</li>
<li>对于引用类型比较的就是是否为同一个对象: id</li>
</ul>
</li>
<li>equals: 自己定义的等比较,<font color="red">一般先确定是否为同一个对象，就是＝＝，然后判断是否为同一个类</font>，然后判断细节<ol>
<li>String <ol>
<li>先判断是否为同类</li>
<li>每个index的值都相等</li>
</ol>
</li>
<li>Integer<ol>
<li>先判断是否为同类</li>
<li>比较value</li>
</ol>
</li>
<li></li>
</ol>
</li>
</ol>
<h3 id="hashcode"><a href="#hashcode" class="headerlink" title="hashcode"></a>hashcode</h3><ol>
<li>String：每个Σ value*2^index</li>
<li>Integer long byte：  都是返回值本身</li>
<li>Object：native方法，根据地址计算得到的</li>
</ol>
<h4 id="获得地址"><a href="#获得地址" class="headerlink" title="获得地址"></a>获得地址</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.identityHashCode(a);</span><br></pre></td></tr></table></figure>



<h3 id="Integer"><a href="#Integer" class="headerlink" title="Integer"></a>Integer</h3><ol>
<li>Integer a=1,b=1,new c=1则永远有 a==b,a.equals(b),因为<font color="red">==号基本类型比较的是值</font></li>
<li>但是他们的地址不一样</li>
<li>new创建的方式地址永远不一样</li>
<li>常量池问题<ol>
<li>Integer a=1; 其实是Integer.valueOf(1)的简化。</li>
<li>Integer.valueOf(1)会从Integer(-128,127)中选出1</li>
<li>这样他们其实是同一个对象，地址也一样</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>java高级</category>
      </categories>
  </entry>
  <entry>
    <title>java的其他注解</title>
    <url>/2022/03/08/java/java%E9%AB%98%E7%BA%A7/%E5%85%B6%E4%BB%96%E6%B3%A8%E8%A7%A3/</url>
    <content><![CDATA[<h3 id="JVM"><a href="#JVM" class="headerlink" title="JVM"></a>JVM</h3><ol>
<li><p>@CallerSensitive</p>
<ol>
<li><a href="https://blog.csdn.net/HEL_WOR/article/details/50199797">参考</a></li>
<li></li>
</ol>
</li>
<li><pre><code>
</code></pre>
</li>
</ol>
]]></content>
      <categories>
        <category>java高级</category>
      </categories>
  </entry>
  <entry>
    <title>java重写、重载</title>
    <url>/2022/03/08/java/java%E9%AB%98%E7%BA%A7/%E9%87%8D%E5%86%99%E3%80%81%E9%87%8D%E8%BD%BD/</url>
    <content><![CDATA[<h3 id="一、重写-override"><a href="#一、重写-override" class="headerlink" title="一、重写 override"></a>一、重写 override</h3><blockquote>
<p>继承，外壳不变，内容改变</p>
</blockquote>
<h4 id="1-1-参数规则"><a href="#1-1-参数规则" class="headerlink" title="1.1 参数规则"></a>1.1 参数规则</h4><p>​    参数列表必须相同</p>
<h4 id="1-2-异常规则"><a href="#1-2-异常规则" class="headerlink" title="1.2 异常规则"></a>1.2 异常规则</h4><ol>
<li>可抛出任意的RuntimeException</li>
<li>对于非强制性异常，儿子抛出的异常小于父亲的异常、(儿子抛出子异常)。</li>
</ol>
<h4 id="1-3返回值规则"><a href="#1-3返回值规则" class="headerlink" title="1.3返回值规则"></a>1.3返回值规则</h4><p>​    返回值必须返回 ? &gt; Object (规则同异常)</p>
<h4 id="1-4-权限规则"><a href="#1-4-权限规则" class="headerlink" title="1.4 权限规则"></a>1.4 权限规则</h4><p>​    只有父类和子类在同一个包中，才能重写default方法，否则被重写的最低权限是protected、并且访问权限&gt;父亲</p>
<h4 id="1-5-其他规则"><a href="#1-5-其他规则" class="headerlink" title="1.5 其他规则"></a>1.5 其他规则</h4><ol>
<li>final、static、构造方法不能被重写</li>
<li>写@override注解的优点<ol>
<li>可以当注释用,方便阅读</li>
<li>编译器可以验证@Override下面的方法名是否是你父类中所有的，如果没有则报错</li>
</ol>
</li>
</ol>
<h3 id="二、重载"><a href="#二、重载" class="headerlink" title="二、重载"></a>二、重载</h3><blockquote>
<p>原则：本质上是两个方法，基于参数列表区分</p>
</blockquote>
<h4 id="2-1-参数规则"><a href="#2-1-参数规则" class="headerlink" title="2.1 参数规则"></a>2.1 参数规则</h4><p><strong>必须</strong>改变参数列表(参数个数或类型不一样)</p>
<h4 id="2-2-异常规则"><a href="#2-2-异常规则" class="headerlink" title="2.2 异常规则"></a>2.2 异常规则</h4><p>没有异常规则</p>
<h4 id="2-3-返回值规则"><a href="#2-3-返回值规则" class="headerlink" title="2.3 返回值规则"></a>2.3 返回值规则</h4><p>没有返回值规则</p>
<h4 id="2-4-权限规则"><a href="#2-4-权限规则" class="headerlink" title="2.4 权限规则"></a>2.4 权限规则</h4><p>没有权限规则</p>
<h4 id="2-5-其他规则"><a href="#2-5-其他规则" class="headerlink" title="2.5 其他规则"></a>2.5 其他规则</h4>]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/linux/shell%E6%96%87%E4%BB%B6/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%88%86%E5%89%B2/</url>
    <content><![CDATA[<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">string=&quot;hello,shell,split,test&quot;  </span><br><span class="line">array=($&#123;string//,/ &#125;)  </span><br><span class="line"></span><br><span class="line">for var in $&#123;array[@]&#125;</span><br><span class="line">do</span><br><span class="line">   echo $var</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>原理：</p>
<p><strong>${parameter//pattern/string}</strong> </p>
]]></content>
  </entry>
  <entry>
    <title>linux环境变量</title>
    <url>/2022/03/08/linux/%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83/linux%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="一、修改环境变量"><a href="#一、修改环境变量" class="headerlink" title="一、修改环境变量"></a>一、修改环境变量</h3><ol>
<li><p>修改profile文件</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vim /etc/profile    </span><br><span class="line"><span class="meta">#</span><span class="bash"> 追加</span></span><br><span class="line">export PATH=&quot;$PATH:/root/testDir&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 生效</span></span><br><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure></li>
<li><p>修改bashrc文件</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd </span><br><span class="line">vim ~/.bashrc</span><br><span class="line">export PATH=&quot;$PATH:/root/testDir&quot;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="二、将shell加入到环境变量"><a href="#二、将shell加入到环境变量" class="headerlink" title="二、将shell加入到环境变量"></a>二、将shell加入到环境变量</h3><ol>
<li><p>比如shell路径为/root/testDir/redis.sh</p>
</li>
<li><p>修改profile</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">export PATH=&quot;$PATH:/root/testDir&quot;</span><br><span class="line">source /etc/profile  </span><br></pre></td></tr></table></figure></li>
<li><p>直接输入</p>
<figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line"><span class="keyword">sh </span>redis.<span class="keyword">sh</span></span><br><span class="line"><span class="keyword"></span>或者 </span><br><span class="line">chmod <span class="number">700</span> 不用<span class="keyword">shy</span></span><br><span class="line"><span class="keyword"></span>redis.<span class="keyword">sh</span></span><br></pre></td></tr></table></figure></li>
<li><p>或者直接改名为redis,去掉后缀名 直接输入redis也能运行</p>
</li>
</ol>
<ol start="5">
<li>查看环境变量 echo $PATH</li>
</ol>
<h3 id="三、-环境变量生效"><a href="#三、-环境变量生效" class="headerlink" title="三、 环境变量生效"></a>三、 环境变量生效</h3><p><a href="https://www.cnblogs.com/morninglight/p/6420414.html">参考-linux 刷新环境变量</a></p>
<blockquote>
<p>source的意思是：当前shell环境读取该文件到环境变量</p>
</blockquote>
<ol>
<li>方法一：source /etc/profile<br>在/etc/profile文件中添加变量【对所有用户生效（永久的）】</li>
<li>方法二：source .bash_profile<br>在用户目录下的.bash_profile文件中增加变量【对单一用户生效（永久的）】</li>
<li>方法三：直接运行export命令定义变量【只对当前shell（BASH）有效（临时的）】<br>export PATH=/usr/local/webserver/php/bin:$PATH</li>
</ol>
]]></content>
      <categories>
        <category>os</category>
      </categories>
  </entry>
  <entry>
    <title>linux部署web</title>
    <url>/2022/03/08/linux/%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83/linuxWeb%E7%8E%AF%E5%A2%83/</url>
    <content><![CDATA[<h3 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h3><ol>
<li><p>安装wget</p>
<p>yum -y install wget</p>
<span id="more"></span></li>
</ol>
<h3 id="配置java"><a href="#配置java" class="headerlink" title="配置java"></a>配置java</h3><ol>
<li><p>下载</p>
<p>官网下载 jdk-8u202-linux-x64.tar.gz</p>
</li>
<li><p>scp远程复制粘贴 或者xftp</p>
</li>
<li><p>解压到指定路径</p>
<p> tar -xzvf /home/zkpk/tgz/jdk-8u131-linux-x64.tar.gz -C /usr/java</p>
</li>
<li><p>添加环境变量 vim ~/.bash_profile 追加</p>
<p>export JAVA_HOME=/usr/java/jdk1.8.0_131/</p>
<p>export PATH=$JAVA_HOME/bin:$PATH</p>
</li>
<li><p>生效环境变量</p>
<p>source ~/.bash_profile</p>
</li>
<li><p>验证</p>
<p>java -version</p>
</li>
</ol>
<h3 id="配置mysql"><a href="#配置mysql" class="headerlink" title="配置mysql"></a>配置mysql</h3><ol>
<li><p>下载rmp包</p>
<p> wget <a href="http://dev.mysql.com/get/mysql57-community-release-el7-8.noarch.rpm">http://dev.mysql.com/get/mysql57-community-release-el7-8.noarch.rpm</a></p>
</li>
<li><p>安装mysql源</p>
<p> yum -y localinstall mysql57-community-release-el7-8.noarch.rpm</p>
</li>
<li><p>查看是否安装完成</p>
<p>yum repolist enabled | grep “mysql.<em>-community.</em>“</p>
</li>
<li><p>安装Msyql</p>
<p>yum module disable mysql</p>
<p>yum -y install mysql-community-server</p>
</li>
<li><p>启动mysql</p>
<p>systemctl start mysqld</p>
</li>
<li><p>查看Mysql状态</p>
<p>systemctl status mysqld</p>
</li>
<li><p>设置开机自动启动</p>
<p>systemctl enable mysqld<br>systemctl daemon-reload</p>
</li>
<li><p>配置mysql密码</p>
<ol>
<li><p>查看随机生成的密码</p>
<p>grep ‘temporary password’ /var/log/mysqld.log</p>
</li>
<li><p>用随机密码登录</p>
<p>mysql -uroot -p  。。。</p>
</li>
<li><p>默认开启密码安全长度检查插件</p>
<p>查看密码检查策略</p>
<p>show variables like ‘%password%’;</p>
</li>
<li><p>修改密码策略</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">set</span> <span class="keyword">global</span> validate_password_policy<span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">set</span> <span class="keyword">global</span> validate_password_length<span class="operator">=</span><span class="number">4</span>;</span><br></pre></td></tr></table></figure></li>
<li><p>修改密码</p>
<p>ALTER USER ‘root‘@’localhost’ IDENTIFIED BY ‘root’;</p>
<p>或者 set password for ‘root‘@’localhost’=password(‘root’);</p>
</li>
<li><p>配置允许远程连接</p>
</li>
<li><p>重启mysql</p>
<p>service mysqld restart</p>
</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>os</category>
      </categories>
  </entry>
  <entry>
    <title>linux防护墙与网络配置</title>
    <url>/2022/03/08/linux/%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83/linux%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="一、防火墙"><a href="#一、防火墙" class="headerlink" title="一、防火墙"></a>一、防火墙</h3><ol>
<li>查看状态 systemctl status firewalld.service</li>
<li>关闭systemctl stop/disable firewalld.service </li>
<li>重启防火墙 systemctl restart firewalld </li>
</ol>
<h3 id="二、网络"><a href="#二、网络" class="headerlink" title="二、网络"></a>二、网络</h3><ol>
<li><p>关闭</p>
<figure class="highlight gauss"><table><tr><td class="code"><pre><span class="line">systemctl <span class="keyword">stop</span> NetworkManager</span><br><span class="line">systemctl <span class="keyword">disable</span> NetworkManager</span><br></pre></td></tr></table></figure>

<blockquote>
<p>​    在CentOS系统上，目前有NetworkManager和network两种网络管理工具。如果两种都配置会引起冲突，而且NetworkManager在网络断开的时候，会清理路由，如果一些自定义的路由，没有加入到NetworkManager的配置文件中，路由就被清理掉，网络连接后需要自定义添加上去。<br>​    目前在CentOS上的NetworkManager版本比较低，而且比较适合有桌面环境的系统，所以服务器上保留network服务即可，将NetworkManager关闭，并且禁止开机启动。</p>
</blockquote>
</li>
<li><p>开启网络 systemctl start network.service</p>
</li>
<li><p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211120195515755.png" alt="image-20211120195515755"></p>
</li>
<li><p>常见错误</p>
<ol>
<li><p>manage开启，此时只需要stop  manage  –&gt; restart network </p>
<blockquote>
<p>NetworkManager和network不能共存</p>
</blockquote>
</li>
<li><p>netword被disable了</p>
</li>
<li><p>linux重启</p>
</li>
<li><p>虚拟机的c2需要设置net连接</p>
</li>
</ol>
</li>
</ol>
<h3 id="三、端口"><a href="#三、端口" class="headerlink" title="三、端口"></a>三、端口</h3><ol>
<li><p>查看端口是否开放</p>
<p>firewall-cmd –query-port=1521/tcp</p>
</li>
<li><p>查看所有开放的端口</p>
<span id="more"></span>

<p>firewall-cmd –zone=public –list-ports</p>
</li>
<li><p>开启、关闭某个端口</p>
<p>firewall-cmd –zone=public –add-port=1521/tcp –permanent</p>
<p>firewall-cmd –zone=public –remove-port=1521/tcp –permanent</p>
</li>
<li><p>开启、关闭连续端口</p>
<p>firewall-cmd –zone=public –add-port=1000-2000/tcp –permanent</p>
<p>firewall-cmd –zone= public –remove-port=1000-2000/tcp –permanent </p>
</li>
<li><p>重新加载配置文件</p>
<p>firewall-cmd –reload </p>
</li>
</ol>
]]></content>
      <categories>
        <category>os</category>
      </categories>
  </entry>
  <entry>
    <title>linux配置</title>
    <url>/2022/03/08/linux/%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83/linux%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、免密配置"><a href="#一、免密配置" class="headerlink" title="一、免密配置"></a>一、免密配置</h2><ol>
<li><p>ssh免密登录</p>
<ol>
<li><p>编写主机名 gedit /etc/hostname</p>
<p>master</p>
</li>
<li><p>临时设置hostname hostname master</p>
</li>
<li><p>上一步生效 bash</p>
</li>
<li><p>验证主机名 hostname</p>
<span id="more"></span></li>
<li><p>关闭防火墙systemctl stop/disable firewalld/firewalld.service   </p>
</li>
<li><p>ifconfig获取Ipc</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211007023706983.png" alt="image-20211007023706983"></p>
</li>
<li><p>修改主机—ip 列表  vi /etc/hosts</p>
<p>10.42.0.93 master</p>
</li>
<li><p>时钟同步</p>
</li>
<li><p>Ping主机名测试  ping master -c 3</p>
</li>
<li><p>*0生成ssh-key   ssh-keygen -t rsa</p>
</li>
<li><p>*1密钥<font color="red">cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</font>&gt;</p>
</li>
<li><p>*2chmod 600 ~/.ssh/authorized_keys</p>
</li>
<li><p>*3复制scp <del>/.ssh/authorized_keys zkpk@slave01:</del>/.ssh</p>
</li>
<li><p>*4换节点生成密钥ssh-keygen -t rsa</p>
</li>
<li><p>复制scp <del>/.ssh/authorized_keys zkpk@slave02:</del>/.ssh/temp</p>
</li>
<li><p>覆盖 cat t authorized &gt; authorized_keys</p>
<p>或者追加cat t &gt;&gt; authorized _keys</p>
<p>这个key在那个用户就能对那个用户免密</p>
</li>
</ol>
</li>
<li><p>不同用户名</p>
<ol>
<li><p>在.ssh下创建最低644文件config</p>
<p>Host </p>
<figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">Host es</span><br><span class="line"><span class="keyword">user</span> <span class="title">root</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>windows下的host</p>
<p>C:\Windows\System32\drivers\etc</p>
</li>
</ol>
<h2 id="二、其他配置"><a href="#二、其他配置" class="headerlink" title="二、其他配置"></a>二、其他配置</h2><h4 id="1-中文输入法"><a href="#1-中文输入法" class="headerlink" title="1. 中文输入法"></a>1. 中文输入法</h4><ol>
<li>下载中文输入法yum install ibus-libpinyin</li>
<li>在设置添加输入数据源汉语(pinyin)</li>
<li>按win+空格切换</li>
</ol>
<h4 id="2-配置时钟同步"><a href="#2-配置时钟同步" class="headerlink" title="2. 配置时钟同步"></a>2. 配置时钟同步</h4><ol>
<li>定时任务 crontab -e</li>
<li>0 1 * * * /usr/sbin/ntpdate cn.pool.ntp.org</li>
<li>手动：/usr/sbin/ntpdate cn.pool.ntp.or</li>
</ol>
<h4 id="3-localtime换成UTC-time"><a href="#3-localtime换成UTC-time" class="headerlink" title="3. localtime换成UTC time"></a>3. localtime换成UTC time</h4><ol>
<li>rm /etc/localtime</li>
<li>ln -s /usr/share/zoneinfo/Universal /etc/localtime</li>
</ol>
<h4 id="4-pdf中文配置"><a href="#4-pdf中文配置" class="headerlink" title="4. pdf中文配置"></a>4. pdf中文配置</h4><p>​    打开windows c:\Windows\fonts\simsun.ttc拷贝到linux服务器/usr/share/fonts/目录下,再次生成pdf中文显示正常。</p>
<h2 id="三、下载"><a href="#三、下载" class="headerlink" title="三、下载"></a>三、下载</h2><ol>
<li><p>redis</p>
<ol>
<li><p>tar -zxvf</p>
</li>
<li><p>下载gcc语言环境,tcl</p>
<p>root-&gt;yum install gcc</p>
<p>root-&gt;yum install tcl </p>
</li>
<li><p>cd redis—&gt;make</p>
</li>
<li><p>make install</p>
</li>
<li><p>启动</p>
<ol>
<li>前台启动redis-server</li>
<li>后台启动  –&gt;cp redis.conf–&gt;etc  </li>
<li>daemonize yes</li>
<li>启动usr/local/bin/redis-server /etc/redis.conf </li>
<li>关闭 redis-cli shutdown</li>
</ol>
</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>os</category>
      </categories>
  </entry>
  <entry>
    <title>cookie</title>
    <url>/2022/03/08/javaWeb/cookie-session/cookie/</url>
    <content><![CDATA[<h2 id="会话"><a href="#会话" class="headerlink" title="会话"></a>会话</h2><ol>
<li>会话功能：在会话范围内共享数据</li>
<li>一次会话就是从浏览器打开到关闭期间客户端与服务端的请求和响应</li>
<li>http无状态，无法进行数据交换，无法识别身份，</li>
</ol>
<h3 id="cookie-客户端会话技术"><a href="#cookie-客户端会话技术" class="headerlink" title="cookie 客户端会话技术"></a>cookie 客户端会话技术</h3><ol>
<li><p>cookie特点</p>
<ol>
<li><p>保存在浏览器内存中</p>
</li>
<li><p>key-value,Respones.Header，</p>
</li>
<li><p>可设置存活时间</p>
</li>
<li><p>安全性低</p>
</li>
<li><p>大小有限(每个域名一个大小)</p>
</li>
<li><p>不可跨域性</p>
<span id="more"></span></li>
</ol>
</li>
<li><p>作用</p>
<ol>
<li>登陆记录(欢迎回来，你上一次访问的时间是。。。cookie.set(cookie.getOrDefault(“lastTime”,0)))</li>
<li>页面间数据传递</li>
<li>保存用户信息</li>
</ol>
</li>
</ol>
<h4 id="使用步骤"><a href="#使用步骤" class="headerlink" title="使用步骤"></a>使用步骤</h4><ol>
<li><p>创建cookie</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Cookie c=<span class="keyword">new</span> Cookie(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;hello&quot;</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>发送cookie–&gt;想听头 set-cookie:””</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">response.addCookie(c);</span><br></pre></td></tr></table></figure></li>
<li><p>获取cookie</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Cookie[]cookies=request.getCookies();</span><br></pre></td></tr></table></figure></li>
<li><p>发送多个cookie</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211006110443252.png![image-20211006110900739](https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211006110900739.png" alt="image-20211006110443252"></p>
<p>–&gt;下一次request的时候重复的会被统一(默认用最后一个)</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211006110648442.png" alt="image-20211006110648442"></p>
</li>
</ol>
<h4 id="cookie问题"><a href="#cookie问题" class="headerlink" title="cookie问题"></a>cookie问题</h4><ol>
<li><p>cookie保存时间</p>
<ol>
<li>默认浏览器关闭</li>
<li>持久化存储 cookie.setMaxAge(60<em>60</em>24*30) <ol>
<li>整数：关闭浏览器n秒后才消失，上面是一个月</li>
<li>负数：默认</li>
<li>零：删除此cookie</li>
</ol>
</li>
</ol>
</li>
<li><p>cookie中文问题(tomcat&gt;8)</p>
<p>在浏览器中显示有问题，但是再次发送到java还是可以看到中文</p>
</li>
<li><p>cookie共享问题</p>
<ol>
<li>多个tomcat(服务器)默认情况下是不共享的</li>
<li>可以使用setPath设置范围(“/“)范围最大</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>javaWeb</category>
      </categories>
  </entry>
  <entry>
    <title>session</title>
    <url>/2022/03/08/javaWeb/cookie-session/Session/</url>
    <content><![CDATA[<p><a href="https://www.cnblogs.com/sharpxiajun/p/3395607.html">https://www.cnblogs.com/sharpxiajun/p/3395607.html</a></p>
<h3 id="session-服务端会话技术"><a href="#session-服务端会话技术" class="headerlink" title="session 服务端会话技术"></a>session 服务端会话技术</h3><ol>
<li>特点<ol>
<li>存储一次会话所有的数据</li>
<li>很大，任意类型</li>
<li>基于cookie</li>
<li>服务器关闭前tomcat会自动持久化到本地</li>
</ol>
</li>
<li>原理<ol>
<li><p>第一次访问 创建session,setId,setAttr</p>
</li>
<li><p>响应到浏览器set-cookie:JSESSIONID</p>
</li>
<li><p>再次访问根据cookie的sessionId获取session</p>
<span id="more"></span></li>
</ol>
</li>
<li>存活时间<ol>
<li>关闭浏览器消失—&gt;可以通过延长cookie存活时期而持久化存储</li>
<li>session钝化—&gt;服务器关闭时持久化(序列化)   tomcat会自动进行—&gt;tomcat/work…./localhost/…/Session.ser</li>
<li>session活化—&gt;服务器读取持久化session到内存</li>
<li>session失效时间<ol>
<li>服务器关闭</li>
<li>自杀:session.invalidate();</li>
<li>默认30分钟web.xml-&gt;&lt;session-config-timeout&gt;</li>
</ol>
</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>javaWeb</category>
      </categories>
  </entry>
  <entry>
    <title>java-servlet-http</title>
    <url>/2022/03/08/javaWeb/servlet/http%E5%8C%85/</url>
    <content><![CDATA[<h3 id="HttpServletResponse-和-HttpResponse"><a href="#HttpServletResponse-和-HttpResponse" class="headerlink" title="HttpServletResponse 和 HttpResponse"></a>HttpServletResponse 和 HttpResponse</h3><ul>
<li>HttpServletResponse来自于javax.servlet.http 存储网络请求的Writer</li>
<li>HttpResponse来自于org.apache.http  存储发送网络请求的Response</li>
</ul>
]]></content>
      <categories>
        <category>javaWeb</category>
      </categories>
  </entry>
  <entry>
    <title>手写一个tomcat</title>
    <url>/2022/03/08/javaWeb/tomcat/%E6%89%8B%E5%86%99tomcat/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>restful</title>
    <url>/2022/03/08/other/project/Restful/</url>
    <content><![CDATA[<h3 id=""><a href="#" class="headerlink" title=""></a></h3><ol>
<li>restful之前<ol>
<li>CURD只能get/post<ol>
<li>8080/add?name=1&amp;password=1</li>
<li>8080/delete?name=1</li>
<li>8080/update?name=2&amp;password=2</li>
<li>8080/get?name=1</li>
</ol>
</li>
<li>四个地址太多了，restful统一这四个地址，根据请求方式来判断进行的操作</li>
</ol>
</li>
</ol>
<h3 id="RestTemplate"><a href="#RestTemplate" class="headerlink" title="RestTemplate"></a>RestTemplate</h3><ol>
<li>常见Http客户端请求工具<ol>
<li>OkHttp</li>
<li>Apache Http</li>
</ol>
</li>
<li>RestTemplate是spring封装的http web请求模板方法</li>
<li><a href="https://httpstatus.com/">状态码</a></li>
<li>作用暂且理解为后端发送rest请求</li>
</ol>
]]></content>
      <categories>
        <category>project</category>
      </categories>
  </entry>
  <entry>
    <title>springBoot秒杀系统</title>
    <url>/2022/03/08/other/project/springboot_%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<h3 id="技术介绍"><a href="#技术介绍" class="headerlink" title="技术介绍"></a>技术介绍</h3><ol>
<li>秒杀 两个问题：并发读，并发写。防止最坏的情况发生。<ol>
<li>稳  高可用 最坏情况planb</li>
<li>准  一致性</li>
<li>快  高性能， 效率</li>
</ol>
</li>
<li> <img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20210930003833352.png" alt="image-20210930003833352"></li>
<li><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20210930003801073.png" alt="image-20210930003800497"></li>
<li><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20210930003852477.png" alt="image-20210930003852477"></li>
</ol>
<span id="more"></span>

<h3 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h3><ol>
<li><p>创建项目加入依赖</p>
<p>mybatisplus,mysql,thymeleaf,springwebm,lomok</p>
</li>
<li><p>配置resources</p>
<ol>
<li><p>application</p>
<ol>
<li>datasource<ol>
<li>driver-url-username-password</li>
<li>连接池</li>
</ol>
</li>
<li>logging debug</li>
<li>mybatis-plus</li>
</ol>
</li>
<li><p>mapper</p>
</li>
<li><p>templates</p>
<ol>
<li><p>html—&gt;thymeleaf命名空间</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>    <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>logging</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">level:  com.examapl.springkill.mapper:</span> <span class="string">debug</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>登录功能</p>
<ol>
<li><p>MD5加密(实质是一种消息摘要算法)</p>
</li>
<li><p>步骤</p>
<ol>
<li><p>依赖</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">commons-codec</span><br><span class="line">commons-lang3</span><br></pre></td></tr></table></figure></li>
<li><p>二次加密步骤</p>
<ol>
<li><p>```<br>根据公有盐第一次转化为md5密码—m1</p>
<figure class="highlight autohotkey"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">2</span>. ```</span><br><span class="line">   根据m1和数据库的私有盐进行二次加密-</span><br></pre></td></tr></table></figure></li>
<li><pre><code>封装函数方便直接得到m2
</code></pre>
</li>
</ol>
</li>
<li><p>二次加密优点</p>
</li>
</ol>
</li>
<li></li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>project</category>
      </categories>
  </entry>
  <entry>
    <title>request</title>
    <url>/2022/03/08/javaWeb/web%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6/request/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、request请求"><a href="#一、request请求" class="headerlink" title="一、request请求"></a>一、request请求</h2><h5 id="1-一次请求响应步骤"><a href="#1-一次请求响应步骤" class="headerlink" title="1. 一次请求响应步骤"></a>1. 一次请求响应步骤</h5><ol>
<li><p>tomcat会根据请求url的路径创建servlet对象</p>
</li>
<li><p>tomcat创建Request和Response对象，并且request封装请求消息数据</p>
</li>
<li><p>tomcat将request和response两个对象传给service，并调用service方法</p>
</li>
<li><p>service根据request获取请求消息，使用response设置响应消息</p>
</li>
<li><p>服务器再给浏览器响应之前，会从response获取响应消息</p>
</li>
<li><p>其中resp.getWriter.write(“html”)会返回一个页面</p>
<span id="more"></span></li>
</ol>
<h2 id="二、API-HttpServletRequest"><a href="#二、API-HttpServletRequest" class="headerlink" title="二、API  (HttpServletRequest )"></a>二、API  (HttpServletRequest )</h2><p><a href="https://www.cnblogs.com/youngchaolin/p/11526858.html">参考</a></p>
<h3 id="2-1-获取客户端信息"><a href="#2-1-获取客户端信息" class="headerlink" title="2.1 获取客户端信息"></a>2.1 获取客户端信息</h3><ol>
<li>request.getRequestURL   //返回客户端发出请求完整URL</li>
<li>request.getRequestURI   //返回请求行中的资源名部分</li>
<li>request.getQueryString   //返回请求行中的参数部分</li>
<li>request.getRemoteAddr   // 返回发出请求的客户机的IP地址</li>
<li>request.getMethod – 得到客户机请求方式</li>
<li>getContextPath – 获得当前web应用虚拟目录名称 – 在写路径时不要将web应用的虚拟路径的名称写死, 应该在需要写web应用的名称的地方通过getContextPath方法动态获取</li>
<li>request.getRemotePort();//远程端口，即客户端端口</li>
<li>request.getRemoteUser();//远程用户</li>
<li>request.getRequestedSessionId();//客户端的Session的ID</li>
</ol>
<h3 id="2-2-获取请求头信息"><a href="#2-2-获取请求头信息" class="headerlink" title="2.2 获取请求头信息"></a>2.2 获取请求头信息</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">getHeader(name) <span class="function">String</span></span><br><span class="line"><span class="function"><span class="title">getHeaders</span><span class="params">(name)</span> Enumeration&lt;String&gt;</span></span><br><span class="line"><span class="function">getHeaderNames Enumeration&lt;String&gt;</span></span><br><span class="line"><span class="function"><span class="title">getIntHeader</span><span class="params">(name)</span> <span class="keyword">int</span></span></span><br><span class="line"><span class="function"><span class="title">getDateHeader</span><span class="params">(name)</span> <span class="title">long</span><span class="params">(日期对应毫秒)</span></span></span><br></pre></td></tr></table></figure>

<h3 id="2-3-获取请求参数"><a href="#2-3-获取请求参数" class="headerlink" title="2.3 获取请求参数"></a>2.3 获取请求参数</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">getParameter(String name) --- String 通过name获得值</span><br><span class="line">getParameterValues(String name) --- String[ ] 通过name获得多值 <span class="function">checkbox</span></span><br><span class="line"><span class="function"><span class="title">getParameterMap</span><span class="params">()</span> --- Map&lt;String,String[ ]&gt; key :name value: 多值 将查询的参数保存在一个Map中</span></span><br><span class="line"><span class="function"><span class="title">getParameterNames</span><span class="params">()</span> --- Enumeration&lt;String&gt; 获得所有name</span></span><br></pre></td></tr></table></figure>



<h3 id="2-4-请求转发"><a href="#2-4-请求转发" class="headerlink" title="2.4 请求转发"></a>2.4 请求转发</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span> <span class="params">(HttpServletRequest request, HttpServletResponse response)</span></span>&#123;</span><br><span class="line">    RequestDispatcher dispatcher = request.getRequestDispatcher(<span class="string">&quot;/RequestDemo5&quot;</span>);</span><br><span class="line">    dispatcher.forward(request, response);<span class="comment">//request,responese的请求转发会清空write</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">request.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);<span class="comment">//设置request编码方式</span></span><br><span class="line">request.getLocalAddr();<span class="comment">//获取本地IP，即服务器IP</span></span><br><span class="line">request.getLocalName();<span class="comment">//获取本地名称，即服务器名称</span></span><br><span class="line">request.getLocalPort();<span class="comment">//获取本地端口号，即Tomcat端口号</span></span><br><span class="line">request.getLocale();<span class="comment">//用户的语言环境</span></span><br><span class="line">request.getContextPath();<span class="comment">//context路径</span></span><br><span class="line">request.getMethod();<span class="comment">//GET还是POST</span></span><br><span class="line">request.getProtocol();<span class="comment">//协议，http协议</span></span><br><span class="line">request.getQueryString();<span class="comment">//查询字符串</span></span><br><span class="line">request.getRemoteAddr();<span class="comment">//远程IP，即客户端IP</span></span><br><span class="line">request.getRemotePort();<span class="comment">//远程端口，即客户端端口</span></span><br><span class="line">request.getRemoteUser();<span class="comment">//远程用户</span></span><br><span class="line">request.getRequestedSessionId();<span class="comment">//客户端的Session的ID</span></span><br><span class="line">request.getRequestURI();<span class="comment">//用户请求的URL</span></span><br><span class="line">request.getScheme();<span class="comment">//协议头，例如http</span></span><br><span class="line">request.getServerName();<span class="comment">//服务器名称</span></span><br><span class="line">request.getServerPort();<span class="comment">//服务器端口</span></span><br><span class="line">request.getServletPath();<span class="comment">//Servlet路径</span></span><br></pre></td></tr></table></figure>

<h2 id="三、Request功能-获取请求消息"><a href="#三、Request功能-获取请求消息" class="headerlink" title="三、Request功能-获取请求消息"></a>三、Request功能-获取请求消息</h2><h4 id="1-获取请求行"><a href="#1-获取请求行" class="headerlink" title="(1)获取请求行"></a>(1)获取请求行</h4><p>GET /login.html HTTP/1.1</p>
<ol>
<li><p>获取虚拟目录</p>
<p>String getContextPath</p>
</li>
<li><p>获取请求URL</p>
<p>getRequestURL </p>
<p><a href="http://localhost:8080/d2">http://localhost:8080/d2</a></p>
</li>
<li><p>获取请求URI</p>
<p>getRequestURI</p>
<p>d2</p>
</li>
<li><p>获取请求方式：</p>
<p>String getMethod</p>
<p>GET</p>
</li>
<li><p>获取请求参数</p>
<p>String getQueryString</p>
<p>username=aaa</p>
</li>
<li><p>获取Servlet路径</p>
<p>getServletPath</p>
<p>/d2</p>
</li>
<li><p>获取Ip地址</p>
<p>getRemoteAddr</p>
<p>0:0:0:0:0:0:0:1</p>
</li>
</ol>
<h4 id="2-获取请求头数据"><a href="#2-获取请求头数据" class="headerlink" title="(2)获取请求头数据"></a>(2)获取请求头数据</h4><ol>
<li><p>通过请求头获取请求头值</p>
<p>getHeader(string name)</p>
</li>
<li><p>获取所有请求头名称</p>
<p>Enumeration getHeaderNames</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211003223205963.png" alt="image-20211003223205963"></p>
</li>
</ol>
<h4 id="3-获取请求体信息-只有Post才有"><a href="#3-获取请求体信息-只有Post才有" class="headerlink" title="(3)获取请求体信息(只有Post才有)"></a>(3)获取请求体信息(只有Post才有)</h4><ol>
<li><p>获取字符流/字节流</p>
<p>getReader/getInputStream</p>
</li>
<li><p>从流中解析得数据</p>
</li>
</ol>
<h4 id="4-其他功能"><a href="#4-其他功能" class="headerlink" title="(4)其他功能"></a>(4)其他功能</h4><h5 id="4-1-获取请求参数通用方式-无论get-post，优点：方法统一"><a href="#4-1-获取请求参数通用方式-无论get-post，优点：方法统一" class="headerlink" title="4.1 获取请求参数通用方式(无论get/post，优点：方法统一)"></a>4.1 获取请求参数通用方式(无论get/post，优点：方法统一)</h5><ol>
<li><p>根据参数名称获取参数值</p>
<p>getParameter(string name)</p>
</li>
<li><p>根据参数名称获取数组getParameterValues(string name)</p>
</li>
<li><p>获取所有参数名称</p>
<p>getParamaterNames</p>
</li>
<li><p>获取参数map集合</p>
<p>getParameterMap</p>
</li>
</ol>
<h5 id="4-2请求转发"><a href="#4-2请求转发" class="headerlink" title="4.2请求转发"></a>4.2请求转发</h5><p>服务器资源跳转方式</p>
<ol>
<li>获取转发对象RequestDispatcher getRequestDispatcher(string path)</li>
<li>调用对象方法<ol>
<li>forword(req,resp): 请求抓发,第一个servlet只Writer了resp的头,</li>
<li>include( req , resp): 请求包含—两个请求都Writer了resp体</li>
</ol>
</li>
<li>特点<ol>
<li>浏览器只有一次请求，其他请求在服务器进行</li>
<li>浏览器地址不变</li>
<li>只能转发得到当前服务器内部资源</li>
</ol>
</li>
</ol>
<h5 id="4-3-共享数据"><a href="#4-3-共享数据" class="headerlink" title="4.3 共享数据"></a>4.3 共享数据</h5><ol>
<li>域对象：一个有作用范围的对象，在这个范围能够共享数据</li>
<li>request对象：代表一次请求的范围，一般用于请求转发多个资源中共享数据。</li>
<li>共享方法：<ol>
<li>setAttribute(“age”,obj)</li>
<li></li>
</ol>
</li>
</ol>
<h5 id="4-4-获取ServletContext-getServletContext"><a href="#4-4-获取ServletContext-getServletContext" class="headerlink" title="4.4 获取ServletContext getServletContext"></a>4.4 获取ServletContext getServletContext</h5><h2 id="四、方法"><a href="#四、方法" class="headerlink" title="四、方法"></a>四、方法</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">request.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);<span class="comment">//设置request编码方式</span></span><br><span class="line">request.getMethod();<span class="comment">//GET还是POST</span></span><br><span class="line">request.getQueryString();<span class="comment">//url请求参数 name=wang&amp;age=20</span></span><br><span class="line">request.getProtocol();<span class="comment">//协议，http协议</span></span><br><span class="line">request.getScheme();<span class="comment">//协议头，例如http</span></span><br><span class="line">request.getRequestURL();<span class="comment">//请求的绝对路径</span></span><br><span class="line">request.getRequestURI()<span class="comment">//相对资源路径/uri</span></span><br><span class="line">request.getContextPath();<span class="comment">//context路径</span></span><br><span class="line"></span><br><span class="line">request.getLocalAddr();<span class="comment">//获取本地IP，即服务器IP</span></span><br><span class="line">request.getLocalName();<span class="comment">//获取本地名称，即服务器名称</span></span><br><span class="line">request.getLocalPort();<span class="comment">//获取本地端口号，即Tomcat端口号</span></span><br><span class="line">request.getLocale();<span class="comment">//用户的语言环境</span></span><br><span class="line"></span><br><span class="line">request.getRemoteAddr();<span class="comment">//远程IP</span></span><br><span class="line">request.getRemoteHost();<span class="comment">//远程主机名</span></span><br><span class="line">request.getRemotePort();<span class="comment">//远程端口</span></span><br><span class="line">request.getRemoteUser();<span class="comment">//远程用户,null</span></span><br><span class="line"></span><br><span class="line">request.getRequestedSessionId();<span class="comment">//客户端的Session的ID</span></span><br><span class="line"></span><br><span class="line">request.getServerName();<span class="comment">//服务器名称</span></span><br><span class="line">request.getServerPort();<span class="comment">//服务器端口</span></span><br><span class="line">request.getServletPath();<span class="comment">//Servlet路径</span></span><br></pre></td></tr></table></figure>

<h3 id="请求参数"><a href="#请求参数" class="headerlink" title="请求参数"></a>请求参数</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">getParameter(String)方法(常用)  </span><br><span class="line">getParameterValues(String name)方法(常用)   </span><br><span class="line">getParameterNames()方法(不常用)</span><br><span class="line">Map&lt;String,String[]&gt; getParameterMap()方法(编写框架时常用)  </span><br></pre></td></tr></table></figure>

<h3 id="作为域对象"><a href="#作为域对象" class="headerlink" title="作为域对象"></a>作为域对象</h3><ul>
<li>setAttribute(String name,Object o)方法，将数据作为request对象的一个属性存放到request对象中，例如：request.setAttribute(“data”, data);</li>
<li>getAttribute(String name)方法，获取request对象的name属性的属性值，例如：request.getAttribute(“data”)</li>
<li>removeAttribute(String name)方法，移除request对象的name属性，例如：request.removeAttribute(“data”)</li>
<li>getAttributeNames方法，获取request对象的所有属性名，返回的是一个，例如：Enumeration<String> attrNames = request.getAttributeNames();</li>
</ul>
<h3 id="作为请求中间件"><a href="#作为请求中间件" class="headerlink" title="作为请求中间件"></a>作为请求中间件</h3><p>一个web资源收到客户端请求后，<strong>通知服务器去调用另外一个web资源</strong>进行处理，称之为请求转发/307。<br>　一个web资源收到客户端请求后，<strong>通知浏览器去访问另外一个web资源</strong>进行处理，称之为请求重定向/302。</p>
<h2 id="五、特"><a href="#五、特" class="headerlink" title="五、特"></a>五、特</h2><ol>
<li><p>request,responese的请求转发会清空write—&gt;2.4</p>
<p><strong>说明在转发前往response缓存中写入的数据，在转发后会被清空</strong>。</p>
</li>
</ol>
]]></content>
      <categories>
        <category>javaWeb</category>
      </categories>
  </entry>
  <entry>
    <title>request</title>
    <url>/2022/03/08/javaWeb/web%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6/response/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="一、Response响应"><a href="#一、Response响应" class="headerlink" title="一、Response响应"></a>一、Response响应</h3><h4 id="1-设置响应消息"><a href="#1-设置响应消息" class="headerlink" title="1. 设置响应消息"></a>1. 设置响应消息</h4><ol>
<li><p>响应行</p>
<ol>
<li>setStatus(200)</li>
</ol>
</li>
<li><p>响应头</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">set<span class="constructor">Header(<span class="params">string</span> <span class="params">name</span>,<span class="params">string</span> <span class="params">value</span>)</span></span><br></pre></td></tr></table></figure></li>
<li><p>响应体(stream)</p>
<ol>
<li>获取输出流 PrintWriter</li>
<li>调用outStream输出到浏览器</li>
</ol>
</li>
</ol>
<span id="more"></span>

<h4 id="2-重定向步骤"><a href="#2-重定向步骤" class="headerlink" title="2. 重定向步骤"></a>2. 重定向步骤</h4><ol>
<li><p>A没干–&gt;302+url of B–&gt;但是告诉浏览器B能干</p>
</li>
<li><p>```java<br>resp.sendRedirect(“/d6”);</p>
<figure class="highlight clean"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">3.</span> 异步编程：get1--&gt;post1--&gt;重定向--&gt;post1--&gt;get1;post2....</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span> 重定向是两次请求，所以重定向地址不是request域，也因为没传入req,resp.</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span> d5-&gt;d6-&gt;d5不会让服务器崩溃，会让他一直工作</span><br><span class="line"></span><br><span class="line">### 二、响应数据到浏览器</span><br><span class="line"></span><br><span class="line">#### <span class="number">1.</span> 响应格式</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> String/txt/html</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>PrintWriter printWriter=resp.getWriter();<br>printWriter.write(“<h>hello-write</h>“);</p>
<figure class="highlight autohotkey"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">2</span>. 乱码：编码和解码的标准不一样。</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>. 设置resp的编码格式</span><br><span class="line"></span><br><span class="line">   <span class="number">2</span>. 告诉浏览器解码方式(建议)</span><br><span class="line"></span><br><span class="line">      ```java</span><br><span class="line">      resp.setHeader(<span class="string">&quot;content-type&quot;</span>,<span class="string">&quot;text/html;charaset=utf-8&quot;</span>)<span class="comment">;</span></span><br></pre></td></tr></table></figure></li>
<li><p>字节流</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ServletOutputStream outputStream=resp.getOutputStream();</span><br><span class="line">outputStream.write(<span class="string">&quot;你不好&quot;</span>.getBytes(StandardCharsets.UTF_8));</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="2-制作验证码"><a href="#2-制作验证码" class="headerlink" title="2. 制作验证码"></a>2. 制作验证码</h4><ol>
<li><p>简单图片</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">BufferedImage image=<span class="keyword">new</span> BufferedImage(w,h,BufferedImage.TYPE_INT_RGB);<span class="comment">//创建图片对象</span></span><br><span class="line"><span class="keyword">int</span> n=<span class="number">4</span>;<span class="comment">//画布加入4个字母</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">	Random ran=<span class="keyword">new</span> Random();</span><br><span class="line">	<span class="keyword">int</span> index=ran.nextInt(<span class="number">26</span>);</span><br><span class="line">	<span class="keyword">char</span> c= (<span class="keyword">char</span>) (index+<span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">	g.drawString(c+<span class="string">&quot;&quot;</span>,<span class="number">20</span>+w/<span class="number">5</span>*i,h/<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line">ImageIO.write(image,<span class="string">&quot;jpg&quot;</span>,resp.getOutputStream());<span class="comment">//传入到流</span></span><br></pre></td></tr></table></figure></li>
<li><p>点击图片刷新–&gt;前端调用刷新函数</p>
</li>
</ol>
<h4 id="3-下载资源步骤-content-disposition-附件-attachment"><a href="#3-下载资源步骤-content-disposition-附件-attachment" class="headerlink" title="3. 下载资源步骤(content-disposition: 附件-attachment;)"></a>3. 下载资源步骤(content-disposition: 附件-attachment;)</h4><ol>
<li>href—&gt;servlet, 超链接指向servlet</li>
<li>设置响应头：文件类型+打开方式</li>
<li>servlet.context.getRealName，通过context获取真实路径</li>
<li>OutStream(InputStream(RealName)) 传到response的输出流</li>
<li>资源需要放在web下，而不是WEB-INF下</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String filename = req.getParameter(<span class="string">&quot;filename&quot;</span>);</span><br><span class="line">String mimeType = context.getMimeType(filename);</span><br><span class="line">resp.setHeader(<span class="string">&quot;content-type&quot;</span>,mimeType);</span><br><span class="line">resp.setHeader(<span class="string">&quot;content-disposition&quot;</span>,<span class="string">&quot;attachment;filename=&quot;</span>+filename);</span><br><span class="line">String realPath1 = context.getRealPath(filename);</span><br><span class="line">FileInputStream inputStream = <span class="keyword">new</span> FileInputStream(realPath1);</span><br><span class="line">ServletOutputStream outputStream = resp.getOutputStream();</span><br><span class="line"><span class="keyword">byte</span>[] buffers = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span> * <span class="number">8</span>];</span><br><span class="line"><span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> ((len = inputStream.read(buffers)) != -<span class="number">1</span>) &#123;outputStream.write(buffers,<span class="number">0</span>,len);</span><br><span class="line">                                                &#125;<span class="comment">//访问/d8?filename=a.jpg</span></span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>javaWeb</category>
      </categories>
  </entry>
  <entry>
    <title>servlet</title>
    <url>/2022/03/08/javaWeb/web%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6/servlet/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、Servlet概述"><a href="#一、Servlet概述" class="headerlink" title="一、Servlet概述"></a>一、Servlet概述</h2><ol>
<li><p>server applet——&gt;运行在服务器的小程序</p>
</li>
<li><p>动态资源：java类若要一直运行在tomcat，那么它就得实现servlet规范(接口)，这样才能被tomcat识别。</p>
</li>
<li><p>servlet接口方法</p>
<ol>
<li><p>init: serlvet创建的时候运行，只运行一次,不是启动的时候，而是第一次访问的时候。</p>
</li>
<li><p>service:提供服务的方法，运行多次</p>
<figure class="highlight coq"><table><tr><td class="code"><pre><span class="line">访问mapping的</span><br><span class="line"><span class="number">8080</span>+虚拟目录+url-<span class="built_in">pattern</span></span><br><span class="line">就会运行该函数</span><br></pre></td></tr></table></figure>

<span id="more"></span></li>
<li><p>getServletInfo：获取serlvet版本信息</p>
</li>
<li><p>getServletConfig</p>
</li>
<li><p>destroy:正常关闭时运行一次</p>
</li>
</ol>
</li>
</ol>
<h2 id="二、Servlet配置"><a href="#二、Servlet配置" class="headerlink" title="二、Servlet配置"></a>二、Servlet配置</h2><ol>
<li><p>servlet.class.service(req,resp)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(ServletRequest req ,ServletResponse resp)</span></span></span><br><span class="line"><span class="function"></span>&#123;System.out.println(<span class="string">&quot;servlet启动&quot;</span>);&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>注册servlet </p>
<ul>
<li><p>web.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>serveletName<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span><span class="comment">&lt;!--名字--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.wyg.web.servlet.ServletDemo<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span><span class="comment">&lt;!--servlet类--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span><span class="comment">&lt;!--映射--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>serveletName<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/demox1<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span><span class="comment">&lt;!--路径--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>注解配置</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@WebServlet( &quot;/s1&quot;)</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>可以加入映射数组</p>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;user/demo&quot;</span></span><br><span class="line"><span class="string">&quot;user/*&quot;</span> 通配符任意</span><br><span class="line"><span class="string">&quot;/*&quot;</span> 任意，优先级最低</span><br><span class="line"><span class="string">&quot;*.do&quot;</span>任意.<span class="keyword">do</span>结尾 </span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="三、原理步骤"><a href="#三、原理步骤" class="headerlink" title="三、原理步骤"></a>三、原理步骤</h2><ol>
<li>访问url</li>
<li>扫描mapping找到对应servlet.name进而找到servlet.class的全限定类名</li>
<li>反射class.forname(servlet.class).newInstance创建出对象servlet</li>
<li>调用servlet.service</li>
</ol>
<h2 id="四、servlet生命周期"><a href="#四、servlet生命周期" class="headerlink" title="四、servlet生命周期"></a>四、servlet生命周期</h2><ol>
<li><p>被创建加载：init 加载资源</p>
<p>默认第一次访问url</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">web.xml-&gt;指定启动时加载并赋予优先级，值为2表示可能是依赖其他servlet启动才能启动。</span><br><span class="line"><span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>2<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>被调用–&gt;service</p>
</li>
<li><p>被销毁–&gt;destory 释放资源</p>
</li>
</ol>
<h2 id="五、servlet体系结构"><a href="#五、servlet体系结构" class="headerlink" title="五、servlet体系结构"></a>五、servlet体系结构</h2><p>父子关系：接口Servlet–&gt;抽象GenericServlet–&gt;抽象HttpServlet</p>
<h4 id="genericServlet"><a href="#genericServlet" class="headerlink" title="genericServlet"></a>genericServlet</h4><ol>
<li>其他方法默认空实现</li>
<li>只需实现service方法</li>
</ol>
<h4 id="httpServlet"><a href="#httpServlet" class="headerlink" title="httpServlet:"></a>httpServlet:</h4><ol>
<li><p>url请求</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String method=req.<span class="function">getMethod</span></span><br><span class="line"><span class="function"><span class="title">if</span><span class="params">(method.eq(<span class="string">&quot;get&quot;</span>)</span>)...</span></span><br><span class="line"><span class="function"><span class="keyword">else</span>...</span></span><br></pre></td></tr></table></figure></li>
<li><p>这样每次都判断很麻烦，所以httpServlet对它进行了一个封装，这个封装就是重写service方法判断是get还是post,然后调用对应方法，只需重写doGet/doPost方法</p>
</li>
<li><p>默认deGet方法</p>
</li>
</ol>
<h2 id="六、注意"><a href="#六、注意" class="headerlink" title="六、注意"></a>六、注意</h2><ol>
<li>servlet是容易并发的对象(单例)，所以尽量不要定义成员变量，确保线程安全。</li>
<li>尽量不要再servlet定义成员变量，定义了也只用于读取。</li>
<li>url-pattern必须前缀”/“</li>
<li>servlet配置项地址：CATALINA_BASE(tomcat启动的时候输出)</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>tomcat</title>
    <url>/2022/03/08/javaWeb/web%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6/tomcat/</url>
    <content><![CDATA[<h3 id="tomacat"><a href="#tomacat" class="headerlink" title="tomacat"></a>tomacat</h3><ol>
<li><p>下载</p>
</li>
<li><p>日志换成中文乱码解决</p>
<p>conf/logging.properties:</p>
<p>encoding = UTF-8–&gt;GBK</p>
</li>
<li><p>文件结构</p>
<ol>
<li><p>bin 可执行文件</p>
</li>
<li><p>conf 配置文件</p>
</li>
<li><p>lib jar依赖</p>
</li>
<li><p>log日志</p>
</li>
<li><p>webapps web项目</p>
</li>
<li><p>运行时数据</p>
<span id="more"></span></li>
</ol>
</li>
<li><p>配置java_home </p>
</li>
<li><p>启动: start-up.bat</p>
</li>
<li><p>关闭: shut-down.bat || ctrl+c || 叉掉</p>
</li>
<li><p>路径：webapps=localhost:8080</p>
</li>
<li><p>tomcat部署web项目的几种方法</p>
<ol>
<li><p>直接将web项目放在webapps下</p>
</li>
<li><p>简化：将web项目压缩成zip并改后缀为war包，这个war包会自动解压缩</p>
<p>缺点：每次都要移动文件，无法配置虚拟目录</p>
</li>
<li><p>servlet.xml–&gt; &lt;host&gt;&lt;Context docBase:”实际目录” path”虚拟地址”/&gt;&lt;/host&gt;</p>
<p>缺点：配置servlet.xml不安全。</p>
</li>
<li><p>热部署：conf\Catalina\localhost下创建bbb.xml，并添加</p>
<p>&lt;Context docBase:”path” path”url”/&gt;</p>
<p>访问bbb就ok</p>
</li>
</ol>
</li>
<li><p>两个jar</p>
<ol>
<li>jsp-api.jar</li>
<li>servlet-api.jar</li>
</ol>
</li>
<li><p>index.html优先级高于jsp</p>
</li>
</ol>
]]></content>
      <categories>
        <category>javaWeb</category>
      </categories>
  </entry>
  <entry>
    <title>过滤器</title>
    <url>/2022/03/08/javaWeb/web%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6/%E8%BF%87%E6%BB%A4%E5%99%A8/</url>
    <content><![CDATA[<p>[toc]</p>
<p><a href="https://mrbird.cc/Servlet-Jsp-note.html">参考</a></p>
<h3 id="1-编写过滤器遵循下列步骤："><a href="#1-编写过滤器遵循下列步骤：" class="headerlink" title="1. 编写过滤器遵循下列步骤："></a>1. 编写过滤器遵循下列步骤：</h3><ol>
<li>编写一个实现了Filter接口的类。</li>
<li>实现Filter接口的三个方法，过滤逻辑在doFilter方法中实现。</li>
<li>在Web程序中注册过滤器。</li>
<li>把过滤器和Web应用一起打包部署。</li>
</ol>
<p>当有多个过滤器的时候，过滤的先后按照xml文件中mapping的先后顺序执行，具体过程如下图所示：</p>
<p><img src="https://mrbird.cc/img/6c6a2aadb04e81a2528758b88c26ed30.png" alt="x"></p>
<p>​    上图展示了多个过滤器的执行流程，过滤器1的doFilter的code1 →过滤器2的doFilter的code1 →service()方法→过滤器2的doFilter的code2 →过滤器1的doFilter的code2 →返回给客户端。在这个动作的传递过程中一定要写chain.doFilter()。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String[] paths;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest request, ServletResponse response,</span></span></span><br><span class="line"><span class="params"><span class="function">                         FilterChain chain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        HttpServletRequest req = (HttpServletRequest) request;</span><br><span class="line">        HttpServletResponse res = (HttpServletResponse) response;</span><br><span class="line">        String uri = req.getRequestURI();</span><br><span class="line">        <span class="keyword">for</span> (String path : paths) &#123;</span><br><span class="line">            <span class="keyword">if</span> (uri.contains(path)) &#123;</span><br><span class="line">                chain.doFilter(req, res);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//判断session中是否存在登录数据</span></span><br><span class="line">        HttpSession session = req.getSession();</span><br><span class="line">        <span class="comment">//模拟一个叫admin的账号</span></span><br><span class="line">        String admin = (String) session.getAttribute(<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (admin == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">//没有登录，强制跳转到登录页</span></span><br><span class="line">            res.sendRedirect(req.getContextPath() + <span class="string">&quot;/login/toLogin.do&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//已登录，继续执行</span></span><br><span class="line">            chain.doFilter(req, res);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">        String excludePath = filterConfig.getInitParameter(<span class="string">&quot;excludePath&quot;</span>);</span><br><span class="line">        paths = excludePath.split(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li><p>web.xml中配置Filter：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>loginFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.postar.servlet.LoginFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 设置要排除过滤的路径 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>excludePath<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>login/toLogin,login/login,login/createImage<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>loginFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.do<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>javaWeb</category>
      </categories>
  </entry>
  <entry>
    <title>实习日记</title>
    <url>/2022/03/08/other/unpub/%E5%AE%9E%E4%B9%A0%E6%97%A5%E8%AE%B0/</url>
    <content><![CDATA[<h3 id="第一天"><a href="#第一天" class="headerlink" title="第一天"></a>第一天</h3><ol>
<li>2021-10-7 雨</li>
<li>公交一个小时到亚太商谷，20分钟才找到7栋，这个通勤暂时不适应，但我想我会喜欢这种在公交车上一个小时的感觉。</li>
<li>下午 15:30。</li>
<li>公司像是个外包公司，三间房子，一个员工工作空间，一个办公室，一个会议室。很像重邮信科楼研究生实验室。</li>
<li>BOSS是个10届校友，5-6个同事年龄大概25岁(20-30岁很难分辨)。</li>
<li>先是交流了一个小时，说了很多，关键就是要完成任务，没有考试，这也不算是面试。</li>
<li>讲了项目现状和需求，发现这些项目都很像，应该都是从一个开放版本修改得来的。</li>
<li>需求是数据字典操作—&gt;数据库</li>
<li>拉进code.aliyun.com项目组，连接git，拿到项目代码</li>
<li>讲了怎么调试代码，增加需求。</li>
<li>当时感觉很简单，但是，但是，我现在的困难就是，里面有很多@interface @configruaion我都不认识，这个项目怎么启动，数据库怎么连接我想我一时半会是解决不了的。</li>
<li>今天掉了很多头发，明显的可怕。</li>
<li>需求的解决<ol>
<li>打算不启动项目，先硬写一个，明天交接任务再设定接口。<ol>
<li>或者启动了，因为我发现有swagger</li>
</ol>
</li>
<li></li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>日记</category>
      </categories>
  </entry>
  <entry>
    <title>matplotlib基本用法</title>
    <url>/2022/03/08/utils/python/matplotlib/</url>
    <content><![CDATA[<h2 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h2><h3 id="1-1-简单使用"><a href="#1-1-简单使用" class="headerlink" title="1.1 简单使用"></a>1.1 简单使用</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">x=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">y=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">3</span>]</span><br><span class="line">plt.plot(x,y)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>



<h2 id="二、API"><a href="#二、API" class="headerlink" title="二、API"></a>二、API</h2><h3 id="2-1-常见API"><a href="#2-1-常见API" class="headerlink" title="2.1 常见API"></a>2.1 常见API</h3><ol>
<li><p>plt.plot 画图</p>
</li>
<li><p>plt.axis 修改坐标</p>
</li>
<li><p>plt.show 显示</p>
</li>
<li><p>plt.grid(True) 设置网格</p>
</li>
<li><p>添加说明：explain</p>
<ol>
<li><p>xy轴标注：plt.xlabel(“Money Earned”)  plt.ylabel(“Consume Level”)</p>
</li>
<li><p>标题：plt.title(“Figure.1”)</p>
</li>
<li><p>添加图内文字：plt.text(2,3,”text”)  ：在坐标(2,3)处显示”text”</p>
</li>
<li><p>添加箭头</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.annotate(<span class="string">&#x27;箭头说明文字&#x27;</span>, xy=(<span class="number">20</span>, <span class="number">400</span>), xytext=(<span class="number">12.5</span>, <span class="number">400</span>),</span><br><span class="line">             arrowprops=<span class="built_in">dict</span>(facecolor=<span class="string">&#x27;black&#x27;</span>, shrink=<span class="number">0.05</span>),)</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h3 id="2-2-plt-plot"><a href="#2-2-plt-plot" class="headerlink" title="2.2 plt.plot()"></a>2.2 plt.plot()</h3><blockquote>
<p>plt.plot(x, y, format_string, **kwargs) ,返回Line2D 对象</p>
</blockquote>
<h4 id="2-2-1-format-string"><a href="#2-2-1-format-string" class="headerlink" title="2.2.1 format_string"></a>2.2.1 format_string</h4><blockquote>
<p>控制颜色字符、风格字符、标记字</p>
</blockquote>
<ul>
<li>颜色：’b’ 蓝色</li>
<li>字符风格：默认’-‘折线段</li>
<li>节点标记：默认没有 可选.^</li>
</ul>
<h4 id="2-2-2-kwargs"><a href="#2-2-2-kwargs" class="headerlink" title="2.2.2 kwargs:"></a>2.2.2 kwargs:</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">color : 控制颜色, color=<span class="string">&#x27;green&#x27;</span></span><br><span class="line">linestyle : 线条风格, linestyle=<span class="string">&#x27;dashed&#x27;</span></span><br><span class="line">marker : 标记风格, marker=<span class="string">&#x27;o&#x27;</span></span><br><span class="line">markerfacecolor: 标记颜色, markerfacecolor=<span class="string">&#x27;blue&#x27;</span></span><br><span class="line">markersize: 标记尺寸, markersize=<span class="number">20</span></span><br></pre></td></tr></table></figure>

<h4 id="2-2-3-plt-多线"><a href="#2-2-3-plt-多线" class="headerlink" title="2.2.3 plt.多线"></a>2.2.3 plt.多线</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.plot(t1,<span class="string">&#x27;b--&#x27;</span>,t2,<span class="string">&#x27;r--&#x27;</span>)</span><br><span class="line"><span class="comment">#或</span></span><br><span class="line">x1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],y1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">x2=[<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>],y2=[<span class="number">4</span>,<span class="number">8</span>,<span class="number">12</span>,<span class="number">16</span>]</span><br><span class="line">plt.plot(x1,y1,<span class="string">&#x27;r-&#x27;</span>,x2,y2,<span class="string">&#x27;g--&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="2-2-4-函数表示y"><a href="#2-2-4-函数表示y" class="headerlink" title="2.2.4 函数表示y"></a>2.2.4 函数表示y</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = np.arange(<span class="number">0</span>, <span class="number">20</span>, <span class="number">0.01</span>)</span><br><span class="line">plt.plot(x, np.sin(x), <span class="string">&#x27;r-&#x27;</span>, x, np.cos(x), <span class="string">&#x27;b--&#x27;</span>)</span><br></pre></td></tr></table></figure>



<h3 id="2-3-plt-axis"><a href="#2-3-plt-axis" class="headerlink" title="2.3 plt.axis"></a>2.3 plt.axis</h3><ol>
<li><p>plt.axis([1, 2, 3, 4])</p>
<p>设置x范围 1-2 y范围3-4</p>
</li>
<li><p>plt.axis(<code>option</code>=‘equal’) </p>
<ol>
<li>equal：x-y坐标等长</li>
<li>off： 关闭</li>
<li>auto：自动</li>
<li>square：正方形</li>
</ol>
</li>
</ol>
<h3 id="2-4-plt-explain-说明文字参数"><a href="#2-4-plt-explain-说明文字参数" class="headerlink" title="2.4 plt.explain 说明文字参数"></a>2.4 plt.explain 说明文字参数</h3><ol>
<li>color : 颜色</li>
<li>size：大小</li>
<li><a href="https://blog.csdn.net/xHibiki/article/details/84866887">其他</a>：字体系列，对其方式，行距，粗细，样式，字体名</li>
</ol>
<h3 id="2-5-plt-subplots-子图"><a href="#2-5-plt-subplots-子图" class="headerlink" title="2.5 plt.subplots 子图"></a>2.5 plt.subplots 子图</h3><blockquote>
<p>返回一个包含figure和axes对象的元组</p>
<p>figure: 拿到整张图</p>
<p>ax： np.array[axe 对象]</p>
</blockquote>
<h4 id="subplots-和subplot-区别"><a href="#subplots-和subplot-区别" class="headerlink" title="subplots 和subplot 区别"></a>subplots 和subplot 区别</h4><ul>
<li><p>subplots 一次性创建并返回所有的子图和其 axe 对象</p>
</li>
<li><p>subplot分开子图并拿到指定位置的子图plt.subplot(2, 1, 2) 分成2行1类并拿到第二个ax对象</p>
</li>
</ul>
<h2 id="三、对象"><a href="#三、对象" class="headerlink" title="三、对象"></a>三、对象</h2><h3 id="3-2-AxesSubplot-子图对象"><a href="#3-2-AxesSubplot-子图对象" class="headerlink" title="3.2 AxesSubplot 子图对象"></a>3.2 AxesSubplot 子图对象</h3><h4 id="1-ax-plot"><a href="#1-ax-plot" class="headerlink" title="1 ax.plot()"></a>1 ax.plot()</h4><h4 id="2-ax-axis"><a href="#2-ax-axis" class="headerlink" title="2 ax.axis"></a>2 ax.axis</h4><h4 id="3-set-title"><a href="#3-set-title" class="headerlink" title="3 set_title"></a>3 set_title</h4><p>​    </p>
]]></content>
      <categories>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title>bat</title>
    <url>/2022/03/08/utils/bat/bat%E5%91%BD%E4%BB%A41/</url>
    <content><![CDATA[<h3 id="bat常见命令"><a href="#bat常见命令" class="headerlink" title="bat常见命令"></a>bat常见命令</h3><ol>
<li><p>REM 和 :: 注释</p>
</li>
<li><p>ECHO 和 @</p>
<ol>
<li><p>@字符放在命令前将关闭该命令回显，无论此时echo是否为打开状态。</p>
</li>
<li><p>@ echo off 关闭off 并将这句话不会回显</p>
</li>
<li><p>打印空行 echo.</p>
</li>
<li><p>echo | 管道传参(将echo的输出当作|后面的输入)</p>
</li>
<li><p>新建文件 echo aaa &gt; a.txt</p>
</li>
<li><p>@echo off 关闭cmd的文件路径</p>
<span id="more"></span></li>
</ol>
</li>
<li><p>pause</p>
<p>Echo 其他提示语 &amp; pause &gt; nul</p>
</li>
<li><p>errorlevel</p>
<p>显示返回码echo %errorlevel% </p>
<p>正常返回0  错误1</p>
</li>
<li><p>title 设置cmd窗口标题</p>
</li>
<li><p>color 设置cmd颜色</p>
<p>cmd </p>
<p> 0 = 黑色 8 = 灰色<br> 1 = 蓝色 9 = 淡蓝色<br> 2 = 绿色 A = 淡绿色<br> 3 = 湖蓝色 B = 淡浅绿色<br> 4 = 红色 C = 淡红色<br> 5 = 紫色 D = 淡紫色<br> 6 = 黄色 E = 淡黄色<br> 7 = 白色 F = 亮白色</p>
</li>
<li><p>mode 配置系统设备</p>
</li>
<li><p>GOTO 和 : </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">:start</span><br><span class="line"><span class="built_in">set</span> /a var+=1</span><br><span class="line"><span class="built_in">echo</span> %var%</span><br><span class="line"><span class="keyword">if</span> %var% leq 3 GOTO start</span><br><span class="line">pause</span><br></pre></td></tr></table></figure></li>
<li><p>FIND</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">FIND [/V] [/C] [/N] [/I] [/OFF[LINE]] <span class="string">&quot;string&quot;</span> [[drive:][path]filename[ ...]]</span><br></pre></td></tr></table></figure>

<p> /V 显示所有未包含指定字符串的行。<br> /C 仅显示包含字符串的行数。<br> /N 显示行号。<br> /I 搜索字符串时忽略大小写。</p>
<p>Find常和type命令结合使用</p>
</li>
<li><p>START</p>
<p>批处理中调用外部程序的命令（该外部程序在新窗口中运行，批处理程序继续往下执行，不理会外部程序的运行状况），如果直接运行外部程序则必须等外部程序完成后才继续执行剩下的指令</p>
<p>例：start explorer d:\</p>
<p>调用图形界面打开D盘</p>
</li>
<li><p>assoc 和 ftype</p>
</li>
<li></li>
<li><p>pushd 和 popd</p>
</li>
<li><p>CALL</p>
</li>
<li><p>shift</p>
</li>
<li><p>IF</p>
</li>
<li><p>setlocal 与 变量延迟</p>
</li>
<li><p>ATTRIB 显示或更改文件属性</p>
</li>
</ol>
]]></content>
      <categories>
        <category>utils</category>
        <category>bat</category>
      </categories>
  </entry>
  <entry>
    <title>pandas用法</title>
    <url>/2022/03/08/utils/python/pandas/</url>
    <content><![CDATA[<h2 id="二、统计信息"><a href="#二、统计信息" class="headerlink" title="二、统计信息"></a>二、统计信息</h2><h3 id="2-1-基本信息"><a href="#2-1-基本信息" class="headerlink" title="2.1 基本信息"></a>2.1 基本信息</h3><blockquote>
<p>常见计算聚合指标有sum()、mean()、median()、min() 和 max()等</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df = pd.DataFrame(&#123;<span class="string">&#x27;key1&#x27;</span>:np.arange(<span class="number">10</span>),<span class="string">&#x27;key2&#x27;</span>:np.random.rand(<span class="number">10</span>)*<span class="number">10</span>&#125;)</span><br><span class="line"><span class="built_in">print</span>(df.count(),<span class="string">&#x27;→ count统计非Na值的数量\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.<span class="built_in">min</span>(),<span class="string">&#x27;→ min统计最小值\n&#x27;</span>,df[<span class="string">&#x27;key2&#x27;</span>].<span class="built_in">max</span>(),<span class="string">&#x27;→ max统计最大值\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.quantile(q=<span class="number">0.75</span>),<span class="string">&#x27;→ quantile统计分位数，参数q确定位置\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.<span class="built_in">sum</span>(),<span class="string">&#x27;→ sum求和\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.mean(),<span class="string">&#x27;→ mean求平均值\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.median(),<span class="string">&#x27;→ median求算数中位数，50%分位数\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.std(),<span class="string">&#x27;\n&#x27;</span>,df.var(),<span class="string">&#x27;→ std,var分别求标准差，方差\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.skew(),<span class="string">&#x27;→ skew样本的偏度\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.kurt(),<span class="string">&#x27;→ kurt样本的峰度\n&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="2-2-分析"><a href="#2-2-分析" class="headerlink" title="2.2 分析"></a>2.2 分析</h3><h4 id="2-2-1-累计"><a href="#2-2-1-累计" class="headerlink" title="2.2.1 累计"></a>2.2.1 累计</h4><ul>
<li>累加：df[‘key1’].cumsum()</li>
<li>累积：df[‘key1’].cumprod()</li>
<li>累加最大值：cummax()</li>
</ul>
<h3 id="2-3-分组、聚合"><a href="#2-3-分组、聚合" class="headerlink" title="2.3 分组、聚合"></a>2.3 分组、聚合</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df = pd.DataFrame(&#123;<span class="string">&#x27;data1&#x27;</span>:np.random.rand(<span class="number">5</span>),</span><br><span class="line">                  <span class="string">&#x27;data2&#x27;</span>:np.random.rand(<span class="number">5</span>),</span><br><span class="line">                  <span class="string">&#x27;key1&#x27;</span>:<span class="built_in">list</span>(<span class="string">&#x27;aabba&#x27;</span>),</span><br><span class="line">                  <span class="string">&#x27;key2&#x27;</span>:[<span class="string">&#x27;one&#x27;</span>,<span class="string">&#x27;two&#x27;</span>,<span class="string">&#x27;one&#x27;</span>,<span class="string">&#x27;two&#x27;</span>,<span class="string">&#x27;one&#x27;</span>]&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="2-3-1-分组-groupby"><a href="#2-3-1-分组-groupby" class="headerlink" title="2.3.1 分组 groupby"></a>2.3.1 分组 groupby</h4><blockquote>
<p> df.groupby(‘A’)</p>
</blockquote>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211230162518142.png" alt="image-20211230162518142"></p>
<h4 id="2-3-2-原地赋值-transform"><a href="#2-3-2-原地赋值-transform" class="headerlink" title="2.3.2 原地赋值 transform"></a>2.3.2 原地赋值 transform</h4><p>print(df.groupby(‘key2’).transform(np.mean))</p>
<h4 id="2-3-3-agg-单列映射统计"><a href="#2-3-3-agg-单列映射统计" class="headerlink" title="2.3.3 agg 单列映射统计"></a>2.3.3 agg 单列映射统计</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">x</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> np.mean(x)</span><br><span class="line"><span class="built_in">print</span>(df.groupby(<span class="string">&#x27;a&#x27;</span>)[<span class="string">&#x27;b&#x27;</span>].agg(&#123;<span class="string">&#x27;r1&#x27;</span>:np.mean,<span class="string">&#x27;r2&#x27;</span>:np.<span class="built_in">sum</span>,<span class="string">&#x27;r2&#x27;</span>:x&#125;))</span><br></pre></td></tr></table></figure>

<h4 id="2-3-2-apply-映射"><a href="#2-3-2-apply-映射" class="headerlink" title="2.3.2 apply 映射"></a>2.3.2 apply 映射</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(df.groupby(<span class="string">&#x27;key1&#x27;</span>).apply(<span class="keyword">lambda</span> x: x.describe()))<span class="comment">#映射每个组</span></span><br></pre></td></tr></table></figure>



<h4 id="透视表-pivot-table"><a href="#透视表-pivot-table" class="headerlink" title="透视表 pivot_table"></a>透视表 pivot_table</h4>]]></content>
      <categories>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title>python操作数据库</title>
    <url>/2022/03/08/utils/python/python%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93/</url>
    <content><![CDATA[<h3 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h3><h3 id="连接"><a href="#连接" class="headerlink" title="连接"></a>连接</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># !pip install pymssql</span></span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">conn = pymysql.connect(host=<span class="string">&#x27;localhost&#x27;</span>, user=<span class="string">&#x27;root&#x27;</span>, password=<span class="string">&#x27;root&#x27;</span>, port=<span class="number">3306</span>, db=<span class="string">&#x27;py&#x27;</span>)</span><br><span class="line">cursor = conn.cursor()</span><br><span class="line"><span class="keyword">if</span> (cursor.execute(<span class="string">&#x27;select version()&#x27;</span>)):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;数据库连接成功，版本号为：&#x27;</span>, cursor.fetchone())</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;数据库连接失败&#x27;</span>)</span><br><span class="line">c= conn.cursor()  <span class="comment"># 获取游标 </span></span><br></pre></td></tr></table></figure>

<h3 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">studentIter=c.execute(<span class="string">&quot;select * from students&quot;</span>)<span class="comment"># 查询  获得迭代器</span></span><br><span class="line">cursor.fetchmany(<span class="number">2</span>)  <span class="comment"># 获取2个</span></span><br><span class="line">cursor.fetchall()  <span class="comment">#  获取全部</span></span><br><span class="line">cursor.fetchone() <span class="comment"># 获取一个</span></span><br></pre></td></tr></table></figure>

<h3 id="插入"><a href="#插入" class="headerlink" title="插入"></a>插入</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sql2 = <span class="string">&#x27;&#x27;&#x27;insert into students values(1,&#x27;Tom&#x27;,20)&#x27;&#x27;&#x27;</span></span><br><span class="line">c.execute(sql2)</span><br><span class="line">conn.commit()  <span class="comment">#提交</span></span><br></pre></td></tr></table></figure>

<h3 id="占位符"><a href="#占位符" class="headerlink" title="占位符"></a>占位符</h3><ol>
<li><p>%s + %</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sql = <span class="string">&quot;select count(*) from record where createtime&gt;&#x27;%s&#x27; and createtime&lt;&#x27;%s&#x27; and payStatus=&#x27;2&#x27;;&quot;</span> %(timeStart, timeEnd)</span><br></pre></td></tr></table></figure></li>
<li><p>%s + args</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">cursor.execute(<span class="string">&quot;insert into user values(%s, %s, %s)&quot;</span>,(<span class="number">1</span>,<span class="number">80</span>,<span class="string">&quot;zhang&quot;</span>))</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="中文问题"><a href="#中文问题" class="headerlink" title="中文问题"></a>中文问题</h3>]]></content>
      <categories>
        <category>utils</category>
      </categories>
  </entry>
  <entry>
    <title>python爬虫</title>
    <url>/2022/03/08/utils/python/python%E7%88%AC%E8%99%AB/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="BS4-以下内容参考自官方文档"><a href="#BS4-以下内容参考自官方文档" class="headerlink" title="BS4-以下内容参考自官方文档"></a><a href="https://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/">BS4-以下内容参考自官方文档</a></h2><h3 id="2-1-语法"><a href="#2-1-语法" class="headerlink" title="2.1 语法"></a>2.1 语法</h3><ol>
<li><p>基本</p>
<ul>
<li>找到第一个: find</li>
<li>找到所有的: find_all</li>
</ul>
</li>
<li><p>属性</p>
<ul>
<li>name  就是&lt;&gt;中间的  比如&lt;a&gt; 就是a</li>
</ul>
</li>
<li><p>获取链接</p>
<ol>
<li><p>从文档中找到所有<a>标签的链接:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> link <span class="keyword">in</span> soup.find_all(<span class="string">&#x27;a&#x27;</span>):</span><br><span class="line">    <span class="built_in">print</span>(link.get(<span class="string">&#x27;href&#x27;</span>))</span><br></pre></td></tr></table></figure></li>
<li><p>所有内容  print(soup.get_text())</p>
</li>
</ol>
</li>
</ol>
<h3 id="2-2-遍历文档树"><a href="#2-2-遍历文档树" class="headerlink" title="2.2 遍历文档树"></a>2.2 遍历文档树</h3><h4 id="2-2-1-通过名字"><a href="#2-2-1-通过名字" class="headerlink" title="2.2.1 通过名字"></a>2.2.1 通过名字</h4><p>​    tag[‘class’] –&gt; # u’boldest’</p>
<p>​    tag.a  -&gt;# &lt;a class=”sister” href=”<a href="http://example.com/elsie&quot;">http://example.com/elsie&quot;</a> id=”link1”&gt;Elsie</a></p>
<blockquote>
<p>这种方法只能获得第一个,若要多个 用get_all</p>
</blockquote>
<h4 id="2-2-2-contents-descendants"><a href="#2-2-2-contents-descendants" class="headerlink" title="2.2.2 contents descendants"></a>2.2.2 contents descendants</h4><p>tag的contents属性可以将tag的子节点以列表的方式输出</p>
<p>descendants包括子孙节点</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">head_tag = soup.head</span><br><span class="line">head_tag</span><br><span class="line"><span class="comment"># &lt;head&gt;&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;&lt;/head&gt;</span></span><br><span class="line">head_tag.contents</span><br><span class="line">[&lt;title&gt;The Dormouse<span class="string">&#x27;s story&lt;/title&gt;]</span></span><br><span class="line"><span class="string">title_tag = head_tag.contents[0]</span></span><br><span class="line"><span class="string">title_tag</span></span><br><span class="line"><span class="string"># &lt;title&gt;The Dormouse&#x27;</span>s story&lt;/title&gt;</span><br><span class="line">title_tag.contents</span><br><span class="line"><span class="comment"># [u&#x27;The Dormouse&#x27;s story&#x27;]</span></span><br></pre></td></tr></table></figure>



<h4 id="2-2-3-children-parent"><a href="#2-2-3-children-parent" class="headerlink" title="2.2.3 children parent"></a>2.2.3 children parent</h4><h4 id="2-2-4-next-sibling-previous-sibling-兄弟节点"><a href="#2-2-4-next-sibling-previous-sibling-兄弟节点" class="headerlink" title="2.2.4 next_sibling previous_sibling  兄弟节点"></a>2.2.4 next_sibling previous_sibling  兄弟节点</h4><p>​    .next_siblings 和 .previous_siblings 兄弟节点们</p>
<h4 id="2-2-1"><a href="#2-2-1" class="headerlink" title="2.2.1"></a>2.2.1</h4><h3 id="2-3-搜索文档树"><a href="#2-3-搜索文档树" class="headerlink" title="2.3 搜索文档树"></a>2.3 搜索文档树</h3><blockquote>
<p>​    记住: <code>find_all()</code> 和 <code>find()</code> 只搜索当前节点的所有子节点,孙子节点等. <code>find_parents()</code> 和 <code>find_parent()</code> 用来搜索当前节点的父辈节点,搜索方法与普通tag的搜索方法相同,搜索文档搜索文档包含的内容. 我们从一个文档中的一个叶子节点开始:</p>
</blockquote>
<h4 id="2-3-1-find"><a href="#2-3-1-find" class="headerlink" title="2.3.1 find"></a>2.3.1 find</h4><h4 id="2-3-2-find-all"><a href="#2-3-2-find-all" class="headerlink" title="2.3.2 find_all()"></a>2.3.2 find_all()</h4><blockquote>
<p>find_all( <a href="https://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/#id35">name</a> , <a href="https://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/#css">attrs</a> , <a href="https://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/#recursive">recursive</a> , <a href="https://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/#id36">string</a> , <a href="https://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/#keyword">**kwargs</a> )</p>
</blockquote>
<ol>
<li><p>name=[String]</p>
</li>
<li><p>string</p>
<blockquote>
<p>stirng=re,String,lambda-bool</p>
<p>搜索text用到,常与正则和lambda使用</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">soup.find_all(string=re.<span class="built_in">compile</span>(<span class="string">&quot;Dormouse&quot;</span>)) <span class="comment">#包含Dormouse的text</span></span><br><span class="line">[<span class="string">u&quot;The Dormouse&#x27;s story&quot;</span>, <span class="string">u&quot;The Dormouse&#x27;s story&quot;</span>]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_the_only_string_within_a_tag</span>(<span class="params">s</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;</span>Return <span class="literal">True</span> <span class="keyword">if</span> this string <span class="keyword">is</span> the only child of its parent tag.<span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> (s == s.parent.string)</span><br><span class="line">soup.find_all(string=is_the_only_string_within_a_tag)</span><br><span class="line"><span class="comment"># [u&quot;The Dormouse&#x27;s story&quot;, u&quot;The Dormouse&#x27;s story&quot;, u&#x27;Elsie&#x27;, u&#x27;Lacie&#x27;, u&#x27;Tillie&#x27;, u&#x27;...&#x27;]</span></span><br></pre></td></tr></table></figure></li>
<li><p>kewords</p>
<blockquote>
<p>kewords:   1. href id link 等tag.name   2. limit=2取两条 3. recursive=False 只搜子节点</p>
<p>=String、正则、列表、boolean</p>
</blockquote>
<ol>
<li><p>String–正则</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">soup.find_all(href=re.<span class="built_in">compile</span>(<span class="string">&quot;elsie&quot;</span>), <span class="built_in">id</span>=<span class="string">&#x27;link1&#x27;</span>)<span class="comment"># 找到 包含elsie且id为link1的href</span></span><br></pre></td></tr></table></figure></li>
<li><p>boolean</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">soup.find_all(<span class="built_in">id</span>=<span class="literal">True</span>)<span class="comment">#找到包含id的tags</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li></li>
</ol>
<h4 id="2-3-3-正则表达式"><a href="#2-3-3-正则表达式" class="headerlink" title="2.3.3 正则表达式"></a>2.3.3 正则表达式</h4><blockquote>
<p>如果传入正则表达式作为参数,Beautiful Soup会通过正则表达式的 <code>match()</code> 来匹配内容.</p>
</blockquote>
<p>找出所有以b开头的标签,这表示<body>和<b>标签都应该被找到:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">for</span> tag <span class="keyword">in</span> soup.find_all(re.<span class="built_in">compile</span>(<span class="string">&quot;^b&quot;</span>)):</span><br><span class="line">    <span class="built_in">print</span>(tag.name)       <span class="comment"># body  # b</span></span><br></pre></td></tr></table></figure>

<p>找出所有名字中包含”t”的标签:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> tag <span class="keyword">in</span> soup.find_all(re.<span class="built_in">compile</span>(<span class="string">&quot;t&quot;</span>)):</span><br><span class="line">    <span class="built_in">print</span>(tag.name)  <span class="comment"># html  # title</span></span><br></pre></td></tr></table></figure>

<h4 id="2-3-4-基础参数-：String、正则、列表、boolean"><a href="#2-3-4-基础参数-：String、正则、列表、boolean" class="headerlink" title="2.3.4 基础参数 ：String、正则、列表、boolean"></a>2.3.4 基础参数 ：String、正则、列表、boolean</h4><ol>
<li><p>boolean–lambda</p>
<p>下面方法校验了当前元素,如果包含 <code>class</code> 属性却不包含 <code>id</code> 属性,那么将返回 <code>True</code>:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">has_class_but_no_id</span>(<span class="params">tag</span>):</span></span><br><span class="line">    <span class="keyword">return</span> tag.has_attr(<span class="string">&#x27;class&#x27;</span>) <span class="keyword">and</span> <span class="keyword">not</span> tag.has_attr(<span class="string">&#x27;id&#x27;</span>)</span><br><span class="line">soup.find_all(has_class_but_no_id)</span><br><span class="line"><span class="comment"># [&lt;p class=&quot;title&quot;&gt;&lt;b&gt;The Dormouse&#x27;s story&lt;/b&gt;&lt;/p&gt;,</span></span><br><span class="line"><span class="comment">#  &lt;p class=&quot;story&quot;&gt;Once upon a time there were...&lt;/p&gt;,</span></span><br><span class="line"><span class="comment">#  &lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;]</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="2-3-5-keyword"><a href="#2-3-5-keyword" class="headerlink" title="2.3.5 keyword"></a>2.3.5 keyword</h4><ol>
<li>id</li>
<li>href</li>
</ol>
<h4 id="2-3-6-keyword-值"><a href="#2-3-6-keyword-值" class="headerlink" title="2.3.6 keyword 值"></a>2.3.6 keyword 值</h4><ol>
<li><p>正则      href=re.compile(“elsie”)</p>
</li>
<li><p>string   id=”testEle”</p>
</li>
<li><p>bool</p>
</li>
<li><p>列表</p>
<p>如果传入列表参数,Beautiful Soup会将与列表中任一元素匹配的内容返回.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">soup.find_all([<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>])</span><br><span class="line"><span class="comment"># [&lt;b&gt;The Dormouse&#x27;s story&lt;/b&gt;,</span></span><br><span class="line"><span class="comment">#  &lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="2-3-7-attrs"><a href="#2-3-7-attrs" class="headerlink" title="2.3.7 attrs"></a>2.3.7 attrs</h4><blockquote>
<p>对于keyword没有的key，那么用attr字典</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_soup.find_all(attrs=&#123;<span class="string">&quot;data-foo&quot;</span>: <span class="string">&quot;value&quot;</span>&#125;)</span><br><span class="line"><span class="comment"># [&lt;div data-foo=&quot;value&quot;&gt;foo!&lt;/div&gt;]</span></span><br></pre></td></tr></table></figure>

<h3 id="2-5-四种对象"><a href="#2-5-四种对象" class="headerlink" title="2.5 四种对象"></a>2.5 四种对象</h3><blockquote>
<p>Beautiful Soup将复杂HTML文档转换成一个复杂的树形结构,每个节点都是Python对象,所有对象可以归纳为4种: <code>Tag</code> , <code>NavigableString</code> , <code>BeautifulSoup</code> , <code>Comment</code> .</p>
</blockquote>
<h4 id="2-5-1-Tag-tag-soup-b"><a href="#2-5-1-Tag-tag-soup-b" class="headerlink" title="2.5.1 Tag  tag = soup.b"></a>2.5.1 Tag  tag = soup.b</h4><p>​    BeautifulSoup中的所有标签都是Tag类型,并且BeautifulSoup的对象Beautiful的对象其实本质上也是一个Tag类型,tag的属性可以被添加,删除或修改. 再说一次, tag的属性操作方法与字典一样。</p>
<h4 id="2-5-2-NavigableString"><a href="#2-5-2-NavigableString" class="headerlink" title="2.5.2 NavigableString"></a>2.5.2 NavigableString</h4><p>​    继承自python中的str,用起来就跟使用python的str是一样的。</p>
<h4 id="2-5-2-BeautifulSoup"><a href="#2-5-2-BeautifulSoup" class="headerlink" title="2.5.2 BeautifulSoup"></a>2.5.2 BeautifulSoup</h4><p>​    继承自Tag,用来生成BeautifulSoup树的。对于一些查找方法,比如find,select这些,其实还是Tag的</p>
<h4 id="2-5-2-Comment"><a href="#2-5-2-Comment" class="headerlink" title="2.5.2 Comment"></a>2.5.2 Comment</h4><p>​    继承NavigableString</p>
<h3 id="2-6-对象方法"><a href="#2-6-对象方法" class="headerlink" title="2.6 对象方法"></a>2.6 对象方法</h3><h4 id="2-6-1-tag"><a href="#2-6-1-tag" class="headerlink" title="2.6.1 tag"></a>2.6.1 tag</h4><ol>
<li>通过tag的名字获取属性 tag.title     <title>The Dormouse’s story</title> </li>
<li>tag.title.name   title   </li>
<li>获取有效字符串 tag.title.string    The Dormouse’s story</li>
<li>替换有效字符串 tag.string.replace_with(“No longer bold”)</li>
<li>tag.title.parent.name   head</li>
<li>获取所有属性tag.attrs   –&gt; # {u’class’:  u’boldest’}</li>
<li>获取特定属性 tag[‘class’] –&gt; # u’boldest’</li>
</ol>
<h3 id="2-7-其他"><a href="#2-7-其他" class="headerlink" title="2.7 其他"></a>2.7 其他</h3><h4 id="2-7-1-解析器"><a href="#2-7-1-解析器" class="headerlink" title="2.7.1 解析器"></a>2.7.1 解析器</h4><table>
<thead>
<tr>
<th>解析器</th>
<th>使用方法</th>
<th>优势</th>
<th>劣势</th>
</tr>
</thead>
<tbody><tr>
<td>Python标准库</td>
<td>BeautifulSoup(markup, “html.parser”)</td>
<td>Python的内置标准库执行速度适中文档容错能力强</td>
<td>Python 2.7.3 or 3.2.2)前 的版本中文档容错能力差</td>
</tr>
<tr>
<td>lxml HTML 解析器</td>
<td>BeautifulSoup(markup, “lxml”)</td>
<td>速度快文档容错能力强</td>
<td>需要安装C语言库</td>
</tr>
<tr>
<td>lxml XML 解析器</td>
<td><code>BeautifulSoup(markup, [&quot;lxml-xml&quot;])``BeautifulSoup(markup, &quot;xml&quot;)</code></td>
<td>速度快唯一支持XML的解析器</td>
<td>需要安装C语言库</td>
</tr>
<tr>
<td>html5lib</td>
<td><code>BeautifulSoup(markup, &quot;html5lib&quot;)</code></td>
<td>最好的容错性以浏览器的方式解析文档生成HTML5格式的文档</td>
<td>速度慢不依赖外部扩展</td>
</tr>
</tbody></table>
<h4 id="2-7-2-等价代码"><a href="#2-7-2-等价代码" class="headerlink" title="2.7.2 等价代码"></a>2.7.2 等价代码</h4><ol>
<li><p> soup.find_all(“a”) = soup(“a”)</p>
</li>
<li><p>soup.title.find_all(string=True) = soup.title(string=True)</p>
</li>
<li><p>soup.find_all(‘title’, limit=1) = soup.find(‘title’)</p>
</li>
<li><p>soup.head.title = soup.find(“head”).find(“title”) # <title>The Dormouse’s story</title></p>
</li>
</ol>
<h3 id="2-8-神技"><a href="#2-8-神技" class="headerlink" title="2.8 神技"></a>2.8 神技</h3><blockquote>
<p>tag的三大基本类型  attr,string,child</p>
</blockquote>
<h4 id="2-8-1-find-all"><a href="#2-8-1-find-all" class="headerlink" title="2.8.1 find_all"></a>2.8.1 find_all</h4><h4 id="2-8-1-自定义过滤"><a href="#2-8-1-自定义过滤" class="headerlink" title="2.8.1 自定义过滤"></a>2.8.1 自定义过滤</h4><ol>
<li><p>基于attr</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">atags=[tag <span class="keyword">for</span> tag <span class="keyword">in</span> tags <span class="keyword">if</span> tag.has_attr(<span class="string">&#x27;name&#x27;</span>) <span class="keyword">and</span> tag.attrs[<span class="string">&#x27;name&#x27;</span>]==<span class="string">&#x27;周六&#x27;</span>]</span><br></pre></td></tr></table></figure></li>
<li><p>基于string</p>
</li>
<li></li>
</ol>
<h4 id="2-8-3-tag获取attr-用"><a href="#2-8-3-tag获取attr-用" class="headerlink" title="2.8.3 tag获取attr  用[]"></a>2.8.3 tag获取attr  用[]</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">tag[<span class="string">&#x27;id&#x27;</span>]</span><br><span class="line"><span class="comment"># &#x27;id1&#x27;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-8-4-tag获取child用’-‘-children用"><a href="#2-8-4-tag获取child用’-‘-children用" class="headerlink" title="2.8.4 tag获取child用’ . ‘  children用()"></a>2.8.4 tag获取child用’ . ‘  children用()</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">tag.div</span><br><span class="line"><span class="comment"># &lt;div&gt;aaaa&lt;/div&gt;</span></span><br><span class="line">tag(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line"><span class="comment"># [&lt;div class=&quot;top_adimg&quot; id=&quot;dv_top_adimg&quot; style=&quot;margin: 0 auto; clear: both;width: 1000px;&quot;&gt;&lt;a href=&quot;http://www.310win.com/Recommend/RecommendIndex.aspx?t=1&amp;amp;bt=1&quot; target=&quot;_blank&quot;&gt;&lt;img height=&quot;40&quot; src=&quot;/Files/ff/fc_637196007271076151.jpg&quot; width=&quot;1000&quot;/&gt;&lt;/a&gt;&lt;/div&gt;]</span></span><br></pre></td></tr></table></figure>







]]></content>
      <categories>
        <category>utils</category>
      </categories>
  </entry>
  <entry>
    <title>python神技</title>
    <url>/2022/03/08/utils/python/python%E7%A5%9E%E6%8A%80/</url>
    <content><![CDATA[<ol>
<li><p>list(map(f,a))</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x, y: x + y, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], [-<span class="number">1</span>, -<span class="number">2</span>, -<span class="number">3</span>, -<span class="number">4</span>, -<span class="number">5</span>]))</span><br><span class="line"><span class="comment"># [0, 0, 0, 0, 0]</span></span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>utils</category>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title>springBoot</title>
    <url>/2022/03/08/spring/spring%E5%AE%B6%E6%97%8F/springBoot/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、配置"><a href="#一、配置" class="headerlink" title="一、配置"></a>一、配置</h2><h3 id="1-1-Banner"><a href="#1-1-Banner" class="headerlink" title="1.1 Banner"></a>1.1 Banner</h3><ol>
<li><p>网址<a href="http://patorjk.com/software/taag">http://patorjk.com/software/taag</a></p>
</li>
<li><p>选择</p>
<ol>
<li>3D-ASCLL</li>
<li>Doh</li>
</ol>
</li>
<li><p>配置： src/main/resouces/banner.txt</p>
</li>
<li><p>关闭banner</p>
<p>​    ```</p>
</li>
<li><p>Banner的变量</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">$&#123;AnsiColor.BRIGHT_YELLOW&#125;。</span><br><span class="line">$&#123;AnsiColor.BRIGHT_RED&#125;：设置控制台中输出内容的颜色</span><br><span class="line">$&#123;application.version&#125;：用来获取MANIFEST.MF文件中的版本号</span><br><span class="line">&#123;application.version&#125;版本信息</span><br><span class="line">$&#123;spring-boot.version&#125;：Spring Boot的版本号</span><br><span class="line">&#123;spring-boot.version&#125;版本信息</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="九、依赖理解"><a href="#九、依赖理解" class="headerlink" title="九、依赖理解"></a>九、依赖理解</h2><h3 id="9-1-spring-boot-starter"><a href="#9-1-spring-boot-starter" class="headerlink" title="9.1 spring-boot-starter"></a>9.1 spring-boot-starter</h3><ol>
<li>可以认为starter是一种服务（和JS的插件类似）——使得使用某个功能的开发者不需要关注各种依赖库的处理，不需要具体的配置信息，由Spring Boot自动通过classpath路径下的类发现需要的Bean，并织入bean</li>
</ol>
<span id="more"></span>]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>springMVC</title>
    <url>/2022/03/08/spring/spring%E5%AE%B6%E6%97%8F/springMVC/</url>
    <content><![CDATA[<p>[toc]</p>
<p><a href="https://www.cnblogs.com/bsjl/p/7723440.html">优秀文章</a></p>
<h2 id="一、MVC的理解"><a href="#一、MVC的理解" class="headerlink" title="一、MVC的理解"></a>一、MVC的理解</h2><blockquote>
<p>MVC包括MVC、MVP、MVVM</p>
</blockquote>
<h3 id="1-1-侠义MVC"><a href="#1-1-侠义MVC" class="headerlink" title="1.1 侠义MVC"></a>1.1 侠义MVC</h3><blockquote>
<p>mvc是前后端不分离的model view controller 对应springmvc的</p>
</blockquote>
<h4 id="1-1-1-mvc含义"><a href="#1-1-1-mvc含义" class="headerlink" title="1.1.1 mvc含义"></a>1.1.1 mvc含义</h4><ol>
<li>model=pojo    数据模型，核心</li>
<li>view=jsp/html+modelAndView 渲染数据</li>
<li>controller=controller，接收用户请求<ol>
<li>前端控制器 dispatch</li>
<li>后端控制器 controller</li>
</ol>
</li>
</ol>
<h4 id="1-1-2-ModelAndView"><a href="#1-1-2-ModelAndView" class="headerlink" title="1.1.2 ModelAndView"></a>1.1.2 ModelAndView</h4><ol>
<li>model 响应数据（map结构）/ javaBean    <ol>
<li>请求的最后阶段 框架会把数据加入到request作用域</li>
</ol>
</li>
<li>view jsp地址<ol>
<li>框架对视图执行forward重定向操作</li>
</ol>
</li>
</ol>
<h4 id="1-1-3-model-返回的数据"><a href="#1-1-3-model-返回的数据" class="headerlink" title="1.1.3 model  返回的数据"></a>1.1.3 model  返回的数据</h4><ol>
<li>modelAndView.addObject(“name”,”王勇敢”);其实和request.serAttribute(“name”,”王勇敢”)</li>
<li>四种数据<ol>
<li>obj<ol>
<li>json的转换   和    返回设置格式 context:json是固定重复代码</li>
<li>除去重复代码：基于消息转换器.jackon<ol>
<li>加入依赖  jackson-core  jackson-databind  注意版本</li>
<li>加入注解驱动 注意是mvc的driven</li>
<li>加@ResponseBody</li>
</ol>
</li>
<li>返回json原理<ol>
<li>注解驱动的接口httpMessageConverter定义很多obj转换方法，如xml,json,txt</li>
<li>spring注入这个接口的是是实现类。</li>
</ol>
</li>
</ol>
</li>
<li>string(视图路径)</li>
<li>string,int 数据</li>
<li>void使用response.WriteStream响应（只有数据，没有视图）</li>
</ol>
</li>
</ol>
<h3 id="1-2-MVVM"><a href="#1-2-MVVM" class="headerlink" title="1.2 MVVM"></a>1.2 MVVM</h3><blockquote>
<p>MVVM是流行的前后端分离model view modelAndView，这个更多的体现在前端</p>
</blockquote>
<ol>
<li>model=controller+pojo</li>
<li>view=html(model)</li>
<li>modelAndView=model-view转换器</li>
</ol>
<h3 id="1-3-mvc优缺点"><a href="#1-3-mvc优缺点" class="headerlink" title="1.3 mvc优缺点"></a>1.3 mvc优缺点</h3><h4 id="1-3-1-优点"><a href="#1-3-1-优点" class="headerlink" title="1.3.1 优点"></a>1.3.1 优点</h4><ol>
<li>耦合度低：表改了，只需修改model</li>
<li>复用性高：model可以在不同的视图中使用</li>
<li>可维护性高</li>
<li>分层，结构清晰，开发快</li>
</ol>
<h4 id="1-3-2-缺点："><a href="#1-3-2-缺点：" class="headerlink" title="1.3.2 缺点："></a>1.3.2 缺点：</h4><ol>
<li>适合大型项目，但是现在的小型项目也在使用这种模式，就有点得不偿失</li>
<li>增加了系统的复杂性，降低了运行效率</li>
</ol>
<h2 id="二、SpringMVC"><a href="#二、SpringMVC" class="headerlink" title="二、SpringMVC"></a>二、SpringMVC</h2><h3 id="2-1-概念"><a href="#2-1-概念" class="headerlink" title="2.1 概念"></a>2.1 概念</h3><ol>
<li><p>spring web mvc   spring&gt;3.0</p>
</li>
<li><p>支持restful</p>
</li>
<li><p>单例 每个servlet只有一个。所以说ssm是基于方法的，struts2是基于类的。</p>
</li>
<li><p>模块化，各个组件一次进行</p>
<ol>
<li>dispatch前端控制器</li>
<li>controller后端配置器</li>
<li>handler请求映射器</li>
<li>handlerAdapter处理适配器</li>
<li>ViewRelover视图解析器</li>
<li>验证器viliader Jsr303</li>
</ol>
</li>
<li><p>springmvc  spring、IOC是容器，ioc管理对象  </p>
<ol>
<li>&lt;bean&gt; @controller @respository @ mapper</li>
<li>@controller是控制器对象  不是servlet</li>
</ol>
</li>
</ol>
<h3 id="2-2-dispatcherservlet"><a href="#2-2-dispatcherservlet" class="headerlink" title="2.2 dispatcherservlet"></a>2.2 dispatcherservlet</h3><ol>
<li><p>springmvc 内置的<strong>超级servlet</strong> 用于接受所有请求 ，然后把请求分发给controller</p>
</li>
<li><p>dispatcherservlet别名</p>
<ol>
<li>超级servlet  继承自httpserlvet</li>
<li>中央调度器</li>
<li>前端控制器</li>
</ol>
</li>
<li><p>dispatcherservlet作用</p>
<ol>
<li>接受所有请求 调用控制器对象</li>
<li>把请求响应返还个用户</li>
<li>核心方法 doDispatch(req,resp)</li>
</ol>
</li>
</ol>
<h3 id="2-3-mvc启动过程"><a href="#2-3-mvc启动过程" class="headerlink" title="2.3 mvc启动过程"></a>2.3 mvc启动过程</h3><ol>
<li><p>tomcat启动  </p>
</li>
<li><p>创建dispatcher</p>
</li>
<li><p>执行servlet.inti() 创建sprig容器webapplicationContext</p>
</li>
<li><p>把spring容器放进serlevtContext</p>
<p>getServletContext().setAttribute(name,webapplicationContext)</p>
<p>这个servlet就是dispatcher</p>
</li>
<li><p>把对象注入spring容器</p>
</li>
</ol>
<h2 id="三、创建springmvc项目"><a href="#三、创建springmvc项目" class="headerlink" title="三、创建springmvc项目"></a>三、创建springmvc项目</h2><ol>
<li><p>创建</p>
<ol>
<li><p>maven -&gt;maven-archetype-webapp模板</p>
</li>
<li><p>加入依赖</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>wel.xml 全局serlvet配置</p>
</li>
<li><p>创建springmvc配置</p>
</li>
<li><p>创建控制器@Controller 加入@requetMapping</p>
</li>
<li><p>创建jsp</p>
</li>
</ol>
</li>
<li><p>idea配置</p>
<ol>
<li>项目结构–模块–删除部署描述  添加部署描述为web1.xml </li>
<li>更改web1.xml 为web.xml</li>
</ol>
</li>
<li><p>web.xml配置</p>
<ol>
<li>servlet<ol>
<li>name </li>
<li>url-partter</li>
</ol>
</li>
<li>过滤器 ：处理请求乱码</li>
</ol>
</li>
<li><p>st.xml配置</p>
<ol>
<li>控制器扫描器</li>
<li>视图解析器</li>
</ol>
</li>
<li><p>tomcat配置</p>
</li>
</ol>
<h3 id="注入mybatis的-mapper"><a href="#注入mybatis的-mapper" class="headerlink" title="注入mybatis的@mapper"></a>注入mybatis的@mapper</h3><h3 id="访问html"><a href="#访问html" class="headerlink" title="访问html"></a>访问html</h3><p>servlet-01.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mvc:resources</span> <span class="attr">mapping</span>=<span class="string">&quot;/html/**&quot;</span> <span class="attr">location</span>=<span class="string">&quot;classpath:html/&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="四、其他"><a href="#四、其他" class="headerlink" title="四、其他"></a>四、其他</h2><ol>
<li>@requestMapper{“a”,”b”} 访问两个路径都可以</li>
<li>url-parrten 为接受所有请求 且表示优先级最高 一般用于过滤器</li>
<li>访问资源<ol>
<li>动态资源.html/jsp的路径tomcat</li>
<li>静态资源  tomcat      因为tomcat内置一个dafaultServlet(在tomcat.conf)    启动的时候自动创建 ,<ol>
<li>处理为映射到controller.Mapping的路径</li>
<li>对所有的静态资源 </li>
<li>当某个servlet的url-patter为/或者/* 那么这个servlet就会接手这个内置servlet的工作</li>
</ol>
</li>
<li>url(controller)  有mvc内置的servlet    dispatchServlet处理</li>
</ol>
</li>
</ol>
<h2 id="五、SpringMVC问题"><a href="#五、SpringMVC问题" class="headerlink" title="五、SpringMVC问题"></a>五、SpringMVC问题</h2><ol>
<li>静态资源访问失败<ol>
<li>原因可能是servlet的partten接手了//资源，而静态资源默认是//路径</li>
<li>处理：加配置</li>
</ol>
</li>
</ol>
<h3 id="springmvc处理请求流程"><a href="#springmvc处理请求流程" class="headerlink" title="springmvc处理请求流程"></a>springmvc处理请求流程</h3><ol>
<li>tomcat–&gt;url-partter匹配—&gt;dispatcher—&gt;st.servlet—&gt;wyg.controller–&gt;TestController</li>
</ol>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211019003549650.png" alt="image-20211019003549650"></p>
]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>SpringCloud</title>
    <url>/2022/03/08/spring/spring%E5%AE%B6%E6%97%8F/springCloud/</url>
    <content><![CDATA[<p>[toc]</p>
<ol>
<li><p>springCloud是一系列框架的集合</p>
</li>
<li><p>自动挡的房车</p>
</li>
<li><p>依赖.pom+配置.properties+@注解</p>
</li>
<li><p>微服务架构技术落地实现的集合体，是微服务架构下的一站式解决方案</p>
<p>服务发现——Netflix Eureka /  nacos<br>客服端负载均衡——Netflix Ribbon</p>
<p>服务调用—— netflix fergn</p>
<p>断路器——Netflix Hystrix<br>服务网关——Netflix Zuul /Sprin Cloud CateWay<br>分布式配置——Spring Cloud Config /nacos</p>
<p>消息总线 —— Spring Cloud Bus/ nacos</p>
<span id="more"></span></li>
<li><h1 id="微服务实现"><a href="#微服务实现" class="headerlink" title="微服务实现"></a>微服务实现</h1><ol>
<li>微服务架构：SpringCloud、Dubbo、SpringCloudAlibaba</li>
<li>网关–&gt;负载均衡–&gt;微服务集群–&gt;数据库</li>
</ol>
<h2 id="ribbon负载均衡"><a href="#ribbon负载均衡" class="headerlink" title="ribbon负载均衡"></a>ribbon负载均衡</h2><h2 id="nacos注册中心"><a href="#nacos注册中心" class="headerlink" title="nacos注册中心"></a>nacos注册中心</h2></li>
</ol>
<h2 id="SpringCloud"><a href="#SpringCloud" class="headerlink" title="SpringCloud"></a>SpringCloud</h2><ol>
<li>版本对应</li>
</ol>
<table>
<thead>
<tr>
<th>springCloud</th>
<th>springBoot</th>
</tr>
</thead>
<tbody><tr>
<td><a href="https://github.com/spring-cloud/spring-cloud-release/wiki/Spring-Cloud-2020.0-Release-Notes">2020.0.x</a> aka Ilford</td>
<td>2.4.x, 2.5.x (Starting with 2020.0.3)</td>
</tr>
<tr>
<td><a href="https://github.com/spring-cloud/spring-cloud-release/wiki/Spring-Cloud-Hoxton-Release-Notes">Hoxton</a><a href="https://github.com/spring-cloud/spring-cloud-release/wiki/Spring-Cloud-Hoxton-Release-Notes">Hoxton</a></td>
<td>2.2.x, 2.3.x (Starting with SR5)</td>
</tr>
<tr>
<td><a href="https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Greenwich-Release-Notes">Greenwich</a><a href="https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Greenwich-Release-Notes">Greenwich</a></td>
<td>2.1.x2.1.x</td>
</tr>
<tr>
<td><a href="https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Finchley-Release-Notes">Finchley</a><a href="https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Finchley-Release-Notes">Finchley</a></td>
<td>2.0.x2.0.x</td>
</tr>
<tr>
<td><a href="https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Edgware-Release-Notes">Edgware</a></td>
<td>1.5.x</td>
</tr>
<tr>
<td><a href="https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Dalston-Release-Notes">Dalston</a></td>
<td>1.5.x</td>
</tr>
</tbody></table>
<h2 id="1、服务拆分、"><a href="#1、服务拆分、" class="headerlink" title="1、服务拆分、"></a>1、服务拆分、</h2><ol>
<li><p>数据独立、每个模块一个数据库</p>
</li>
<li><p><strong>提供者</strong>接口暴露</p>
</li>
<li><p>业务独立</p>
</li>
<li><p><strong>消费者</strong>远程调用<strong>提供者</strong>：8080–java代码发起请求http请求—&gt;8081</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//application中注入RestTemplate</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> RestTemplate <span class="title">restTemplate</span><span class="params">(id)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> RestTemplate(param)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//service调用restTemplate</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">(order)</span></span>&#123;</span><br><span class="line">	String url=<span class="string">&quot;http://localhost:8081/user/&quot;</span>+order.getId<span class="string">&#x27;;</span></span><br><span class="line"><span class="string">    return restTemplate.getForObject(url,User.class).getName();</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="eureka注册中心"><a href="#eureka注册中心" class="headerlink" title="eureka注册中心"></a>eureka注册中心</h2><ol>
<li><p>8081可能会改变，所以需要用注册中心</p>
</li>
<li><p>消费者—注册中心—提供者</p>
</li>
<li><p>每一个模块启动，都会向eureka注册的报道登记（每30秒也会）（因为每一个模块都可能成为提供者），比如user模块：我来了，我是user。如果30s内没有报道，就会除去这个接口。</p>
</li>
<li><p>然后来了一个消费者：帮我找找user，看有没有，eureka一看有3个User，eureka就会根据负载均衡挑选一个接口。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//application中注入RestTemplate</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="meta">@LoadBalance</span> <span class="comment">//负载均衡</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> RestTemplate <span class="title">restTemplate</span><span class="params">(id)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> RestTemplate(param)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//service调用restTemplate</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">(order)</span></span>&#123;</span><br><span class="line">	String url=<span class="string">&quot;http://userservice/user/&quot;</span>+order.getId<span class="string">&#x27;;</span></span><br><span class="line"><span class="string">    return restTemplate.getForObject(url,User.class).getName();</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="Riboon负载均衡"><a href="#Riboon负载均衡" class="headerlink" title="Riboon负载均衡"></a>Riboon负载均衡</h3><ol>
<li><p>步骤</p>
<img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20210913002823604.png" alt="image-20210913002823604" style="zoom:80%;" /></li>
<li><p>负载均衡原理：Riboon负载均衡的原则是IRule接口实现的ZoneAvoiddanceRule&lt;—-RoundRobinRule，是轮循类。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">其中zone可以指定地方</span><br><span class="line">会优先原则离这个地方最近的服务接口</span><br><span class="line">其他调整方法：</span><br><span class="line">	<span class="meta">@Bean</span></span><br><span class="line">   	<span class="function"><span class="keyword">public</span> IRule <span class="title">testRule</span><span class="params">()</span></span>&#123;</span><br><span class="line">    	<span class="keyword">return</span> RandomRule(); 随机</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="Nacos注册中心—-gt-eureka"><a href="#Nacos注册中心—-gt-eureka" class="headerlink" title="Nacos注册中心—&gt;eureka"></a>Nacos注册中心—&gt;eureka</h3><ol>
<li><p>特点：</p>
<ol>
<li>房产中介，桥梁，注册中心</li>
</ol>
</li>
<li><p>启动</p>
<figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">startup.<span class="built_in">cmd</span> -m standalone </span><br><span class="line">其中nacos中</span><br><span class="line">	standlone是单机启动</span><br><span class="line">	clusters</span><br></pre></td></tr></table></figure></li>
<li></li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>spring-secruity</title>
    <url>/2022/03/08/spring/spring%E5%AE%B6%E6%97%8F/springSecruity/</url>
    <content><![CDATA[<h3 id="project1"><a href="#project1" class="headerlink" title="project1"></a>project1</h3><ol>
<li><p>database</p>
<p>user</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">username,series,token,last_used</span><br></pre></td></tr></table></figure></li>
<li><p>配置类</p>
<ol>
<li><p>注入数据库</p>
</li>
<li><p>@configuration</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> DataSource dataSource;</span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> PersistentTokenRepository <span class="title">persistentTokenRepository</span><span class="params">()</span></span>&#123;</span><br><span class="line">    JdbcTokenRepositoryImpl jdbcTokenRepository=<span class="keyword">new</span> JdbcTokenRepositoryImpl();</span><br><span class="line">    jdbcTokenRepository.setDataSource(dataSource);</span><br><span class="line">    <span class="comment">//        jdbcTokenRepository.setCreateTableOnStartup();</span></span><br><span class="line">    <span class="keyword">return</span> jdbcTokenRepository;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> </span></span><br><span class="line"><span class="function">.<span class="title">and</span><span class="params">()</span>.<span class="title">rememberMe</span><span class="params">()</span>.<span class="title">tokenRepository</span><span class="params">(persistentTokenRepository()</span>)<span class="comment">//配置数据库--token</span></span></span><br><span class="line"><span class="function">                .<span class="title">tokenValiditySeconds</span><span class="params">(<span class="number">4</span>)</span><span class="comment">//设置有效时长</span></span></span><br><span class="line"><span class="function">                .<span class="title">userDetailsService</span><span class="params">(userDetailsService)</span></span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
   <span id="more"></span>

<ol start="3">
<li><p>csrf 跨站请求伪造</p>
<ol>
<li><p>依赖</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">     &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;</span><br><span class="line">     &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;	</span><br></pre></td></tr></table></figure></li>
<li></li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>bean生命周期</title>
    <url>/2022/03/08/spring/spring%E6%A0%B8%E5%BF%83/Bean%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/</url>
    <content><![CDATA[<h3 id="Bean声明周期"><a href="#Bean声明周期" class="headerlink" title="Bean声明周期"></a>Bean声明周期</h3><p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211021203128542.png" alt="image-20211021203128542"></p>
<ol>
<li><a href="https://www.cnblogs.com/javazhiyin/p/10905294.html">整体步骤-摘自</a>    <ol>
<li>Spring启动，查找并加载需要被Spring管理的bean，进行Bean的实例化</li>
<li>Bean实例化后对将Bean的引入和值注入到Bean的属性中</li>
<li>如果Bean实现了BeanNameAware接口的话，Spring将Bean的Id传递给setBeanName()方法</li>
<li>如果Bean实现了BeanFactoryAware接口的话，Spring将调用setBeanFactory()方法，将BeanFactory容器实例传入</li>
<li>如果Bean实现了ApplicationContextAware接口的话，Spring将调用Bean的setApplicationContext()方法，将bean所在应用上下文引用传入进来。</li>
<li>如果Bean实现了BeanPostProcessor接口，Spring就将调用他们的postProcessBeforeInitialization()方法。</li>
<li>如果Bean 实现了InitializingBean接口，Spring将调用他们的afterPropertiesSet()方法。类似的，如果bean使用init-method声明了初始化方法，该方法也会被调用</li>
<li>如果Bean 实现了BeanPostProcessor接口，Spring就将调用他们的postProcessAfterInitialization()方法。</li>
<li>此时，Bean已经准备就绪，可以被应用程序使用了。他们将一直驻留在应用上下文中，直到应用上下文被销毁。</li>
<li>如果bean实现了DisposableBean接口，Spring将调用它的destory()接口方法，同样，如果bean使用了destory-method 声明销毁方法，该方法也会被调用。</li>
</ol>
</li>
<li>创建声明周期</li>
</ol>
<h3 id="特别的"><a href="#特别的" class="headerlink" title="特别的"></a>特别的</h3><ol>
<li><p>@componet</p>
<ol>
<li><p>这个类就会在运行的时候放入单例池</p>
<ol>
<li>spring通过它的构造方法–&gt;默认无</li>
<li>或者用@autoware注解加在指定注解上。</li>
<li>对于有参的构造方法，从spring容器中找到对应的<ol>
<li>现根据类型，如果找到多个，再根据名字找</li>
<li>先 by Type</li>
<li>byName 容器里面可以有很多名称不一样但同类的bean</li>
</ol>
</li>
</ol>
</li>
<li><p>可以作为别人的依赖/注入bean. @autuware</p>
</li>
<li><p>可以注入属性@value</p>
</li>
<li><p>@PostConstruct.Method</p>
<p>初始化前，运行这个方法</p>
<p>这样能够处理一些配置文件不能处理的属性。</p>
</li>
<li><p>implements InitializiBean 对于实现了这个接口的componet</p>
<p>@override</p>
<p>初始化(属性注入完后运行这个方法)  public void AfterProper</p>
</li>
<li><p>初始化后</p>
<ol>
<li>AOP–&gt;代理对象</li>
</ol>
</li>
<li><p>对应于注入，基于反射+注解</p>
<p>扫描注解，扫描到通过反射+池子注入</p>
</li>
</ol>
</li>
<li><p>一些官方方法</p>
<ol>
<li>doCreateBean</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>springAOP</title>
    <url>/2022/03/08/spring/spring%E6%A0%B8%E5%BF%83/springAOP/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、AOP术语"><a href="#一、AOP术语" class="headerlink" title="一、AOP术语"></a>一、AOP术语</h2><p><a href="https://mrbird.cc/AOP%E6%9C%AF%E8%AF%AD.html">参考</a></p>
<h3 id="1-通知"><a href="#1-通知" class="headerlink" title="1. 通知"></a>1. 通知</h3><ol>
<li><code>Before</code> —— 在方法被调用之前调用通知。</li>
<li><code>After</code> —— 在方法完成之后调用通知，无论方法是否执行成功。</li>
<li><code>After-returning</code> —— 在方法成功执行之后调用通知。</li>
<li><code>After-throwing</code> —— 在方法抛出异常以后调用通知。</li>
<li><code>Around</code> —— 通知包裹了被通知的方法，在被通知的方法调用之前和调用之后执行自定义的行为。</li>
</ol>
<h3 id="2-连接点-Joinpoint"><a href="#2-连接点-Joinpoint" class="headerlink" title="2. 连接点(Joinpoint)"></a>2. 连接点(Joinpoint)</h3><blockquote>
<p>​    连接点是在应用执行过程中能够插入切面的一个点。这个点可以是调用方法时，抛出异常时，甚至是修改一个字段时。切面代码可以利用这些点插入到应用的正常流程之中，并添加新的行为。</p>
</blockquote>
<h3 id="3-切点-Pointcut"><a href="#3-切点-Pointcut" class="headerlink" title="3. 切点(Pointcut)"></a>3. 切点(Pointcut)</h3><blockquote>
<p>​    切点的定义会匹配通知所要织入的一个或多个连接点。我们通常使用明确的类和方法名称来指定这些切点，或是利用正则表达式定义匹配的类和方法名称模式来指定这些切点。</p>
</blockquote>
<h3 id="4-切面-Aspect"><a href="#4-切面-Aspect" class="headerlink" title="4. 切面(Aspect)"></a>4. 切面(Aspect)</h3><blockquote>
<p>​    切面是通知和切点的结合。通知和切点共同定义了关于切面的全部内容 —— 它是什么，在何时和何处完成其功能。</p>
</blockquote>
<h3 id="5-引入-Introduction"><a href="#5-引入-Introduction" class="headerlink" title="5. 引入(Introduction)"></a>5. 引入(Introduction)</h3><blockquote>
<p>​    引入允许我们向现有的类添加新的方法和属性。</p>
</blockquote>
<h3 id="6-织入-Weaving"><a href="#6-织入-Weaving" class="headerlink" title="6. 织入(Weaving)"></a>6. 织入(Weaving)</h3><blockquote>
<p>​    织入是将切面应用到目标对象来创建新的代理对象的过程。切面在指定的连接点被织入到目标对象中。在目标对象的生命周期里有多个点可以进行织入：</p>
</blockquote>
<ul>
<li>编译器 —— 切面在目标类编译时被织入。</li>
<li>类加载期 —— 切面在目标类加载到JVM时被织入。</li>
<li>运行期 —— 切面在应用运行的某个时候被织入。Spring AOP就是以这种方式织入切面的。</li>
</ul>
<h2 id="二、springAop关键对象"><a href="#二、springAop关键对象" class="headerlink" title="二、springAop关键对象"></a>二、springAop关键对象</h2><table>
<thead>
<tr>
<th align="left">Aspect</th>
<th>一个模块具有一组提供横切需求的 APIs。例如，一个日志模块为了记录日志将被 AOP 方面调用。应用程序可以拥有任意数量的方面，这取决于需求。</th>
<th>切面</th>
<th>@Aspect</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Join point</td>
<td>在你的应用程序中它代表一个点，你可以在插件 AOP 方面。你也能说，它是在实际的应用程序中，其中一个操作将使用 Spring AOP 框架。</td>
<td>连接点</td>
<td>ProceedingJoinPoint</td>
</tr>
<tr>
<td align="left">Advice</td>
<td>这是实际行动之前或之后执行的方法。这是在程序执行期间通过 Spring AOP 框架实际被调用的代码。</td>
<td>通知</td>
<td>@before,after</td>
</tr>
<tr>
<td align="left">Pointcut</td>
<td>这是一组一个或多个连接点，通知应该被执行。你可以使用表达式或模式指定切入点正如我们将在 AOP 的例子中看到的。</td>
<td>切点</td>
<td>@Pointcut</td>
</tr>
<tr>
<td align="left">Introduction</td>
<td>引用允许你添加新方法或属性到现有的类中。</td>
<td></td>
<td></td>
</tr>
<tr>
<td align="left">Target object</td>
<td>被一个或者多个方面所通知的对象，这个对象永远是一个被代理对象。也称为被通知对象。</td>
<td></td>
<td></td>
</tr>
<tr>
<td align="left">Weaving</td>
<td>Weaving 把方面连接到其它的应用程序类型或者对象上，并创建一个被通知的对象。这些可以在编译时，类加载时和运行时完成。</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="切入点表达式"><a href="#切入点表达式" class="headerlink" title="切入点表达式"></a>切入点表达式</h2><h3 id="execution-标准式"><a href="#execution-标准式" class="headerlink" title="@execution 标准式"></a>@execution 标准式</h3><h3 id="within-包、类的所有方法"><a href="#within-包、类的所有方法" class="headerlink" title="within 包、类的所有方法"></a>within 包、类的所有方法</h3><h3 id="annotation-注解"><a href="#annotation-注解" class="headerlink" title="@annotation 注解"></a>@annotation 注解</h3><h2 id="三、AOP使用"><a href="#三、AOP使用" class="headerlink" title="三、AOP使用"></a>三、AOP使用</h2><h3 id="3-1-日志"><a href="#3-1-日志" class="headerlink" title="3.1 日志"></a>3.1 日志</h3><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="string">``</span><span class="string">`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 2.1.1 基于注解</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">1. 设置注解</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">   `</span><span class="string">``</span>java</span><br><span class="line">   <span class="keyword">public</span> <span class="meta">@interface</span> Log &#123;</span><br><span class="line">   	<span class="built_in">String</span> value() <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>加入切入点</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Pointcut(&quot;@annotation(com.wyg.myAnnotation.Log)&quot;)</span><span class="comment">//任意有这个注解的切入</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pointcut</span><span class="params">()</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>加入环绕方法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Around(&quot;pointcut()&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">around</span><span class="params">(ProceedingJoinPoint point)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> beginTime = System.currentTimeMillis();</span><br><span class="line">    point.proceed();			<span class="comment">// 执行方法</span></span><br><span class="line">    <span class="comment">// 执行时长(毫秒)</span></span><br><span class="line">    <span class="keyword">long</span> time = System.currentTimeMillis() - beginTime;</span><br><span class="line">    <span class="comment">// 保存日志</span></span><br><span class="line">    saveLog(point, time);</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="2-1-2-基于方法名称"><a href="#2-1-2-基于方法名称" class="headerlink" title="2.1.2 基于方法名称"></a>2.1.2 基于方法名称</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Pointcut(&quot;@execution(com.springboot.controller.TestController.methodTwo)&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pointcut</span><span class="params">()</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="三、execution语法"><a href="#三、execution语法" class="headerlink" title="三、execution语法"></a>三、execution语法</h2><h3 id="3-1-基本格式"><a href="#3-1-基本格式" class="headerlink" title="3.1 基本格式"></a>3.1 基本格式</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">execution(A com.<span class="keyword">package</span>..B.C(..))</span><br></pre></td></tr></table></figure>

<p>A 返回类型</p>
<p>B 类名</p>
<p>C 方法名</p>
<p>第一个 .. 当前包和子包，还可以写. 表示当前包</p>
<p>第二个.. 表示任意参数 </p>
<h2 id="四、JointPoint-获取连接点信息"><a href="#四、JointPoint-获取连接点信息" class="headerlink" title="四、JointPoint  获取连接点信息"></a>四、JointPoint  获取连接点信息</h2><p><strong>ProceedingJoinPoint只支持around</strong></p>
<table>
<thead>
<tr>
<th>方法名</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>Signature getSignature();</td>
<td>获取封装了署名信息的对象,在该对象中可以获取到目标方法名,所属类的Class等信息</td>
</tr>
<tr>
<td>Object[] getArgs();</td>
<td>获取传入目标方法的参数对象</td>
</tr>
<tr>
<td>Object getTarget();</td>
<td>获取被代理的对象</td>
</tr>
<tr>
<td>Object getThis();</td>
<td>获取代理对象</td>
</tr>
</tbody></table>
<h2 id="五、ProceedingJoinPoint"><a href="#五、ProceedingJoinPoint" class="headerlink" title="五、ProceedingJoinPoint"></a>五、ProceedingJoinPoint</h2>]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>springIOC</title>
    <url>/2022/03/08/spring/spring%E6%A0%B8%E5%BF%83/springIOC/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="IOC概念"><a href="#IOC概念" class="headerlink" title="IOC概念"></a>IOC概念</h2><h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><ol>
<li><p>解决的问题</p>
<ol>
<li>原来一个对象使用另一个对象，只能new <ul>
<li>只能new,加入我改变了new 的参数,<font color='red'>那我要在很多代码里面改</font>那我要在很多代码里面改，耦合度太高 ，所以创建一个工厂统一管理对象的创建，用到的地方不需要知道怎么new，只需要过去就行了</li>
<li>每次都New 很浪费资源，所以<font color='red'>改为</font>通过xml解析获得</li>
<li>Class.forName获取,进一步获取bean，进一步降低耦合度</li>
</ul>
</li>
<li></li>
</ol>
</li>
<li><p>技术</p>
<ul>
<li>xml解析</li>
<li>工厂模式</li>
<li>反射技术</li>
<li>DI技术</li>
</ul>
</li>
</ol>
<h2 id="bean注册"><a href="#bean注册" class="headerlink" title="bean注册"></a>bean注册</h2><h3 id="1-sping-xml注册"><a href="#1-sping-xml注册" class="headerlink" title="1. sping.xml注册"></a>1. sping.xml注册</h3><ol>
<li><p>注意</p>
<ul>
<li>默认无参构造,也可以有参</li>
<li>注入属性是基于DI</li>
</ul>
</li>
<li><p>属性注入方法</p>
<ol>
<li><p>set方法&lt;properity&gt;</p>
</li>
<li><p>构造函数</p>
</li>
<li><p>p命名空间 基于set</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">xmlns:p=&quot;http://www.springframework.org/schema/p&quot;</span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;s2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.wyg.epidemicsituation.entity.vo.Student&quot;</span> <span class="attr">p:age</span>=<span class="string">&quot;20&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>属性注入特殊情况</p>
<ol>
<li><p>null  &lt;null&gt;&lt;/null&gt;</p>
</li>
<li><p>大于小于号;lt</p>
</li>
<li><p>外部bean</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;testID&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>内部bean,作用和外部bean一样，就是形式不一样</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;aa&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span>&lt;/<span class="attr">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>注册bean</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;s2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.wyg.epidemicsituation.entity.vo.Student&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;20&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;wang&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span>//有参</span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>getBean</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ApplicationContext ioc=<span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;/config/beans.xml&quot;</span>);</span><br><span class="line">Student student= (Student) ioc.getBean(<span class="string">&quot;s2&quot;</span>) ;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="2-注解配置"><a href="#2-注解配置" class="headerlink" title="2.  注解配置"></a>2.  注解配置</h3><h2 id="二-获取bean"><a href="#二-获取bean" class="headerlink" title="二 获取bean"></a>二 获取bean</h2><ol>
<li>i</li>
</ol>
<h3 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h3><ol>
<li><p>qualifier要小写,且要和@autowire一起使用</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Qualifier(&quot;companyIntroServiceImpl&quot;)</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="spring中两种Bean"><a href="#spring中两种Bean" class="headerlink" title="spring中两种Bean"></a>spring中两种Bean</h3><ul>
<li>普通bean<ul>
<li>定义Student 返回就是Student</li>
</ul>
</li>
<li>工厂bean<ul>
<li>定义为Student，返回可能是其他类型</li>
<li>接口FactoryBean</li>
</ul>
</li>
</ul>
<h3 id="Bean的作用域"><a href="#Bean的作用域" class="headerlink" title="Bean的作用域"></a>Bean的作用域</h3><p>spring里面bean默认为单例，可以设置为单例和多例</p>
<ol>
<li><p>设置为多例 </p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">&lt;bean  <span class="attribute">scope</span>=<span class="string">&quot;prototype&quot;</span>&gt; 多例</span><br><span class="line"> <span class="attribute">scope</span>=<span class="string">&quot;session&quot;</span>   保存在session中</span><br></pre></td></tr></table></figure></li>
<li><p>多例规则：懒加载</p>
</li>
<li><p>单例规则：饿汉式</p>
</li>
</ol>
<h3 id="Bean的声明周期"><a href="#Bean的声明周期" class="headerlink" title="Bean的声明周期"></a>Bean的声明周期</h3><h3 id="循环依赖"><a href="#循环依赖" class="headerlink" title="循环依赖"></a>循环依赖</h3>]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>spring注解2</title>
    <url>/2022/03/08/spring/%E6%B3%A8%E8%A7%A3/spring%E6%B3%A8%E8%A7%A32/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、Spring缓存"><a href="#一、Spring缓存" class="headerlink" title="一、Spring缓存"></a>一、Spring缓存</h2><h3 id="1-1-注意"><a href="#1-1-注意" class="headerlink" title="1.1 注意"></a>1.1 注意</h3><ol>
<li>前提<ul>
<li>entity要implements Serializable </li>
<li>连接redis</li>
</ul>
</li>
<li>就算数据库没查到，方法返回Null，也会存入数据库null</li>
</ol>
<h3 id="1-2-CacheConfig"><a href="#1-2-CacheConfig" class="headerlink" title="1.2 @CacheConfig"></a>1.2 @CacheConfig</h3><p>类级别注解，设置全局cacheName，如果方法已经设置了value，那么这个值就会被忽略.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@CacheConfig(cacheNames = &quot;studenta&quot;)</span></span><br></pre></td></tr></table></figure>

<h3 id="1-3-Cacheable"><a href="#1-3-Cacheable" class="headerlink" title="1.3 @Cacheable"></a>1.3 @Cacheable</h3><p>每次操作这个函数，设置k=value::key，</p>
<ul>
<li><font color="red">查找redis有没有这个key，如果有，那么直接返回</font></li>
<li>如果没有，mysql查询得到，然后向redis插入（k：放回值）</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Cacheable(cacheNames = &quot;studentb&quot;,key = &quot;#p0&quot;)</span><span class="comment">//cacheNames和value是等价的</span></span><br></pre></td></tr></table></figure>

<h3 id="1-4-CachePut"><a href="#1-4-CachePut" class="headerlink" title="1.4 @CachePut"></a>1.4 @CachePut</h3><p>每次操作这个函数，设置k=value::key，然后去redis查找又没有k,有的话就把（k:原来的v），换成（k:<font color="red">返回的值</font>）</p>
<h3 id="1-5-ChacheEvict"><a href="#1-5-ChacheEvict" class="headerlink" title="1.5 @ChacheEvict"></a>1.5 @ChacheEvict</h3><p>每次操作这个函数，设置k=value::key，然后去redis查找又没有k，有的话就把这个数据删掉</p>
<h3 id="1-6-缓存参数"><a href="#1-6-缓存参数" class="headerlink" title="1.6 缓存参数"></a>1.6 缓存参数</h3><ol>
<li>value = “studentc”   设置k前缀</li>
<li>cacheName 等价于value</li>
<li> key = “#p0”   设置k后缀  前后缀用::分割  </li>
<li>这是个el表达式</li>
<li>#p0表示参数</li>
<li> “#p0.id” 第一个参数的id</li>
<li>condition=”el”<ol>
<li>#student.id&gt;100 表示参数student的id大于100才进行缓存操作             </li>
</ol>
</li>
<li> allEntries = true</li>
<li>sync异步</li>
</ol>
<h2 id="二、Bean"><a href="#二、Bean" class="headerlink" title="二、Bean"></a>二、Bean</h2><h3 id="Scope-Bean作用域"><a href="#Scope-Bean作用域" class="headerlink" title="@Scope Bean作用域"></a>@Scope Bean作用域</h3><p>@Scope(value=”prototype”) 多例   默认单例</p>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="1-事务"><a href="#1-事务" class="headerlink" title="1. 事务"></a>1. 事务</h3><p>@Transactional</p>
<blockquote>
<p>方法/类级别，报错会撤回所有操作，基于aop</p>
</blockquote>
<p>原理: <a href="https://blog.csdn.net/qq_20597727/article/details/84868035">https://blog.csdn.net/qq_20597727/article/details/84868035</a></p>
<ol start="2">
<li>发现：<ol>
<li>只对mysql有事务回滚</li>
<li>所有猜想是基于mysql的log回滚</li>
</ol>
</li>
<li>IOException不会回滚，因为这个是个需检查异常：checkedException,可以在注解上加上异常类型来回滚该异常。</li>
</ol>
]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>spring注解</title>
    <url>/2022/03/08/spring/%E6%B3%A8%E8%A7%A3/spring%E6%B3%A8%E8%A7%A30/</url>
    <content><![CDATA[<p>[toc]</p>
<p><a href="http://www.chengxudaren.com/blog/article/show/id/216.html">springboot注解大全</a></p>
<h3 id="Controller的注解"><a href="#Controller的注解" class="headerlink" title="Controller的注解"></a>Controller的注解</h3><ol>
<li><p>method</p>
<ol>
<li><p>@SessionAttributes(“uid”) mvc用，现在不用了</p>
</li>
<li><p>@Validated</p>
</li>
<li><p>@ApiOperation(“新增字典”)  swagger</p>
</li>
<li><p>@PreAuthorize(“@el.check(‘dict:list’)”)</p>
</li>
<li><p>lombok.@RequiredArgsConstructor 自动注入+ final</p>
<span id="more"></span></li>
</ol>
</li>
<li><p>attrbute</p>
<ol>
<li>@Validated 校验 validation-api </li>
</ol>
</li>
<li><p>class</p>
<ol>
<li>@RestController  全体返回json</li>
<li>@RequestMapping(“/api/dict”) 全局地址</li>
<li>@Api(tags = “系统：字典管理”) swagger</li>
<li><a href="https://www.cnblogs.com/tian874540961/p/12146467.html">@ConfigurationProperties</a></li>
</ol>
</li>
</ol>
<h3 id="service-mapper"><a href="#service-mapper" class="headerlink" title="service-mapper"></a>service-mapper</h3><ol>
<li>method</li>
<li>class</li>
<li><a href="https://blog.csdn.net/chuang504321176/article/details/80672740">@Value</a>–&gt;引入</li>
<li>@Transactional spring事务</li>
<li></li>
</ol>
<h3 id="DTO"><a href="#DTO" class="headerlink" title="DTO"></a>DTO</h3><ol>
<li>@ApiModelProperty(value = “字典标签”)</li>
<li>lombok.@ToString(callSuper = true) 输出父类属性</li>
</ol>
<h3 id="Config"><a href="#Config" class="headerlink" title="Config"></a>Config</h3><ol>
<li><p>@RestControllerAdvice  controller全局增强，捕获全局异常<a href="https://www.jianshu.com/p/47aeeba6414c">统一异常处理</a></p>
</li>
<li><p>@ExceptionHandler(value = Exception.class)  捕获指定异常</p>
</li>
<li><p>方法上@PostConstrcut</p>
</li>
<li><p>方法上@Bean</p>
</li>
</ol>
<h3 id="普通"><a href="#普通" class="headerlink" title="普通"></a>普通</h3><ol>
<li>标记接口<ol>
<li>serializable 可序列化 </li>
<li>cloneable 对象可克隆</li>
<li>SingleThreadModel 单线程(过时的)</li>
</ol>
</li>
<li></li>
</ol>
]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>spring配置注解</title>
    <url>/2022/03/08/spring/%E6%B3%A8%E8%A7%A3/spring%E9%85%8D%E7%BD%AE%E6%B3%A8%E8%A7%A3/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、配置型注解"><a href="#一、配置型注解" class="headerlink" title="一、配置型注解"></a>一、配置型注解</h2><h3 id="1-1-Bean"><a href="#1-1-Bean" class="headerlink" title="1.1 @Bean"></a>1.1 @Bean</h3><p><a href="https://www.cnblogs.com/feiyu127/p/7700090.html">参考</a></p>
<ol>
<li><p>@Bean</p>
<ul>
<li>@Bean是一个方法级别上的注解，主要用在@Configuration注解的类里，也可以用在@Component注解的类里。添加的bean的id为方法名</li>
<li>对于依赖型的@Bean，直接用参数注入</li>
</ul>
</li>
<li><p>注入IOC</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IOC</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Bean2 <span class="title">bean2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Bean2();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Bean3 <span class="title">getBean3</span><span class="params">(Bean2 bean2)</span> </span>&#123;</span><br><span class="line">        Bean3 bean3 = <span class="keyword">new</span> Bean3();</span><br><span class="line">        bean3.setName(<span class="string">&quot;zhang&quot;</span>);</span><br><span class="line">        bean3.setBean2(bean2);</span><br><span class="line">        <span class="keyword">return</span> bean3;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Bean3 <span class="title">needBean3</span><span class="params">(Bean2 bean2)</span> </span>&#123;</span><br><span class="line">        Bean3 bean3 = <span class="keyword">new</span> Bean3();</span><br><span class="line">        bean3.setName(<span class="string">&quot;wang&quot;</span>);</span><br><span class="line">        bean3.setBean2(bean2);</span><br><span class="line">        <span class="keyword">return</span> bean3;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Controller</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier(&quot;needBean3&quot;)</span></span><br><span class="line">    Bean3 bean31;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier(&quot;getBean3&quot;)</span></span><br><span class="line">    Bean3 bean32;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;获得bean&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;bean1&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ApiResult <span class="title">bean1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(bean31);</span><br><span class="line">        System.out.println(bean32);</span><br><span class="line">        <span class="keyword">return</span> ApiResult.ok();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Bean3(name=wang, age=<span class="number">0</span>, bean2=com.wyg.boottest.config.bean.Bean2@<span class="number">50906524</span>)</span><br><span class="line">Bean3(name=zhang, age=<span class="number">0</span>, bean2=com.wyg.boottest.config.bean.Bean2@<span class="number">50906524</span>)</span><br></pre></td></tr></table></figure>

<p>等同于</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;getBean3&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.wyg.epidemicsituation.entity.vo.Bean3&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;Bean2&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;bean2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>属性</p>
<ul>
<li><p>name 自定义名字</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean(name = &#123;&quot;myFoo&quot;,&quot;y&quot;&#125;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Foo <span class="title">foo</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    return new <span class="title">Foo</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>获取@Configruation的beans见@Configruation</p>
</li>
</ol>
<h3 id="1-2-Configruation"><a href="#1-2-Configruation" class="headerlink" title="1.2 @Configruation"></a>1.2 @Configruation</h3><ol>
<li><p>获取Context,这种方法相当于另创一个@Configruation，里面的@Bean需要重新创建一遍</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">AnnotationConfigApplicationContext applicationContext2 = <span class="keyword">new</span> AnnotationConfigApplicationContext(BeanConfig.class);</span><br></pre></td></tr></table></figure></li>
<li><p>从Spring3.0，@Configuration用于定义配置类，可替换xml配置文件，被注解的类内部包含有一个或多个被@Bean注解的方法，这些方法将会被AnnotationConfigApplicationContext或AnnotationConfigWebApplicationContext类进行扫描，并用于构建bean定义，初始化Spring容器。</p>
<ol>
<li>@Configuration不可以是final类型；</li>
<li>@Configuration不可以是匿名类；</li>
<li>嵌套的configuration必须是静态类</li>
</ol>
</li>
<li><p>一个@Configuration下面可以定义多个@Bean</p>
</li>
<li><p>基于java而没注解@Configuration的注册方法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">AnnotationConfigApplicationContext cxt=<span class="keyword">new</span> AnnotationConfigApplicationContext();</span><br><span class="line">cxt.register(MyConfig.class);</span><br><span class="line">cxt.getBean(<span class="string">&quot;aaa&quot;</span>)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="1-3-Service-controller-repository和-Component区别"><a href="#1-3-Service-controller-repository和-Component区别" class="headerlink" title="1.3 @Service,controller,repository和@Component区别"></a>1.3 @Service,controller,repository和@Component区别</h3><ol>
<li>前三者含有特定功能的Component 比如<ol>
<li>dispatchServlet寻找的是@Conroller的GetMapping而不是@Component的mapping</li>
</ol>
</li>
<li>后者可用前三者代替</li>
</ol>
<h3 id="1-4-Mapper和-Repository的区别"><a href="#1-4-Mapper和-Repository的区别" class="headerlink" title="1.4 @Mapper和@Repository的区别"></a>1.4 @Mapper和@Repository的区别</h3><ol>
<li><a href="https://blog.csdn.net/qq_36816062/article/details/108086097">相同点</a><br>@Mapper和@Repository都是作用在dao层接口，使得其生成代理对象bean，交给spring 容器管理<br>对于mybatis来说，都可以不用写mapper.xml文件</li>
<li>不同点<br>@Mapper不需要配置扫描地址，通过xml里面的namespace里面的接口地址，生成了Bean后注入到Service层中。@MapperScan(“mapper文件所在包”)，这样就不需要每个mapper文件都加@Mapper注解了<br>而@Repository不可以单独使用,需要配置@MapperScan(“com.anson.dao”) </li>
</ol>
<h3 id="1-5-Bean和-Component区别"><a href="#1-5-Bean和-Component区别" class="headerlink" title="1.5 @Bean和@Component区别"></a>1.5 @Bean和@Component区别</h3><ol>
<li><p>前者作用于methon，后者作用于class</p>
</li>
<li><p>@Component通过@ComponentScan扫描得到</p>
</li>
<li><p>@Bean在@Configuration Class下</p>
</li>
<li><p>@Bean更灵活—&gt;配置文件调控的时候就只能用@Bean</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(<span class="keyword">int</span> status)</span></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>(status):</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>: <span class="keyword">return</span> <span class="keyword">new</span> Student(<span class="number">1</span>,<span class="string">&quot;王&quot;</span>);</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>: <span class="keyword">return</span> <span class="keyword">new</span> Student(<span class="number">2</span>,<span class="string">&quot;张&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="1-6-Autowire和-Resource的区别"><a href="#1-6-Autowire和-Resource的区别" class="headerlink" title="1.6 @Autowire和@Resource的区别"></a>1.6 @Autowire和@Resource的区别</h3><ol>
<li>作用域相同<ol>
<li>属性</li>
<li>setter</li>
</ol>
</li>
<li>@Autowire 默认先按类型装配</li>
<li>@Resource 默认先按名称装配</li>
<li>@Resource =@Autowrie+@Qualifier</li>
</ol>
<h3 id="1-7-ComponentScan与ComponentScans"><a href="#1-7-ComponentScan与ComponentScans" class="headerlink" title="1.7 @ComponentScan与ComponentScans"></a>1.7 @ComponentScan与ComponentScans</h3><ol>
<li><a href="https://www.cnblogs.com/jiafa/p/13800766.html">@ComponentScan和@ComponentScans注解</a></li>
</ol>
<h3 id="1-8-ControllerAdvice"><a href="#1-8-ControllerAdvice" class="headerlink" title="1.8 @ControllerAdvice"></a>1.8 @ControllerAdvice</h3><ol>
<li>全局异常处理器</li>
</ol>
<h3 id="1-9-ConfigurationProperties"><a href="#1-9-ConfigurationProperties" class="headerlink" title="1.9 @ConfigurationProperties"></a>1.9 @ConfigurationProperties</h3><ol>
<li>前缀配置–更灵活</li>
</ol>
<h3 id="1-10-ContextConfiguration"><a href="#1-10-ContextConfiguration" class="headerlink" title="1.10 @ContextConfiguration"></a>1.10 @ContextConfiguration</h3>]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>spring-properties</title>
    <url>/2022/03/08/spring/%E9%85%8D%E7%BD%AE/@value-%E8%87%AA%E5%AE%9A%E4%B9%89/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="一、调用值"><a href="#一、调用值" class="headerlink" title="一、调用值"></a>一、调用值</h3><ol>
<li><p>引入@PropertySource</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PropertySource(&quot;classpath:config.properties&quot;)</span></span><br></pre></td></tr></table></figure></li>
<li><p>注入普通字符串</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Debug</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Value(&quot;normal&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String myDebug; <span class="comment">// 注入普通字符串</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<span id="more"></span></li>
<li><p>@value接受类型</p>
<ol>
<li><p>string</p>
</li>
<li><p>boolean</p>
</li>
<li><p>long</p>
</li>
<li><p>表达式</p>
</li>
<li></li>
<li><p>强大</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Value(&quot;#&#123;$&#123;EMAIL_CODE_EXPIRATION_TIME&#125;&#125;&quot;)</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">long</span> EMAIL_CODE_EXPIRATION_TIME;</span><br></pre></td></tr></table></figure>

<p>自定义配置文件    ${}取得</p>
</li>
</ol>
</li>
<li><p>@value的$ 和 $区别</p>
<ul>
<li><p>@Value(“#{}”)  SpEL表达式</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Value(&quot;#&#123;1&#125;&quot;)</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> number; <span class="comment">//获取数字 1</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Value(&quot;#&#123;&#x27;Spring Expression Language&#x27;&#125;&quot;)</span> <span class="comment">//获取字符串常量</span></span><br><span class="line"><span class="keyword">private</span> String str;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Value(&quot;#&#123;dataSource.url&#125;&quot;)</span> <span class="comment">//获取bean的属性</span></span><br><span class="line"><span class="keyword">private</span> String jdbcUrl;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>@Value(“${}”)  获取string</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@PropertySource(&quot;classpath:config.properties&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConfigProperty</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;name&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="二、自定义配置properties"><a href="#二、自定义配置properties" class="headerlink" title="二、自定义配置properties"></a>二、自定义配置properties</h3><ol>
<li><p>创建文件</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211030115341905.png" alt="image-20211030115341905"></p>
</li>
<li><p>加上注解</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PropertySource(&quot;classpath:config/values.properties&quot;)</span>+<span class="meta">@Configuration</span>读取</span><br></pre></td></tr></table></figure>

<!-- more --></li>
<li><p>implements InitializingBean 饿汉式加载</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211030115459989.png" alt="image-20211030115459989"></p>
</li>
<li><p>@Value(“${name}”)获取属性</p>
</li>
</ol>
<h3 id="三、注意"><a href="#三、注意" class="headerlink" title="三、注意"></a>三、注意</h3><ol>
<li><p>yml&gt;yaml&gt;properties</p>
</li>
<li><p>yml能调用Pro ,当有yml和pro的时候会优先使用pro,如果yml没特定内容，就会使用pro</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211026215034623.png" alt="image-20211026215034623"></p>
</li>
</ol>
<h3 id="四、总文件"><a href="#四、总文件" class="headerlink" title="四、总文件"></a>四、总文件</h3><ol>
<li><p>yml1</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">  <span class="attr">servlet:</span></span><br><span class="line">    <span class="attr">context-path:</span> <span class="string">/</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:8&amp;zeroDateTimeBehavior=convertToNull&amp;allowMultiQueries=true&amp;useSSL=false</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">root</span></span><br><span class="line">  <span class="attr">jpa:</span></span><br><span class="line">    <span class="attr">database:</span> <span class="string">MySQL</span></span><br><span class="line">    <span class="attr">database-platform:</span> <span class="string">org.hibernate.dialect.MySQL5InnoDBDialect</span></span><br><span class="line">    <span class="attr">show-sql:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">hibernate:</span></span><br><span class="line">      <span class="attr">ddl-auto:</span> <span class="string">update</span></span><br><span class="line">  <span class="attr">devtools:</span></span><br><span class="line">    <span class="attr">restart:</span></span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">additional-paths:</span> <span class="string">src/main/java</span></span><br></pre></td></tr></table></figure></li>
<li><p>yml2–dev</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#配置数据源</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">druid:</span></span><br><span class="line">      <span class="attr">db-type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line">      <span class="attr">driverClassName:</span> <span class="string">net.sf.log4jdbc.sql.jdbcapi.DriverSpy</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">jdbc:serverTimezone=Asia/Shanghai&amp;characterEncoding=utf8&amp;useSSL=false</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">$&#123;DB_USER:root&#125;</span></span><br><span class="line">      <span class="attr">password:</span> <span class="string">$&#123;DB_PWD:root&#125;</span></span><br><span class="line">      <span class="comment"># 初始连接数</span></span><br><span class="line">      <span class="attr">initial-size:</span> <span class="number">5</span></span><br><span class="line">      <span class="comment"># 最小连接数</span></span><br><span class="line">      <span class="attr">min-idle:</span> <span class="number">15</span></span><br><span class="line">      <span class="comment"># 最大连接数</span></span><br><span class="line">      <span class="attr">max-active:</span> <span class="number">30</span></span><br><span class="line">      <span class="comment"># 超时时间(以秒数为单位)</span></span><br><span class="line">      <span class="attr">remove-abandoned-timeout:</span> <span class="number">180</span></span><br><span class="line">      <span class="comment"># 获取连接超时时间</span></span><br><span class="line">      <span class="attr">max-wait:</span> <span class="number">3000</span></span><br><span class="line">      <span class="comment"># 连接有效性检测时间</span></span><br><span class="line">      <span class="attr">time-between-eviction-runs-millis:</span> <span class="number">60000</span></span><br><span class="line">      <span class="comment"># 连接在池中最小生存的时间</span></span><br><span class="line">      <span class="attr">min-evictable-idle-time-millis:</span> <span class="number">300000</span></span><br><span class="line">      <span class="comment"># 连接在池中最大生存的时间</span></span><br><span class="line">      <span class="attr">max-evictable-idle-time-millis:</span> <span class="number">900000</span></span><br><span class="line">      <span class="comment"># 指明连接是否被空闲连接回收器(如果有)进行检验.如果检测失败,则连接将被从池中去除</span></span><br><span class="line">      <span class="attr">test-while-idle:</span> <span class="literal">true</span></span><br><span class="line">      <span class="comment"># 指明是否在从池中取出连接前进行检验,如果检验失败, 则从池中去除连接并尝试取出另一个</span></span><br><span class="line">      <span class="attr">test-on-borrow:</span> <span class="literal">true</span></span><br><span class="line">      <span class="comment"># 是否在归还到池中前进行检验</span></span><br><span class="line">      <span class="attr">test-on-return:</span> <span class="literal">false</span></span><br><span class="line">      <span class="comment"># 检测连接是否有效</span></span><br><span class="line">      <span class="attr">validation-query:</span> <span class="string">select</span> <span class="number">1</span></span><br><span class="line">      <span class="comment"># 配置监控统计</span></span><br><span class="line">      <span class="attr">webStatFilter:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">stat-view-servlet:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">url-pattern:</span> <span class="string">/druid/*</span></span><br><span class="line">        <span class="attr">reset-enable:</span> <span class="literal">false</span></span><br><span class="line">      <span class="attr">filter:</span></span><br><span class="line">        <span class="attr">stat:</span></span><br><span class="line">          <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">          <span class="comment"># 记录慢SQL</span></span><br><span class="line">          <span class="attr">log-slow-sql:</span> <span class="literal">true</span></span><br><span class="line">          <span class="attr">slow-sql-millis:</span> <span class="number">1000</span></span><br><span class="line">          <span class="attr">merge-sql:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">wall:</span></span><br><span class="line">          <span class="attr">config:</span></span><br><span class="line">            <span class="attr">multi-statement-allow:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 登录相关配置</span></span><br><span class="line"><span class="attr">login:</span></span><br><span class="line">  <span class="comment"># 登录缓存</span></span><br><span class="line">  <span class="attr">cache-enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment">#  是否限制单用户登录</span></span><br><span class="line">  <span class="attr">single-login:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment">#  验证码</span></span><br><span class="line">  <span class="attr">login-code:</span></span><br><span class="line">    <span class="comment">#  验证码类型配置 查看 LoginProperties 类</span></span><br><span class="line">    <span class="attr">code-type:</span> <span class="string">arithmetic</span></span><br><span class="line">    <span class="comment">#  登录图形验证码有效时间/分钟</span></span><br><span class="line">    <span class="attr">expiration:</span> <span class="number">2</span></span><br><span class="line">    <span class="comment">#  验证码高度</span></span><br><span class="line">    <span class="attr">width:</span> <span class="number">111</span></span><br><span class="line">    <span class="comment">#  验证码宽度</span></span><br><span class="line">    <span class="attr">height:</span> <span class="number">36</span></span><br><span class="line">    <span class="comment"># 内容长度</span></span><br><span class="line">    <span class="attr">length:</span> <span class="number">2</span></span><br><span class="line">    <span class="comment"># 字体名称，为空则使用默认字体</span></span><br><span class="line">    <span class="attr">font-name:</span></span><br><span class="line">    <span class="comment"># 字体大小</span></span><br><span class="line">    <span class="attr">font-size:</span> <span class="number">25</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#jwt</span></span><br><span class="line"><span class="attr">jwt:</span></span><br><span class="line">  <span class="attr">header:</span> <span class="string">Authorization</span></span><br><span class="line">  <span class="comment"># 令牌前缀</span></span><br><span class="line">  <span class="attr">token-start-with:</span> <span class="string">Bearer</span></span><br><span class="line">  <span class="comment"># 必须使用最少88位的Base64对该令牌进行编码</span></span><br><span class="line">  <span class="comment"># 令牌过期时间 此处单位/毫秒 ，默认4小时，可在此网站生成 https://www.convertworld.com/zh-hans/time/milliseconds.html</span></span><br><span class="line">  <span class="attr">token-validity-in-seconds:</span> <span class="number">14400000</span></span><br><span class="line">  <span class="comment"># 在线用户key</span></span><br><span class="line">  <span class="attr">online-key:</span> <span class="string">online-token-</span></span><br><span class="line">  <span class="comment"># 验证码</span></span><br><span class="line">  <span class="attr">code-key:</span> <span class="string">code-key-</span></span><br><span class="line">  <span class="comment"># token 续期检查时间范围（默认30分钟，单位毫秒），在token即将过期的一段时间内用户操作了，则给用户的token续期</span></span><br><span class="line">  <span class="attr">detect:</span> <span class="number">1800000</span></span><br><span class="line">  <span class="comment"># 续期时间范围，默认1小时，单位毫秒</span></span><br><span class="line">  <span class="attr">renew:</span> <span class="number">3600000</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#是否允许生成代码，生产环境设置为false</span></span><br><span class="line"><span class="attr">generator:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#是否开启 swagger-ui</span></span><br><span class="line"><span class="attr">swagger:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># IP 本地解析</span></span><br><span class="line"><span class="attr">ip:</span></span><br><span class="line">  <span class="attr">local-parsing:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 文件存储路径</span></span><br><span class="line"><span class="attr">file:</span></span><br><span class="line">  <span class="attr">mac:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">~/file/</span></span><br><span class="line">    <span class="attr">avatar:</span> <span class="string">~/avatar/</span></span><br><span class="line">  <span class="attr">linux:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/home/eladmin/file/</span></span><br><span class="line">    <span class="attr">avatar:</span> <span class="string">/home/eladmin/avatar/</span></span><br><span class="line">  <span class="attr">windows:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">C:\eladmin\file\</span></span><br><span class="line">    <span class="attr">avatar:</span> <span class="string">C:\eladmin\avatar\</span></span><br><span class="line">  <span class="comment"># 文件大小 /M</span></span><br><span class="line">  <span class="attr">maxSize:</span> <span class="number">100</span></span><br><span class="line">  <span class="attr">avatarMaxSize:</span> <span class="number">5</span></span><br></pre></td></tr></table></figure></li>
<li><p>yml3-prod</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#配置数据源</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">devtools:</span></span><br><span class="line">    <span class="attr">restart:</span></span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">additional-paths:</span> <span class="string">src/main/java</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">druid:</span></span><br><span class="line">      <span class="attr">db-type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line">      <span class="attr">driverClassName:</span> <span class="string">net.sf.log4jdbc.sql.jdbcapi.DriverSpy</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">jdbc:log4jdbc:mysql:serverTimezone=Asia/Shanghai&amp;characterEncoding=utf8&amp;useSSL=false</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">$&#123;D</span></span><br><span class="line">      <span class="comment"># 初始连接数</span></span><br><span class="line">      <span class="attr">initial-size:</span> <span class="number">5</span></span><br><span class="line">      <span class="comment"># 最小连接数</span></span><br><span class="line">      <span class="attr">min-idle:</span> <span class="number">15</span></span><br><span class="line">      <span class="comment"># 最大连接数</span></span><br><span class="line">      <span class="attr">max-active:</span> <span class="number">30</span></span><br><span class="line">      <span class="comment"># 获取连接超时时间</span></span><br><span class="line">      <span class="attr">max-wait:</span> <span class="number">5000</span></span><br><span class="line">      <span class="comment"># 连接有效性检测时间</span></span><br><span class="line">      <span class="attr">time-between-eviction-runs-millis:</span> <span class="number">60000</span></span><br><span class="line">      <span class="comment"># 连接在池中最小生存的时间</span></span><br><span class="line">      <span class="attr">min-evictable-idle-time-millis:</span> <span class="number">300000</span></span><br><span class="line">      <span class="comment"># 连接在池中最大生存的时间</span></span><br><span class="line">      <span class="attr">max-evictable-idle-time-millis:</span> <span class="number">900000</span></span><br><span class="line">      <span class="comment"># 指明连接是否被空闲连接回收器(如果有)进行检验.如果检测失败,则连接将被从池中去除</span></span><br><span class="line">      <span class="attr">test-while-idle:</span> <span class="literal">true</span></span><br><span class="line">      <span class="comment"># 指明是否在从池中取出连接前进行检验,如果检验失败, 则从池中去除连接并尝试取出另一个</span></span><br><span class="line">      <span class="attr">test-on-borrow:</span> <span class="literal">true</span></span><br><span class="line">      <span class="comment"># 是否在归还到池中前进行检验</span></span><br><span class="line">      <span class="attr">test-on-return:</span> <span class="literal">false</span></span><br><span class="line">      <span class="comment"># 检测连接是否有效</span></span><br><span class="line">      <span class="attr">validation-query:</span> <span class="string">select</span> <span class="number">1</span></span><br><span class="line">      <span class="comment"># 配置监控统计</span></span><br><span class="line">      <span class="attr">webStatFilter:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">stat-view-servlet:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">        <span class="comment"># 控制台管理用户名和密码</span></span><br><span class="line">        <span class="attr">url-pattern:</span> <span class="string">/druid/*</span></span><br><span class="line">        <span class="attr">reset-enable:</span> <span class="literal">false</span></span><br><span class="line">        <span class="attr">login-username:</span> <span class="string">admin</span></span><br><span class="line">        <span class="attr">login-password:</span> <span class="number">123456</span></span><br><span class="line">      <span class="attr">filter:</span></span><br><span class="line">        <span class="attr">stat:</span></span><br><span class="line">          <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">          <span class="comment"># 记录慢SQL</span></span><br><span class="line">          <span class="attr">log-slow-sql:</span> <span class="literal">true</span></span><br><span class="line">          <span class="attr">slow-sql-millis:</span> <span class="number">1000</span></span><br><span class="line">          <span class="attr">merge-sql:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">wall:</span></span><br><span class="line">          <span class="attr">config:</span></span><br><span class="line">            <span class="attr">multi-statement-allow:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 登录相关配置</span></span><br><span class="line"><span class="attr">login:</span></span><br><span class="line">  <span class="comment"># 登录缓存</span></span><br><span class="line">  <span class="attr">cache-enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment">#  是否限制单用户登录</span></span><br><span class="line">  <span class="attr">single-login:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment">#  验证码</span></span><br><span class="line">  <span class="attr">login-code:</span></span><br><span class="line">    <span class="comment">#  验证码类型配置 查看 LoginProperties 类</span></span><br><span class="line">    <span class="attr">code-type:</span> <span class="string">arithmetic</span></span><br><span class="line">    <span class="comment">#  登录图形验证码有效时间/分钟</span></span><br><span class="line">    <span class="attr">expiration:</span> <span class="number">2</span></span><br><span class="line">    <span class="comment">#  验证码高度</span></span><br><span class="line">    <span class="attr">width:</span> <span class="number">111</span></span><br><span class="line">    <span class="comment">#  验证码宽度</span></span><br><span class="line">    <span class="attr">height:</span> <span class="number">36</span></span><br><span class="line">    <span class="comment"># 内容长度</span></span><br><span class="line">    <span class="attr">length:</span> <span class="number">2</span></span><br><span class="line">    <span class="comment"># 字体名称，为空则使用默认字体，如遇到线上乱码，设置其他字体即可</span></span><br><span class="line">    <span class="attr">font-name:</span></span><br><span class="line">    <span class="comment"># 字体大小</span></span><br><span class="line">    <span class="attr">font-size:</span> <span class="number">25</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#jwt</span></span><br><span class="line"><span class="attr">jwt:</span></span><br><span class="line">  <span class="attr">header:</span> <span class="string">Authorization</span></span><br><span class="line">  <span class="comment"># 令牌前缀</span></span><br><span class="line">  <span class="attr">token-start-with:</span> <span class="string">Bearer</span></span><br><span class="line">  <span class="comment"># 必须使用最少88位的Base64对该令牌进行编码</span></span><br><span class="line">  <span class="attr">base64-secret:</span> <span class="string">ZmQ0GI5</span></span><br><span class="line">  <span class="comment"># 令牌过期时间 此处单位/毫秒 ，默认2小时，可在此网站生成 https://www.convertworld.com/zh-hans/time/milliseconds.html</span></span><br><span class="line">  <span class="attr">token-validity-in-seconds:</span> <span class="number">7200000</span></span><br><span class="line">  <span class="comment"># 在线用户key</span></span><br><span class="line">  <span class="attr">online-key:</span> <span class="string">online-token-</span></span><br><span class="line">  <span class="comment"># 验证码</span></span><br><span class="line">  <span class="attr">code-key:</span> <span class="string">code-key-</span></span><br><span class="line">  <span class="comment"># token 续期检查时间范围（默认30分钟，单位默认毫秒），在token即将过期的一段时间内用户操作了，则给用户的token续期</span></span><br><span class="line">  <span class="attr">detect:</span> <span class="number">1800000</span></span><br><span class="line">  <span class="comment"># 续期时间范围，默认 1小时，这里单位毫秒</span></span><br><span class="line">  <span class="attr">renew:</span> <span class="number">3600000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># IP 本地解析</span></span><br><span class="line"><span class="attr">ip:</span></span><br><span class="line">  <span class="attr">local-parsing:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#是否允许生成代码，生产环境设置为false</span></span><br><span class="line"><span class="attr">generator:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#如果生产环境要开启swagger，需要配置请求地址</span></span><br><span class="line"><span class="comment">#springfox:</span></span><br><span class="line"><span class="comment">#  documentation:</span></span><br><span class="line"><span class="comment">#    swagger:</span></span><br><span class="line"><span class="comment">#      v2:</span></span><br><span class="line"><span class="comment">#        host: # 接口域名或外网ip</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#是否开启 swagger-ui</span></span><br><span class="line"><span class="attr">swagger:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 文件存储路径</span></span><br><span class="line"><span class="attr">file:</span></span><br><span class="line">  <span class="attr">mac:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">~/file/</span></span><br><span class="line">    <span class="attr">avatar:</span> <span class="string">~/avatar/</span></span><br><span class="line">  <span class="attr">linux:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/home/eladmin/file/</span></span><br><span class="line">    <span class="attr">avatar:</span> <span class="string">/home/eladmin/avatar/</span></span><br><span class="line">  <span class="attr">windows:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">C:\eladmin\file\</span></span><br><span class="line">    <span class="attr">avatar:</span> <span class="string">C:\eladmin\avatar\</span></span><br><span class="line">  <span class="comment"># 文件大小 /M</span></span><br><span class="line">  <span class="attr">maxSize:</span> <span class="number">100</span></span><br><span class="line">  <span class="attr">avatarMaxSize:</span> <span class="number">5</span></span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>javaConfig</title>
    <url>/2022/03/08/spring/%E9%85%8D%E7%BD%AE/javaConfig/</url>
    <content><![CDATA[<blockquote>
<p>使用java代码代替xml文件做spring的配置</p>
</blockquote>
<ol>
<li>@Configuration</li>
<li>ComponentScan</li>
<li>Bean</li>
<li>EnableWebMvc</li>
<li>ImportResource</li>
<li>PropertySource</li>
<li>Profile</li>
</ol>
]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>WebMvcConfigurer</title>
    <url>/2022/03/08/spring/%E9%85%8D%E7%BD%AE/WebMvcConfigurer/</url>
    <content><![CDATA[<p>[toc]</p>
<p><a href="https://blog.csdn.net/zhangpower1993/article/details/89016503">参考</a></p>
<h2 id="一、概述"><a href="#一、概述" class="headerlink" title="一、概述"></a>一、概述</h2><h3 id="1-概念"><a href="#1-概念" class="headerlink" title="1. 概念"></a>1. 概念</h3><ol>
<li><p>WebMvcConfigurer和spring，springBoot的关系</p>
<p>WebMvcConfigurer和SpringBoot没啥关系，只不过原本在Spring中以xml配置文件中存在的相关配置，到SpringBoot中都会使用配置类的方式进行管理，即加了@Configuration注解的类。</p>
</li>
<li><p>WebMvcConfigurer配置类其实是<code>Spring</code>内部的一种配置方式，采用<code>JavaBean</code>的形式来代替传统的<code>xml</code>配置文件形式进行针对框架个性化定制，可以自定义一些Handler，Interceptor，ViewResolver，MessageConverter.</p>
</li>
<li><p>在Spring Boot 1.5版本都是靠重写<strong>WebMvcConfigurerAdapter</strong>的方法来添加自定义拦截器，消息转换器等</p>
</li>
</ol>
<h3 id="2-接口方法"><a href="#2-接口方法" class="headerlink" title="2. 接口方法"></a>2. 接口方法</h3><ol>
<li><p>所有方法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">WebMvcConfigurer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">configurePathMatch</span><span class="params">(PathMatchConfigurer var1)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">configureContentNegotiation</span><span class="params">(ContentNegotiationConfigurer var1)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">configureAsyncSupport</span><span class="params">(AsyncSupportConfigurer var1)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">configureDefaultServletHandling</span><span class="params">(DefaultServletHandlerConfigurer var1)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addFormatters</span><span class="params">(FormatterRegistry var1)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addInterceptors</span><span class="params">(InterceptorRegistry var1)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry var1)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addCorsMappings</span><span class="params">(CorsRegistry var1)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addViewControllers</span><span class="params">(ViewControllerRegistry var1)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">configureViewResolvers</span><span class="params">(ViewResolverRegistry var1)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addArgumentResolvers</span><span class="params">(List&lt;HandlerMethodArgumentResolver&gt; var1)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addReturnValueHandlers</span><span class="params">(List&lt;HandlerMethodReturnValueHandler&gt; var1)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">configureMessageConverters</span><span class="params">(List&lt;HttpMessageConverter&lt;?&gt;&gt; var1)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">extendMessageConverters</span><span class="params">(List&lt;HttpMessageConverter&lt;?&gt;&gt; var1)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">configureHandlerExceptionResolvers</span><span class="params">(List&lt;HandlerExceptionResolver&gt; var1)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">extendHandlerExceptionResolvers</span><span class="params">(List&lt;HandlerExceptionResolver&gt; var1)</span></span>;</span><br><span class="line">    <span class="function">Validator <span class="title">getValidator</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">MessageCodesResolver <span class="title">getMessageCodesResolver</span><span class="params">()</span></span>;&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>常用方法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="comment">/* 拦截器配置 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addInterceptors</span><span class="params">(InterceptorRegistry var1)</span></span>;</span><br><span class="line"><span class="comment">/* 视图跳转控制器 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addViewControllers</span><span class="params">(ViewControllerRegistry registry)</span></span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     *静态资源处理</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span></span>;</span><br><span class="line"><span class="comment">/* 默认静态资源处理器 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">configureDefaultServletHandling</span><span class="params">(DefaultServletHandlerConfigurer configurer)</span></span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 这里配置视图解析器</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">configureViewResolvers</span><span class="params">(ViewResolverRegistry registry)</span></span>;</span><br><span class="line"><span class="comment">/* 配置内容裁决的一些选项*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">configureContentNegotiation</span><span class="params">(ContentNegotiationConfigurer configurer)</span></span>;</span><br><span class="line"><span class="comment">/** 解决跨域问题 **/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addCorsMappings</span><span class="params">(CorsRegistry registry)</span> </span>;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="三、配件"><a href="#三、配件" class="headerlink" title="三、配件"></a>三、配件</h2><h3 id="1-addInterceptors：拦截器"><a href="#1-addInterceptors：拦截器" class="headerlink" title="1. addInterceptors：拦截器"></a>1. addInterceptors：拦截器</h3><ul>
<li>addInterceptor：需要一个实现HandlerInterceptor接口的拦截器实例</li>
<li>addPathPatterns：用于设置拦截器的过滤路径规则；<code>addPathPatterns(&quot;/**&quot;)</code>对所有请求都拦截</li>
<li>excludePathPatterns：用于设置不需要拦截的过滤规则</li>
<li>拦截器主要用途：进行用户登录状态的拦截，日志的拦截等。</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>.addInterceptors(registry);</span><br><span class="line">    registry.addInterceptor(<span class="keyword">new</span> TestInterceptor()).addPathPatterns(<span class="string">&quot;/**&quot;</span>).excludePathPatterns(<span class="string">&quot;/emp/toLogin&quot;</span>,<span class="string">&quot;/emp/login&quot;</span>,<span class="string">&quot;/js/**&quot;</span>,<span class="string">&quot;/css/**&quot;</span>,<span class="string">&quot;/images/**&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-addViewControllers：页面跳转"><a href="#2-addViewControllers：页面跳转" class="headerlink" title="2. addViewControllers：页面跳转"></a>2. addViewControllers：页面跳转</h3><p>​    以前写SpringMVC的时候，如果需要访问一个页面，必须要写Controller类，然后再写一个方法跳转到页面，感觉好麻烦，下面这种方法可以省略一个Controller的requestMapping</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addViewControllers</span><span class="params">(ViewControllerRegistry registry)</span> </span>&#123;</span><br><span class="line">    registry.addViewController(<span class="string">&quot;/toLogin&quot;</span>).setViewName(<span class="string">&quot;login&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>​    在这里重写addViewControllers方法，并不会覆盖<strong>WebMvcAutoConfiguration</strong>（Springboot自动配置）中的addViewControllers（在此方法中，Spring Boot将“/”映射至index.html），这也就意味着自己的配置和Spring Boot的自动配置同时有效，这也是我们推荐添加自己的MVC配置的方式。</p>
</blockquote>
<h3 id="3-addResourceHandlers：静态资源"><a href="#3-addResourceHandlers：静态资源" class="headerlink" title="3. addResourceHandlers：静态资源"></a>3. addResourceHandlers：静态资源</h3><p>比如，我们想自定义静态资源映射目录的话，只需重写addResourceHandlers方法即可。</p>
<p>注：如果继承WebMvcConfigurationSupport类实现配置时必须要重写该方法，具体见其它文章</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyWebMvcConfigurerAdapter</span> <span class="keyword">implements</span> <span class="title">WebMvcConfigurer</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> </span>&#123;</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/my/**&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/my/&quot;</span>);</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/img/**&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/img/&quot;</span>);</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/img/**&quot;</span>).addResourceLocations(<span class="string">&quot;file:&quot;</span> + Constant.fileLoadPath + <span class="string">&quot;/&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>addResoureHandler：指的是对外暴露的访问路径</li>
<li>addResourceLocations：指的是内部文件放置的目录</li>
</ul>
<h3 id="2-4-configureDefaultServletHandling：默认静态资源处理器Servlet"><a href="#2-4-configureDefaultServletHandling：默认静态资源处理器Servlet" class="headerlink" title="2.4 configureDefaultServletHandling：默认静态资源处理器Servlet"></a>2.4 configureDefaultServletHandling：默认静态资源处理器Servlet</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">configureDefaultServletHandling</span><span class="params">(DefaultServletHandlerConfigurer configurer)</span> </span>&#123;</span><br><span class="line">        configurer.enable();</span><br><span class="line">        configurer.enable(<span class="string">&quot;defaultServletName&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​    此时会注册一个默认的Handler：DefaultServletHttpRequestHandler，这个Handler也是用来处理静态文件的，它会尝试映射/。当DispatcherServelt映射/时（/ 和/ 是有区别的），并且没有找到合适的Handler来处理请求时，就会交给DefaultServletHttpRequestHandler 来处理。注意：这里的静态资源是放置在web根目录下，而非WEB-INF 下。<br>　可能这里的描述有点不好懂（我自己也这么觉得），所以简单举个例子，例如：在webroot目录下有一个图片：1.png 我们知道Servelt规范中web根目录（webroot）下的文件可以直接访问的，但是由于DispatcherServlet配置了映射路径是：/ ，它几乎把所有的请求都拦截了，从而导致1.png 访问不到，这时注册一个DefaultServletHttpRequestHandler 就可以解决这个问题。其实可以理解为DispatcherServlet破坏了Servlet的一个特性（根目录下的文件可以直接访问），DefaultServletHttpRequestHandler是帮助回归这个特性的。</p>
<h3 id="2-5-configureViewResolvers：视图解析器"><a href="#2-5-configureViewResolvers：视图解析器" class="headerlink" title="2.5 configureViewResolvers：视图解析器"></a>2.5 configureViewResolvers：视图解析器</h3><p>这个方法是用来配置视图解析器的，该方法的参数ViewResolverRegistry 是一个注册器，用来注册你想自定义的视图解析器等。ViewResolverRegistry 常用的几个方法：<a href="https://blog.csdn.net/fmwind/article/details/81235401">https://blog.csdn.net/fmwind/article/details/81235401</a></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> InternalResourceViewResolver <span class="title">resourceViewResolver</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	InternalResourceViewResolver internalResourceViewResolver = <span class="keyword">new</span> InternalResourceViewResolver();</span><br><span class="line">	<span class="comment">//请求视图文件的前缀地址</span></span><br><span class="line">	internalResourceViewResolver.setPrefix(<span class="string">&quot;/WEB-INF/jsp/&quot;</span>);</span><br><span class="line">	<span class="comment">//请求视图文件的后缀</span></span><br><span class="line">	internalResourceViewResolver.setSuffix(<span class="string">&quot;.jsp&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> internalResourceViewResolver;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">configureViewResolvers</span><span class="params">(ViewResolverRegistry registry)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">super</span>.configureViewResolvers(registry);</span><br><span class="line">	registry.viewResolver(resourceViewResolver());</span><br><span class="line">	<span class="comment">/*registry.jsp(&quot;/WEB-INF/jsp/&quot;,&quot;.jsp&quot;);*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-6-configureContentNegotiation：配置内容裁决的一些参数"><a href="#2-6-configureContentNegotiation：配置内容裁决的一些参数" class="headerlink" title="2.6 configureContentNegotiation：配置内容裁决的一些参数"></a>2.6 configureContentNegotiation：配置内容裁决的一些参数</h3><h3 id="2-7-addCorsMappings：跨域"><a href="#2-7-addCorsMappings：跨域" class="headerlink" title="2.7 addCorsMappings：跨域"></a>2.7 addCorsMappings：跨域</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addCorsMappings</span><span class="params">(CorsRegistry registry)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>.addCorsMappings(registry);</span><br><span class="line">    registry.addMapping(<span class="string">&quot;/cors/**&quot;</span>)</span><br><span class="line">        </span><br><span class="line">            .allowedHeaders(<span class="string">&quot;*&quot;</span>)</span><br><span class="line">            .allowedMethods(<span class="string">&quot;POST&quot;</span>,<span class="string">&quot;GET&quot;</span>)</span><br><span class="line">            .allowedOrigins(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-8-configureMessageConverters：信息转换器"><a href="#2-8-configureMessageConverters：信息转换器" class="headerlink" title="2.8 configureMessageConverters：信息转换器"></a>2.8 configureMessageConverters：信息转换器</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//配置fastJson返回json转换</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">configureMessageConverters</span><span class="params">(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters)</span> </span></span><br><span class="line"><span class="function">    <span class="keyword">super</span>.<span class="title">configureMessageConverters</span><span class="params">(converters)</span></span>;</span><br><span class="line">    <span class="comment">//创建fastJson消息转换器</span></span><br><span class="line">    FastJsonHttpMessageConverter fastConverter = <span class="keyword">new</span> FastJsonHttpMessageConverter();</span><br><span class="line">    <span class="comment">//创建配置类</span></span><br><span class="line">    FastJsonConfig fastJsonConfig = <span class="keyword">new</span> FastJsonConfig();</span><br><span class="line">    <span class="comment">//修改配置返回内容的过滤</span></span><br><span class="line">    fastJsonConfig.setSerializerFeatures(</span><br><span class="line">            SerializerFeature.DisableCircularReferenceDetect,</span><br><span class="line">            SerializerFeature.WriteMapNullValue,</span><br><span class="line">            SerializerFeature.WriteNullStringAsEmpty</span><br><span class="line">    );</span><br><span class="line">    fastConverter.setFastJsonConfig(fastJsonConfig);</span><br><span class="line">    <span class="comment">//将fastjson添加到视图消息转换器列表内</span></span><br><span class="line">    converters.add(fastConverter);</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>spring配置注意点</title>
    <url>/2022/03/08/spring/%E9%85%8D%E7%BD%AE/%E6%B3%A8%E6%84%8F/</url>
    <content><![CDATA[<ol>
<li><p>@MapperScan</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@MapperScan(basePackages = &#123;&quot;com.wyg.epidemicsituation.mapper&quot;,&quot;com.wyg.epidemicsituation.system.mapper&quot;&#125;)</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>这个注解一定要用对，除了指定的@Component，他会把这个包下面的所有类有注入到IOC，并且注入的类型都是com.baomidou.mybatisplus.core.override.MybatisMapperProxy。</p>
</blockquote>
</li>
<li><p>如果不用@Service而是用@Component，发现也没问题</p>
</li>
<li><p>@RestController写成@Controller会报404</p>
</li>
<li><p>对于非@Compoent 如需要serviceImpl可以在构造函数中传入这个service如easyExcel的listener就需要</p>
</li>
</ol>
]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>自定义资源文件</title>
    <url>/2022/03/08/spring/%E9%85%8D%E7%BD%AE/%E8%AF%BB%E5%8F%96%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/</url>
    <content><![CDATA[<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">BufferedReader beforeBr = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(getResources(<span class="string">&quot;config/htmlBefore.txt&quot;</span>), <span class="string">&quot;UTF-8&quot;</span>));</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>尚医通</title>
    <url>/2022/03/08/%E5%BC%80%E5%8F%91/%E9%A1%B9%E7%9B%AE/%E5%B0%9A%E5%8C%BB%E9%80%9A/</url>
    <content><![CDATA[<h3 id="技术"><a href="#技术" class="headerlink" title="技术"></a>技术</h3><p>spring,linux,git,ssm,javaweb</p>
<p>学到了挂号流程</p>
<h3 id="功能模块"><a href="#功能模块" class="headerlink" title="功能模块"></a>功能模块</h3><h4 id="前台-普通用户"><a href="#前台-普通用户" class="headerlink" title="前台-普通用户"></a>前台-普通用户</h4><ol>
<li>首页数据显示</li>
<li>预约挂号功能</li>
<li>支付功能</li>
<li>登录<ol>
<li>手机登录</li>
<li>微信登录</li>
<li>JWT</li>
</ol>
</li>
</ol>
<h4 id="后台-管理员"><a href="#后台-管理员" class="headerlink" title="后台-管理员"></a>后台-管理员</h4><ol>
<li>数据字典</li>
<li>医院管理<ol>
<li>医院设置</li>
<li>医院列表</li>
</ol>
</li>
<li>会员管理<ol>
<li>会员列表</li>
<li>认证审批</li>
</ol>
</li>
<li>订单管理</li>
<li>统计管理</li>
</ol>
<h3 id="技术栈"><a href="#技术栈" class="headerlink" title="技术栈"></a>技术栈</h3><h4 id="后端"><a href="#后端" class="headerlink" title="后端"></a>后端</h4><ol>
<li>spring<ol>
<li>springBoot</li>
<li>springCloud<ol>
<li>网关</li>
<li>nacos</li>
<li>feign</li>
<li>sentinel</li>
<li>task</li>
</ol>
</li>
</ol>
</li>
<li>mybatis-plus</li>
<li>redis</li>
<li>mongedb</li>
<li>rabbitMQ：消息中间件</li>
<li>httpclient</li>
</ol>
<h4 id="前端"><a href="#前端" class="headerlink" title="前端"></a>前端</h4><ol>
<li>axios</li>
<li>vue</li>
<li>npm</li>
<li>babel</li>
<li>webpack</li>
</ol>
<h3 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h3><ol>
<li>git</li>
<li>docker</li>
<li>jenkins:持续继承</li>
</ol>
]]></content>
      <categories>
        <category>项目</category>
      </categories>
  </entry>
  <entry>
    <title>谷粒学院</title>
    <url>/2022/03/08/%E5%BC%80%E5%8F%91/%E9%A1%B9%E7%9B%AE/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>项目</category>
      </categories>
  </entry>
  <entry>
    <title>微信支付</title>
    <url>/2022/03/08/%E7%BB%84%E4%BB%B6/%E6%94%AF%E4%BB%98%E7%BB%84%E4%BB%B6/%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98/</url>
    <content><![CDATA[<h2 id="一、"><a href="#一、" class="headerlink" title="一、"></a>一、</h2>]]></content>
      <categories>
        <category>组件</category>
      </categories>
  </entry>
  <entry>
    <title>elasticSearch</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/nosql/elasticSearch%E6%95%B0%E6%8D%AE%E5%BA%93/</url>
    <content><![CDATA[<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><ol>
<li><p>ELK</p>
<blockquote>
<p>常用于日志分析</p>
</blockquote>
<ol>
<li>elasticSearch(数据库，搜索引擎)</li>
<li>logstach(数据采集，出来)</li>
<li>kibana(可视化展现)</li>
<li>Beats(数据采集)</li>
<li>elasticSearch Cloud</li>
<li>X-pack</li>
</ol>
</li>
<li><p>流程</p>
<ol>
<li><p>beats 数据采集(cpu使用情况，日志，网络流量)</p>
<p><em>&gt; es</em></p>
<p><em>&gt;</em> logstash–&gt;es</p>
</li>
</ol>
</li>
<li><p>es特点</p>
<ol>
<li>分布式</li>
<li>基于java</li>
<li>配置简单</li>
<li>索引自动切分</li>
<li>restful风格</li>
</ol>
</li>
</ol>
<h2 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h2><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><ol>
<li>数据分为几种<ol>
<li>索引：表，可以有多个副本，多个分片</li>
<li>文档：一条记录</li>
<li></li>
</ol>
</li>
</ol>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><ol>
<li><p>网络配置yml</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">network</span>:<span class="number">0.0.0.0</span></span><br></pre></td></tr></table></figure></li>
<li><p>jvm配置yml</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">xms128m</span>  测试环境下内存占用</span><br></pre></td></tr></table></figure></li>
<li><p>跨域配置</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">   </span><br></pre></td></tr></table></figure></li>
<li><p>linux配置</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="regexp">/etc/</span>sysctl.conf</span><br><span class="line">追加</span><br><span class="line">vm.max_map_count=<span class="number">655360</span></span><br><span class="line">sysctl -p</span><br></pre></td></tr></table></figure></li>
<li><p>master配置用户名  yml</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">cluster<span class="selector-class">.initial_master_nodes</span>: <span class="selector-attr">[<span class="string">&quot;web1&quot;</span>]</span></span><br></pre></td></tr></table></figure></li>
<li><p>启动</p>
<figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line"><span class="string">./elasearch</span>  启动   -d g  -d表示h</span><br></pre></td></tr></table></figure></li>
<li><p>停止</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">kill</span> -sigterm pid</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="设置密码登录"><a href="#设置密码登录" class="headerlink" title="设置密码登录"></a>设置密码登录</h3><ol>
<li><p>开启xpack验证，追加内容到yml</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">xpack<span class="selector-class">.security</span><span class="selector-class">.enabled</span>: true</span><br><span class="line">xpack<span class="selector-class">.license</span><span class="selector-class">.self_generated</span><span class="selector-class">.type</span>: basic</span><br><span class="line">xpack<span class="selector-class">.security</span><span class="selector-class">.transport</span><span class="selector-class">.ssl</span><span class="selector-class">.enabled</span>: true</span><br></pre></td></tr></table></figure></li>
<li><p>设置密码</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">./elasticsearch-keystore <span class="builtin-name">add</span> <span class="string">&quot;bootstrap.password&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p>重启</p>
</li>
<li><p>访问</p>
<ol>
<li>curl <a href="http://elastic:wyg123@114.55.253.244:9200/">http://elastic:wyg123@114.55.253.244:9200/</a></li>
<li></li>
</ol>
</li>
<li><p>其他</p>
<p>linux开启9200端口</p>
<p>阿里云开启9200端口</p>
</li>
</ol>
<h2 id="logstash"><a href="#logstash" class="headerlink" title="logstash"></a>logstash</h2><h3 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h3><p>bin/logstatsh -f aa.conf</p>
<h3 id="三大插件"><a href="#三大插件" class="headerlink" title="三大插件"></a>三大插件</h3><ol>
<li>input 采集数据来源：github,jdbc,es</li>
<li>output:保存地点</li>
<li>filter: 数据处理</li>
</ol>
<h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">input &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">filter &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">output &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="jdbc导入"><a href="#jdbc导入" class="headerlink" title="jdbc导入"></a>jdbc导入</h3><ol>
<li>基本格式</li>
</ol>
<figure class="highlight puppet"><table><tr><td class="code"><pre><span class="line"><span class="keyword">input</span> &#123;</span><br><span class="line">  jdbc &#123;</span><br><span class="line">    <span class="attr">jdbc_driver_library</span> =&gt; <span class="string">&quot;mysql-connector-java-5.1.36-bin.jar&quot;</span></span><br><span class="line">    <span class="attr">jdbc_driver_class</span> =&gt; <span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line">    <span class="attr">jdbc_connection_string</span> =&gt; <span class="string">&quot;jdbc:mysql://localhost:3306/mydb&quot;</span></span><br><span class="line">    <span class="attr">jdbc_user</span> =&gt; <span class="string">&quot;mysql&quot;</span></span><br><span class="line">    <span class="attr">parameters</span> =&gt; &#123; <span class="string">&quot;favorite_artist&quot;</span> =&gt; <span class="string">&quot;Beethoven&quot;</span> &#125;</span><br><span class="line">    <span class="keyword">schedule</span> =&gt; <span class="string">&quot;* * * * *&quot;</span></span><br><span class="line">    statement =&gt; <span class="string">&quot;SELECT * from songs where artist = :favorite_artist&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>实时更新性原理<ol>
<li>sql_last_value关键字 用于表示上一条sql记录</li>
<li>当use_column_value=true时，表示用自增行</li>
</ol>
</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/11/%E6%95%B0%E6%8D%AE%E5%BA%93/nosql/elasticsearch%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<hr>
<h2 id="title-elasticSearch语法"><a href="#title-elasticSearch语法" class="headerlink" title="title:elasticSearch语法"></a>title:elasticSearch语法</h2><h2 id="Rest-Api"><a href="#Rest-Api" class="headerlink" title="Rest Api"></a>Rest Api</h2><p>122133</p>
<h2 id="一、Rest-Api"><a href="#一、Rest-Api" class="headerlink" title="一、Rest Api"></a>一、Rest Api</h2><h3 id="1-1-索引的增删改查"><a href="#1-1-索引的增删改查" class="headerlink" title="1.1 索引的增删改查"></a>1.1 索引的增删改查</h3><h4 id="创建索引"><a href="#创建索引" class="headerlink" title="创建索引"></a>创建索引</h4><figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">put</span> /shopping</span><br></pre></td></tr></table></figure>

<h4 id="删除索引"><a href="#删除索引" class="headerlink" title="删除索引"></a>删除索引</h4><figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> /shopping</span><br></pre></td></tr></table></figure>

<h4 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h4><h4 id="获得所有的索引信息"><a href="#获得所有的索引信息" class="headerlink" title="获得所有的索引信息"></a>获得所有的索引信息</h4><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="regexp">/_cat/i</span>ndices?v</span><br></pre></td></tr></table></figure>

<h3 id="1-2-文档的增删改查"><a href="#1-2-文档的增删改查" class="headerlink" title="1.2 文档的增删改查"></a>1.2 文档的增删改查</h3><h4 id="创建文档"><a href="#创建文档" class="headerlink" title="创建文档"></a>创建文档</h4><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">post <span class="regexp">/index1/</span>_doc/ +json</span><br><span class="line">post <span class="regexp">/index1/</span>_doc/id +json</span><br></pre></td></tr></table></figure>

<h4 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h4><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span>     /index1</span><br><span class="line"><span class="keyword">delete</span>     <span class="regexp">/index1/</span>_doc/id</span><br></pre></td></tr></table></figure>

<h4 id="更改"><a href="#更改" class="headerlink" title="更改"></a>更改</h4><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">全量更新 put  <span class="regexp">/index1/</span>_doc/id +json</span><br><span class="line">局部更新 post <span class="regexp">/index1/</span>_update/id +json</span><br></pre></td></tr></table></figure>

<h4 id="根据id查询文档"><a href="#根据id查询文档" class="headerlink" title="根据id查询文档"></a>根据id查询文档</h4><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="regexp">/index1/</span>_doc/<span class="number">1001</span></span><br></pre></td></tr></table></figure>

<h4 id="获得引的所有文档"><a href="#获得引的所有文档" class="headerlink" title="获得引的所有文档"></a>获得引的所有文档</h4><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="regexp">/index1/</span>_search</span><br></pre></td></tr></table></figure>

<h4 id="批量"><a href="#批量" class="headerlink" title="批量"></a>批量</h4><pre><code>1. 插入
1. 删除
</code></pre>
<h2 id="二、查询"><a href="#二、查询" class="headerlink" title="二、查询"></a>二、查询</h2><h3 id="2-0-两种"><a href="#2-0-两种" class="headerlink" title="2.0 两种"></a>2.0 两种</h3><h4 id="2-0-1-get-url"><a href="#2-0-1-get-url" class="headerlink" title="2.0.1 get+url"></a>2.0.1 get+url</h4><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">ip:port<span class="regexp">/shopping/</span>_search?q=name:<span class="string">&quot;wyg&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-0-2-get-json"><a href="#2-0-2-get-json" class="headerlink" title="2.0.2  get+json"></a>2.0.2  get+json</h4><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;<span class="comment">//条件查询</span></span><br><span class="line">    </span><br><span class="line">	<span class="attr">&quot;query&quot;</span>:&#123;</span><br><span class="line">		<span class="attr">&quot;match&quot;</span>:&#123;</span><br><span class="line">			<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;wyg&quot;</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">     <span class="comment">//只需要特定字段</span></span><br><span class="line">    <span class="string">&quot;_source&quot;</span>:[<span class="string">&quot;name&quot;</span>,<span class="string">&quot;id&quot;</span>,<span class="string">&quot;age&quot;</span>],</span><br><span class="line">	<span class="comment">//排序</span></span><br><span class="line">	<span class="attr">&quot;sort&quot;</span>:&#123;  </span><br><span class="line">        <span class="attr">&quot;age&quot;</span>:&#123;</span><br><span class="line">            <span class="attr">&quot;order&quot;</span>:<span class="string">&quot;desc&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">	<span class="comment">//分页</span></span><br><span class="line">    <span class="attr">&quot;from&quot;</span>:<span class="number">3</span>,  <span class="comment">//当前页</span></span><br><span class="line">    <span class="attr">&quot;size&quot;</span>:<span class="number">10</span>  <span class="comment">//一页数量</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;   <span class="comment">//查询全部</span></span><br><span class="line">    <span class="attr">&quot;query&quot;</span>:&#123;</span><br><span class="line">		<span class="attr">&quot;match_all&quot;</span>:&#123;	</span><br><span class="line">		&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<h3 id="2-1-base"><a href="#2-1-base" class="headerlink" title="2.1 base"></a>2.1 base</h3><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;<span class="comment">//条件查询</span></span><br><span class="line">	<span class="attr">&quot;query&quot;</span>:&#123;</span><br><span class="line">		<span class="attr">&quot;match&quot;</span>:&#123;</span><br><span class="line">			<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;wyg&quot;</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-多条件查询"><a href="#2-2-多条件查询" class="headerlink" title="2.2 多条件查询"></a>2.2 多条件查询</h3><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">&quot;query&quot;</span>:&#123;</span><br><span class="line">		<span class="attr">&quot;bool&quot;</span>:&#123;  <span class="comment">//条件</span></span><br><span class="line">			<span class="attr">&quot;should&quot;</span>:[  <span class="comment">//多条件必须匹配,还有must</span></span><br><span class="line">                &#123; </span><br><span class="line">                    <span class="attr">&quot;match&quot;</span>:&#123;</span><br><span class="line">                        <span class="attr">&quot;name&quot;</span>:<span class="string">&quot;wyg&quot;</span></span><br><span class="line">                	&#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                	<span class="attr">&quot;mathch&quot;</span>:&#123;</span><br><span class="line">                	    <span class="attr">&quot;name&quot;</span>:<span class="string">&quot;abc&quot;</span></span><br><span class="line">                	&#125;</span><br><span class="line">                &#125;</span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">&quot;filter&quot;</span>:&#123;  <span class="comment">//过滤条件</span></span><br><span class="line">                <span class="attr">&quot;range&quot;</span>:&#123; <span class="comment">//范围</span></span><br><span class="line">                    <span class="attr">&quot;age&quot;</span>:&#123;</span><br><span class="line">                        <span class="attr">&quot;gt&quot;</span>:<span class="number">20</span><span class="comment">//20岁以上</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="2-3-模糊查询—-gt-基于倒排索引"><a href="#2-3-模糊查询—-gt-基于倒排索引" class="headerlink" title="2.3 模糊查询—&gt;基于倒排索引"></a>2.3 模糊查询—&gt;基于倒排索引</h3><h4 id="模糊"><a href="#模糊" class="headerlink" title="模糊"></a>模糊</h4><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;<span class="comment">//条件查询</span></span><br><span class="line">	<span class="attr">&quot;query&quot;</span>:&#123;</span><br><span class="line">		<span class="attr">&quot;match&quot;</span>:&#123;</span><br><span class="line">			<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;wyg&quot;</span> <span class="comment">//拆解 w y g </span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="完全匹配"><a href="#完全匹配" class="headerlink" title="完全匹配"></a>完全匹配</h4><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">&quot;query&quot;</span>:&#123;</span><br><span class="line">		<span class="attr">&quot;match_phrase&quot;</span>:&#123;</span><br><span class="line">			<span class="attr">&quot;name&quot;</span>:<span class="string">&quot;wyg&quot;</span> <span class="comment">//拆解 w y g </span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">    <span class="comment">//对字段高亮</span></span><br><span class="line">    <span class="attr">&quot;highlight&quot;</span>:&#123;</span><br><span class="line">        <span class="attr">&quot;fields&quot;</span>:&#123;</span><br><span class="line">            <span class="attr">&quot;name&quot;</span>:&#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="mapping"><a href="#mapping" class="headerlink" title="mapping"></a>mapping</h2><h2 id="四、elasticsearch-java"><a href="#四、elasticsearch-java" class="headerlink" title="四、elasticsearch-java"></a>四、elasticsearch-java</h2><blockquote>
<p>操作elasticSearch的两种方式，通过restApi http:9200  通过tco:9300</p>
</blockquote>
<p><a href="https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-search.html">官网</a></p>
<h3 id="三个组件"><a href="#三个组件" class="headerlink" title="三个组件"></a>三个组件</h3><ol>
<li>api cilent</li>
<li>json mapping</li>
<li>传输层</li>
<li>、、</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>redis使用</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/nosql/redis/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h2><h3 id="1-1-特点"><a href="#1-1-特点" class="headerlink" title="1.1 特点"></a>1.1 特点</h3><ol>
<li>redis<ol>
<li>特点<ol>
<li><a href="https://www.jianshu.com/p/f42d5f5c495b">原子性</a></li>
<li><a href="https://www.cnblogs.com/myseries/p/11733861.html">单线程</a></li>
<li><a href="https://blog.csdn.net/xlgen157387/article/details/79470556">为什么说Redis是单线程的以及Redis为什么这么快</a></li>
</ol>
</li>
</ol>
</li>
<li>技术分类<ol>
<li><p>功能性: java jsp tomcat html jdbc linux</p>
</li>
<li><p>性能: nosql java线程 hadoop nginx mq elasticSearch</p>
</li>
<li><p>扩展 struts mybtis  spring springBoot </p>
<span id="more"></span></li>
</ol>
</li>
</ol>
<h3 id="解决问题"><a href="#解决问题" class="headerlink" title="解决问题"></a>解决问题</h3><ol>
<li><p>问题</p>
<ol>
<li><p>分布式服务器session共享问题</p>
<ol>
<li><p>放入到cookie，安全性差</p>
</li>
<li><p>session复制，数据冗余</p>
</li>
<li><p>jwt+共享远程nosql，直接放在内存，读取快</p>
</li>
</ol>
</li>
<li><p>数据库大</p>
<ol>
<li>分库分表，读写分离，破坏了业务逻辑</li>
<li>缓存，内存处理，减少IO操作</li>
</ol>
</li>
</ol>
</li>
<li><p>NoSQL(not only sql) 非关系型数据库   k—v</p>
<ol>
<li>特点<ol>
<li>不支持ACID</li>
<li>性能高</li>
<li>原子性</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="场景"><a href="#场景" class="headerlink" title="场景"></a>场景</h3><h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><ol>
<li>适: 高并发，海量数据，扩展性数据 </li>
<li>不适：事务支持，结构支持</li>
<li>常见NoSQL</li>
<li>Redis<pre><code>1. 支持持久化
    2. 多数据结构
</code></pre>
</li>
<li>MongoDB<pre><code>1. 文档型数据库
    2. json友好型
    3. 支持二进制
</code></pre>
</li>
<li>行数据库 </li>
<li>列数据库 avg ，mean,sum,方便</li>
<li>图数据库</li>
</ol>
<h4 id="实际场景"><a href="#实际场景" class="headerlink" title="实际场景"></a>实际场景</h4><ol>
<li>去最新n个数据的操作</li>
<li>排行榜，取top n个数据 //最佳人气前10条</li>
<li>精确的设置过期时间</li>
<li>计数器</li>
<li>实时系统， 反垃圾系统</li>
<li>pub， sub发布订阅构建实时消息系统</li>
<li>构建消息队列</li>
<li>缓存</li>
</ol>
<h4 id="各个机构的场景"><a href="#各个机构的场景" class="headerlink" title="各个机构的场景"></a>各个机构的场景</h4><ol>
<li>string: 缓存，限流，分布式锁，分布式sesson,计数器</li>
<li>hash:  用户信息，用户访问量</li>
<li>List：简单队列</li>
<li>set ：赞，菜，标签</li>
<li>zset ：排行榜</li>
</ol>
<h2 id="二、reids–linux"><a href="#二、reids–linux" class="headerlink" title="二、reids–linux"></a>二、reids–linux</h2><ol>
<li>各个文件<ol>
<li>benchmark 性能测试</li>
<li>check-aof  修复aof</li>
<li>sentinel  集群</li>
<li>server  启动</li>
<li>cli 客户端</li>
<li>redis.conf 配置文件</li>
</ol>
</li>
</ol>
<h3 id="2-1-下载"><a href="#2-1-下载" class="headerlink" title="2.1 下载"></a>2.1 下载</h3><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">wget</span> http://download.redis.io/releases/redis-<span class="number">6</span>.<span class="number">0</span>.<span class="number">8</span>.tar.gz</span><br><span class="line"><span class="attribute">tar</span> xzf redis-<span class="number">6</span>.<span class="number">0</span>.<span class="number">8</span>.tar.gz</span><br><span class="line"><span class="attribute">cd</span> redis-<span class="number">6</span>.<span class="number">0</span>.<span class="number">8</span></span><br><span class="line"><span class="attribute">make</span></span><br></pre></td></tr></table></figure>

<h2 id="四、五大类型"><a href="#四、五大类型" class="headerlink" title="四、五大类型"></a>四、五大类型</h2><h3 id="4-1-String字符串"><a href="#4-1-String字符串" class="headerlink" title="4.1 String字符串"></a>4.1 String字符串</h3><h4 id="4-11-说明"><a href="#4-11-说明" class="headerlink" title="4.11 说明"></a>4.11 说明</h4><ol>
<li>string是redis最基本的类型，一个key对应一个value。</li>
<li>string类型是二进制安全的。意思是redis的string可以包含任何数据。比如jpg图片或者序列化的对象 。</li>
<li>string类型是Redis最基本的数据类型，一个键最大能存储512MB。</li>
<li>动态String,ArrryList-&gt;扩容，每次1倍，大于1M则每次1M</li>
</ol>
<h4 id="4-12-操作"><a href="#4-12-操作" class="headerlink" title="4.12 操作"></a>4.12 操作</h4><ol>
<li>set k str  get k</li>
<li>append k 追加</li>
<li>strlen k</li>
<li>setnx  不存在则设置   返回0表示已经存在</li>
<li>incr/decr k  增加/减少1 </li>
<li>incrby/decrby k n  增加/减少n   原子性操作</li>
<li>mset mget msetnx(都不存在才成功)</li>
<li>getrange k begin end    —-&gt;substring</li>
<li>setrange k begin  str       —-&gt;替换覆盖</li>
<li>setex k 100 v  同时设置</li>
<li>getset 取了就换 </li>
</ol>
<h3 id="4-2-链表"><a href="#4-2-链表" class="headerlink" title="4.2 链表"></a>4.2 链表</h3><h4 id="4-21-说明"><a href="#4-21-说明" class="headerlink" title="4.21 说明"></a>4.21 说明</h4><ol>
<li>多值，排序，双向链表，索引差，两头性能高</li>
<li>redis列表是简单的字符串列表，排序为插入的顺序。列表的最大长度为2^32-1。</li>
<li>redis的列表是使用链表实现的，这意味着，即使列表中有上百万个元素，增加一个元素到列表的头部或尾部的操作都是在常量的时间完成。</li>
<li>可以用列表获取最新的内容（像帖子，微博等），用ltrim很容易就会获取最新的内容，并移除旧的内容。</li>
<li>用列表可以实现生产者消费者模式，生产者调用lpush添加项到列表中，消费者调用rpop从列表中提取，如果没有元素，则轮询去获取，或者使用brpop等待生产者添加项到列表中。</li>
</ol>
<h4 id="4-22-操作"><a href="#4-22-操作" class="headerlink" title="4.22 操作"></a>4.22 操作</h4><ol>
<li>push k v1 v2  左是头-头插法  v2 v1</li>
<li>rpush k v1 v2 右是头头插法 v1 v2</li>
<li>lrange k begin end 从左开始取</li>
<li>lpop/rpop  从左/右吐出一个</li>
<li>rpoplpush  右边吐一个放在左边 </li>
<li>index k 0  按下标取</li>
<li>llen</li>
<li>linsert k before/after “str3”  “strn” 在str3 前面插入strn</li>
<li>lrem k before/after “str3”  …</li>
<li>lset k 0 “wang” 把第一个设置为”wang”</li>
</ol>
<h3 id="4-3-集合"><a href="#4-3-集合" class="headerlink" title="4.3 集合"></a>4.3 集合</h3><h4 id="4-31-说明"><a href="#4-31-说明" class="headerlink" title="4.31 说明"></a>4.31 说明</h4><ol>
<li>redis集合是无序的字符串集合，集合中的值是唯一的，无序的。可以对集合执行很多操作，例如，测试元素是否存在，对多个集合执行交集、并集和差集等等。</li>
<li>我们通常可以用集合存储一些无关顺序的，表达对象间关系的数据，例如用户的角色，可以用sismember很容易就判断用户是否拥有某个角色。</li>
<li>在一些用到随机值的场合是非常适合的，可以用 srandmember/spop 获取/弹出一个随机元素。<br>同时，使用@EnableCaching开启声明式缓存支持，这样就可以使用基于注解的缓存技术。注解缓存是一个对缓存使用的抽象，过在代码中添加下面的一些注解，达到缓存的效果。</li>
</ol>
<h4 id="4-32-操作"><a href="#4-32-操作" class="headerlink" title="4.32 操作"></a>4.32 操作</h4><h3 id="4-4-ZSet有序集合"><a href="#4-4-ZSet有序集合" class="headerlink" title="4.4 ZSet有序集合"></a>4.4 ZSet有序集合</h3><h4 id="4-41-说明"><a href="#4-41-说明" class="headerlink" title="4.41 说明"></a>4.41 说明</h4><ol>
<li>有序集合由唯一的，不重复的字符串元素组成。有序集合中的每个元素都关联了一个浮点值，称为分数。可以把有序看成hash和集合的混合体，分数即为hash的key。</li>
<li>set 底层hash 无序 不重复</li>
<li>有序集合中的元素是按序存储的，不是请求时才排序的。</li>
</ol>
<h4 id="4-42-操作"><a href="#4-42-操作" class="headerlink" title="4.42 操作"></a>4.42 操作</h4><ol>
<li>sadd k v1 v2</li>
<li>smembers k</li>
<li>sismember k v v是否存在 1true</li>
<li>scard k   返回个数</li>
<li>spop 随机吐出一个</li>
<li>srandmenber k  n随机取出n个</li>
<li>smove k v k2   迁移</li>
<li>交集</li>
<li>并集</li>
</ol>
<h3 id="4-5-Hash-哈希"><a href="#4-5-Hash-哈希" class="headerlink" title="4.5 Hash-哈希"></a>4.5 Hash-哈希</h3><h4 id="4-51-说明"><a href="#4-51-说明" class="headerlink" title="4.51 说明"></a>4.51 说明</h4><ol>
<li>redis的哈希值是字符串字段和字符串之间的映射，是表示对象的完美数据类型。</li>
<li>哈希中的字段数量没有限制，所以可以在你的应用程序以不同的方式来使用哈</li>
</ol>
<h4 id="4-52-操作"><a href="#4-52-操作" class="headerlink" title="4.52 操作"></a>4.52 操作</h4><p><a href="https://www.runoob.com/redis/redis-hashes.html">hash</a></p>
<table>
<thead>
<tr>
<th>序号</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>hdel hs key field1 [field2]        删除一个或多个哈希表字段</td>
</tr>
<tr>
<td>2</td>
<td>hexisit hs key field 查看哈希表 key 中，指定的字段是否存在。</td>
</tr>
<tr>
<td>3</td>
<td>hget key field 获取存储在哈希表中指定字段的值。</td>
</tr>
<tr>
<td>4</td>
<td>hgetall hs  key 获取在哈希表中指定 key 的所有字段和值</td>
</tr>
<tr>
<td>5</td>
<td><a href="https://www.runoob.com/redis/hashes-hincrby.html">HINCRBY key field increment</a> 为哈希表 key 中的指定字段的整数值加上增量 increment 。</td>
</tr>
<tr>
<td>6</td>
<td><a href="https://www.runoob.com/redis/hashes-hincrbyfloat.html">HINCRBYFLOAT key field increment</a> 为哈希表 key 中的指定字段的浮点数值加上增量 increment 。</td>
</tr>
<tr>
<td>7</td>
<td><a href="https://www.runoob.com/redis/hashes-hkeys.html">HKEYS key</a> 获取所有哈希表中的字段</td>
</tr>
<tr>
<td>8</td>
<td><a href="https://www.runoob.com/redis/hashes-hlen.html">HLEN key</a> 获取哈希表中字段的数量</td>
</tr>
<tr>
<td>9</td>
<td>[HMGET key field1 <a href="https://www.runoob.com/redis/hashes-hmget.html">field2]</a> 获取所有给定字段的值</td>
</tr>
<tr>
<td>10</td>
<td>[HMSET key field1 value1 <a href="https://www.runoob.com/redis/hashes-hmset.html">field2 value2 ]</a> 同时将多个 field-value (域-值)对设置到哈希表 key 中。</td>
</tr>
<tr>
<td>11</td>
<td><a href="https://www.runoob.com/redis/hashes-hset.html">HSET key field value</a> 将哈希表 key 中的字段 field 的值设为 value 。</td>
</tr>
<tr>
<td>12</td>
<td><a href="https://www.runoob.com/redis/hashes-hsetnx.html">HSETNX key field value</a> 只有在字段 field 不存在时，设置哈希表字段的值。</td>
</tr>
<tr>
<td>13</td>
<td><a href="https://www.runoob.com/redis/hashes-hvals.html">HVALS key</a> 获取哈希表中所有值。</td>
</tr>
<tr>
<td>14</td>
<td>[HSCAN key cursor <a href="https://www.runoob.com/redis/hashes-hscan.html">MATCH pattern] [COUNT count]</a> 迭代哈希表中的键值对。</td>
</tr>
</tbody></table>
<h2 id="六、原理"><a href="#六、原理" class="headerlink" title="六、原理"></a>六、原理</h2><ol>
<li>单线程+多路IO复用 NIO</li>
<li>list<ol>
<li>quickList<ol>
<li>数据少的时候是连续内存  ziplist</li>
<li>数据多将多个ziplist用链表连接起来</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="七、远程连接"><a href="#七、远程连接" class="headerlink" title="七、远程连接"></a>七、远程连接</h2><h3 id="7-1-配置"><a href="#7-1-配置" class="headerlink" title="7.1 配置"></a>7.1 配置</h3><ol>
<li><p>修改.conf配置文件</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">bind 0.0.0.0 </span><br><span class="line">protected-mode no</span><br></pre></td></tr></table></figure></li>
<li><p>增加密码</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">&gt;redis <span class="built_in"> config </span><span class="builtin-name">set</span> requirepass root1</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="7-2-连接"><a href="#7-2-连接" class="headerlink" title="7.2 连接"></a>7.2 连接</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">redis-cli -h 192.168.100.1 </span><br><span class="line"><span class="meta">&gt;</span><span class="bash">redis auth root1</span></span><br></pre></td></tr></table></figure>





<h3 id="7-3-操作"><a href="#7-3-操作" class="headerlink" title="7.3 操作"></a>7.3 操作</h3><h2 id="八、安装"><a href="#八、安装" class="headerlink" title="八、安装"></a>八、安装</h2><h3 id="Redis6"><a href="#Redis6" class="headerlink" title="Redis6"></a>Redis6</h3><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ol>
<li><a href="https://blog.csdn.net/xlgen157387/article/details/79470556">https://blog.csdn.net/xlgen157387/article/details/79470556</a></li>
</ol>
<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><ol>
<li>不用keys</li>
</ol>
<h4 id="新的数据类型"><a href="#新的数据类型" class="headerlink" title="新的数据类型"></a>新的数据类型</h4><h4 id="redis新事务"><a href="#redis新事务" class="headerlink" title="redis新事务"></a>redis新事务</h4><h4 id="主从复制"><a href="#主从复制" class="headerlink" title="主从复制"></a>主从复制</h4><h4 id="雪崩"><a href="#雪崩" class="headerlink" title="雪崩"></a>雪崩</h4>]]></content>
      <categories>
        <category>数据库</category>
      </categories>
  </entry>
  <entry>
    <title>redis命令</title>
    <url>/2022/03/10/%E6%95%B0%E6%8D%AE%E5%BA%93/nosql/reids%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<blockquote>
<p>1.基于内存的key-value数据库<br>2.基于c语言编写的，可以支持多种语言的api //set每秒11万次，取get 81000次<br>3.支持数据持久化<br>4.value可以是string，hash， list， set, sorted set</p>
<p>使用场景</p>
<ol>
<li>去最新n个数据的操作</li>
<li>排行榜，取top n个数据 //最佳人气前10条</li>
<li>精确的设置过期时间</li>
<li>计数器</li>
<li>实时系统， 反垃圾系统</li>
<li>pub， sub发布订阅构建实时消息系统</li>
<li>构建消息队列</li>
<li>缓存</li>
</ol>
</blockquote>
<h2 id="一、命令"><a href="#一、命令" class="headerlink" title="一、命令"></a>一、命令</h2><h3 id="1-1-启动-连接-停止"><a href="#1-1-启动-连接-停止" class="headerlink" title="1.1      启动 连接 停止"></a>1.1      启动 连接 停止</h3><p>启动</p>
<figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cd</span> src</span><br><span class="line"><span class="string">./redis-servie</span></span><br></pre></td></tr></table></figure>

<p>连接客户端</p>
<figure class="highlight x86asm"><table><tr><td class="code"><pre><span class="line">./redis-<span class="keyword">cli</span></span><br><span class="line">./redis-<span class="keyword">cli</span> -h <span class="built_in">ip</span>地址 -p 端口</span><br></pre></td></tr></table></figure>

<p>停止/kill</p>
<figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line"><span class="string">./redis-cli</span> <span class="keyword">shutdown</span></span><br></pre></td></tr></table></figure>



<h2 id="二、操作"><a href="#二、操作" class="headerlink" title="二、操作"></a>二、操作</h2><h3 id="2-0-配置命令"><a href="#2-0-配置命令" class="headerlink" title="2.0 配置命令"></a>2.0 配置命令</h3><ol>
<li><p>获得配置信息</p>
<p>config get key</p>
</li>
</ol>
<h3 id="2-1-全局"><a href="#2-1-全局" class="headerlink" title="2.1 全局"></a>2.1 全局</h3><h4 id="2-1-1-库操作"><a href="#2-1-1-库操作" class="headerlink" title="2.1.1  库操作"></a>2.1.1  库操作</h4><ol>
<li>切换库 select 1</li>
<li>dbsize数据库大小</li>
<li>flushdb 清空库</li>
</ol>
<h4 id="2-1-2-key操作"><a href="#2-1-2-key操作" class="headerlink" title="2.1.2 key操作"></a>2.1.2 key操作</h4><blockquote>
<p>注意每个单词要有空格分开</p>
</blockquote>
<ol>
<li>查看所有 keys *   keys nam*  查看所有 nam开头的* </li>
<li> 赋值 set k v </li>
<li> 多赋值 mset k1 k2 v1 v2</li>
<li> 获取值  get k</li>
<li> 多取值 mget k1 k2</li>
<li>检查是否存在  exists key</li>
<li>key类型 type key </li>
<li>删除key del key</li>
<li>删除所有key flushdb</li>
<li>设置过期时间秒 expire key  10  </li>
<li>persist key 删除过期时间</li>
<li>ttl  key 查看多少秒过期  -2 已经过期   -1 永不过期</li>
</ol>
<h3 id="2-2-string"><a href="#2-2-string" class="headerlink" title="2.2 string"></a>2.2 string</h3><h3 id="2-3-hash"><a href="#2-3-hash" class="headerlink" title="2.3 hash"></a>2.3 hash</h3><h3 id="2-4-set"><a href="#2-4-set" class="headerlink" title="2.4 set"></a>2.4 set</h3><h3 id="2-5-zset"><a href="#2-5-zset" class="headerlink" title="2.5 zset"></a>2.5 zset</h3>]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/java%E4%B8%AD%E7%9A%84/Arrays/</url>
    <content><![CDATA[<h2 id="数组操作"><a href="#数组操作" class="headerlink" title="数组操作"></a>数组操作</h2><ol>
<li><p>截取</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Arrays.copyOfRange(nums,begin,mid+<span class="number">1</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>clone</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">nums.clone()</span><br></pre></td></tr></table></figure></li>
<li><p>创建特定大小的list</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">List&lt;Integer&gt;x=<span class="keyword">new</span> ArrayList&lt;&gt;(Arrays.asList(<span class="keyword">new</span> Integer[list.size()]));</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/java%E4%B8%AD%E7%9A%84/Math/</url>
    <content><![CDATA[<ol>
<li><p>Math.floor(f) f向下取整</p>
<p>​    </p>
</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>java中的优先队列</title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/java%E4%B8%AD%E7%9A%84/%E5%A0%86%E6%8E%92%E5%BA%8F-%E4%BC%98%E5%85%88-pro/</url>
    <content><![CDATA[<h3 id="找前k大的"><a href="#找前k大的" class="headerlink" title="找前k大的"></a>找前k大的</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[]findMaxK(<span class="keyword">int</span>[]nums,<span class="keyword">int</span> k)&#123;</span><br><span class="line">    PriorityQueue&lt;Integer&gt;queue=<span class="keyword">new</span> PriorityQueue&lt;&gt;(((o1, o2) -&gt; o1-o2));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k;i++)</span><br><span class="line">        queue.offer(nums[i]);</span><br><span class="line">    <span class="keyword">for</span>(;k&lt; nums.length;k++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(queue.peek()&lt;nums[k])&#123;</span><br><span class="line">            queue.poll();</span><br><span class="line">            queue.offer(nums[k]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> queue.stream().mapToInt(Integer::valueOf).toArray();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>Comparator</title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/java%E4%B8%AD%E7%9A%84/%E6%8E%92%E5%BA%8F/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、Comparator比较器"><a href="#一、Comparator比较器" class="headerlink" title="一、Comparator比较器"></a>一、Comparator比较器</h2><h3 id="1-1-重写-compare-o1-o2"><a href="#1-1-重写-compare-o1-o2" class="headerlink" title="1.1 重写 compare(o1,o2)"></a>1.1 重写 compare(o1,o2)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Arrays.sort(mat, <span class="keyword">new</span> Comparator&lt;<span class="keyword">int</span>[]&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">int</span>[] o1, <span class="keyword">int</span>[] o2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="1-2-lambda"><a href="#1-2-lambda" class="headerlink" title="1.2 lambda"></a>1.2 lambda</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Arrays.sort(mat, (o1, o2) -&gt; o1[<span class="number">0</span>]-o2[<span class="number">0</span>]);<span class="comment">//自然排序 o1是本身，return表示返回的坐标</span></span><br></pre></td></tr></table></figure>

<h3 id="1-3-自然排序-小在前"><a href="#1-3-自然排序-小在前" class="headerlink" title="1.3 自然排序(小在前)"></a>1.3 自然排序(小在前)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Arrays.sort(mat, Comparator.comparingInt(o -&gt; o[<span class="number">0</span>]));</span><br></pre></td></tr></table></figure>

<h2 id="二、Comparable-接口"><a href="#二、Comparable-接口" class="headerlink" title="二、Comparable 接口"></a>二、Comparable 接口</h2><ol>
<li>需要重写compareTo 方法</li>
<li>Arrays.sort(cats)不需要比较器</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>数据结构转换</title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/java%E4%B8%AD%E7%9A%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%BD%AC%E6%8D%A2/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="事实"><a href="#事实" class="headerlink" title="事实"></a>事实</h3><ol>
<li>存在Stream<int>而不存在List<int></li>
<li>ArrayList,HashSet都有一个接受Collection的<strong>构造函数</strong></li>
<li>Arrays.toList()返回的不是List，但确是一个Collection</li>
</ol>
<h3 id="List–-gt-Array"><a href="#List–-gt-Array" class="headerlink" title="List–&gt;Array"></a>List–&gt;Array</h3><h4 id="List拆箱函数"><a href="#List拆箱函数" class="headerlink" title="List拆箱函数"></a>List<int>拆箱函数</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">list.stream().mapToInt(Integer::intValue).toArray();</span><br></pre></td></tr></table></figure>

<h4 id="普通对象"><a href="#普通对象" class="headerlink" title="普通对象"></a>普通对象</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;Object&gt;list;</span><br><span class="line">list.toArray(<span class="keyword">new</span> Object[size]);</span><br></pre></td></tr></table></figure>

<h4 id="二维数组"><a href="#二维数组" class="headerlink" title="二维数组"></a>二维数组</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;<span class="keyword">int</span>[]&gt; merged = <span class="keyword">new</span> ArrayList&lt;<span class="keyword">int</span>[]&gt;()</span><br><span class="line">merged.toArray(<span class="keyword">new</span> <span class="keyword">int</span>[merged.size()][]);</span><br></pre></td></tr></table></figure>

<h3 id="Array–-gt-List"><a href="#Array–-gt-List" class="headerlink" title="Array–&gt;List"></a>Array–&gt;List</h3><h4 id="装箱"><a href="#装箱" class="headerlink" title="装箱"></a>装箱</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Arrays.stream(nums).boxed.collect(Collectors.toList());</span><br></pre></td></tr></table></figure>

<h4 id="构造函数-asList创建"><a href="#构造函数-asList创建" class="headerlink" title="构造函数+asList创建"></a>构造函数+asList创建</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;Integer&gt; list=<span class="keyword">new</span> ArrayList&lt;&gt;(Arrays.asList(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>));</span><br></pre></td></tr></table></figure>

<h3 id="list–-gt-set"><a href="#list–-gt-set" class="headerlink" title="list–&gt;set"></a>list–&gt;set</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> HashSet&lt;&gt;(list);</span><br></pre></td></tr></table></figure>



<h3 id="任意转换"><a href="#任意转换" class="headerlink" title="任意转换"></a>任意转换</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Arrays.stream(as).map().toArray()</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>leetcode</title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E5%81%9A%E9%94%99%E7%9A%84%E9%A2%98/leetcode/</url>
    <content><![CDATA[<h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><ul>
<li><p><input disabled="" type="checkbox">  31.下一个排列 &gt;单调性</p>
</li>
<li><p><input disabled="" type="checkbox">  128.最长连续序列  </p>
<blockquote>
<p>数学思维&gt;两种情况 只需考虑begin-end</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> </p>
</li>
</ul>
<h3 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h3><ul>
<li><input disabled="" type="checkbox"> 322.零钱兑换 动态规划</li>
<li><input disabled="" type="checkbox"> 518.零钱兑换2</li>
</ul>
<h3 id="dfs"><a href="#dfs" class="headerlink" title="dfs"></a>dfs</h3><ul>
<li><p><input disabled="" type="checkbox">  面试题12<a href="https://leetcode-cn.com/problems/ju-zhen-zhong-de-lu-jing-lcof/solution/mian-shi-ti-12-ju-zhen-zhong-de-lu-jing-shen-du-yo/">字串的路径</a></p>
<blockquote>
<p>string标识符”\0”</p>
<blockquote>
<p>用”\0”记录是否遍历过，而不是用path[]数组记录，使用完后再把”\0”还原成原字符。</p>
</blockquote>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox">  offer13.机器人的运动范围</p>
<figure class="highlight handlebars"><table><tr><td class="code"><pre><span class="line"><span class="xml">对于一般的二维数组dfs,可以只考虑 int[][]nexts=</span><span class="template-variable">&#123;&#123;<span class="name">1</span>,<span class="number">0</span>&#125;,&#123;-1,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,-1&#125;&#125;</span><span class="xml">;的</span><span class="template-variable">&#123;&#123;<span class="name">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;&#125;</span><span class="xml">,也就是只需要考虑向下和向右</span></span><br></pre></td></tr></table></figure></li>
<li><p><input disabled="" type="checkbox">  offer68.最近公共祖先</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span> || root == p || root == q) <span class="keyword">return</span> root;</span><br><span class="line">    TreeNode left = lowestCommonAncestor(root.left, p, q);</span><br><span class="line">    TreeNode right = lowestCommonAncestor(root.right, p, q);</span><br><span class="line">    <span class="keyword">if</span>(left == <span class="keyword">null</span>) <span class="keyword">return</span> right;</span><br><span class="line">    <span class="keyword">if</span>(right == <span class="keyword">null</span>) <span class="keyword">return</span> left;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>对于三类的递归，可以考虑 -1 0 1</p>
<p>也可以直接使用下一层的结果  left rigth null</p>
</blockquote>
<blockquote>
<p>对于递归性+boolean </p>
<ol>
<li>该阶段判空</li>
<li>获得left、right的res</li>
<li>对left，right判空</li>
<li>return  root、left、right 三种</li>
</ol>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox">  offer33.是否为二叉搜索树的后序遍历</p>
<figure class="highlight clean"><table><tr><td class="code"><pre><span class="line">  ```</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">- [ ] </span><br><span class="line"></span><br><span class="line">### 字符串</span><br><span class="line"></span><br><span class="line">- [ ] offer45.排成最小的数</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>```</p>
<blockquote>
<p>22 &lt; 2231    算法:  (22+2231).compareTo(2231+22)</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox">  1</p>
</li>
</ul>
<h3 id="数"><a href="#数" class="headerlink" title="数"></a>数</h3><ul>
<li><p><input disabled="" type="checkbox">  offer7.重建二叉树</p>
</li>
<li><p><input disabled="" type="checkbox">  1</p>
</li>
</ul>
<h3 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h3><ul>
<li><p><input disabled="" type="checkbox">  offer56.数组中出现的次数</p>
<p>有限状态机</p>
<blockquote>
<p>该类题是对数组中元素进行&lt;异或抵消&gt;然后结果就会剩一个</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> </p>
</li>
</ul>
]]></content>
      <categories>
        <category>算法</category>
      </categories>
  </entry>
  <entry>
    <title>二维数组</title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84/</url>
    <content><![CDATA[<h3 id="二位数组排序"><a href="#二位数组排序" class="headerlink" title="二位数组排序"></a>二位数组排序</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>算法</category>
      </categories>
  </entry>
  <entry>
    <title>二叉搜索树</title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/</url>
    <content><![CDATA[<p>又名：二叉排序树</p>
<h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ol>
<li><p> 对于每个节点都有：左子树所有节点&lt;节点&lt;右子树所有节点</p>
</li>
<li><p>中序遍历可以得到一个有序序列</p>
</li>
<li><p>后序遍历得到从大到小的序列</p>
</li>
</ol>
]]></content>
      <categories>
        <category>算法</category>
      </categories>
  </entry>
  <entry>
    <title>单调栈</title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%8D%95%E8%B0%83%E6%A0%88/</url>
    <content><![CDATA[<h3 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h3><ol>
<li>单调递增栈：从栈底到栈顶是从大到小</li>
<li>单调递减栈就是从栈底到栈顶是从小到大</li>
</ol>
<h3 id="单调栈要素"><a href="#单调栈要素" class="headerlink" title="单调栈要素"></a>单调栈要素</h3><ol>
<li>大小</li>
<li>数组</li>
</ol>
<h3 id="关键"><a href="#关键" class="headerlink" title="关键"></a>关键</h3><ol>
<li>单调栈是否可等</li>
</ol>
]]></content>
      <categories>
        <category>算法</category>
      </categories>
  </entry>
  <entry>
    <title>图</title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%9B%BE/</url>
    <content><![CDATA[<h3 id="1-复制图"><a href="#1-复制图" class="headerlink" title="1. 复制图"></a>1. 复制图</h3><blockquote>
<p>基于Map&lt;原node,index&gt; + Node[新]</p>
</blockquote>
]]></content>
      <categories>
        <category>算法</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%A0%86-%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/</url>
    <content><![CDATA[<hr>
<hr>
]]></content>
  </entry>
  <entry>
    <title>数据结构总结</title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<h3 id="各个结构方法"><a href="#各个结构方法" class="headerlink" title="各个结构方法"></a>各个结构方法</h3><ol>
<li>树：<ol>
<li>两颗树：比较、clone、<ul>
<li>递归</li>
</ul>
</li>
<li>遍历：<ol>
<li>深度优先(栈)</li>
<li>广度优先(队列)</li>
<li>层次遍历(队列)</li>
</ol>
</li>
</ol>
</li>
<li>链表：快慢指针</li>
<li>dp：数组<code>[][]</code></li>
<li>图：类似树，但是因为各节点连通，需要map记录已经访问过的节点。</li>
<li>栈、队列：考虑数学归纳法</li>
<li>数组：一般关系<ol>
<li>o(n): map后者双指针</li>
<li>o(logn):二分</li>
</ol>
</li>
<li>dfs 如果是list 考虑八皇后clone<ul>
<li>java的list没有clone</li>
<li>Collections.copy(dest,src);</li>
</ul>
</li>
</ol>
<h2 id="Java中结构"><a href="#Java中结构" class="headerlink" title="Java中结构"></a>Java中结构</h2><h3 id="Stack"><a href="#Stack" class="headerlink" title="Stack"></a>Stack</h3><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">pop</span><span class="params">()</span></span> 更好</span><br><span class="line"><span class="function"><span class="title">remove</span><span class="params">()</span></span> 没得话会报错</span><br><span class="line"><span class="function"><span class="title">peek</span><span class="params">()</span></span> </span><br><span class="line"><span class="function"><span class="title">isEmpty</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="title">add</span><span class="params">()</span></span> 满的话会报错</span><br><span class="line"><span class="function"><span class="title">push</span><span class="params">()</span></span>  更好</span><br></pre></td></tr></table></figure>

<h3 id="Quene"><a href="#Quene" class="headerlink" title="Quene"></a>Quene</h3><h4 id="基于list模仿queue"><a href="#基于list模仿queue" class="headerlink" title="基于list模仿queue"></a>基于list模仿queue</h4><blockquote>
<p>思想：基于len+index</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> end=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(end&gt;<span class="number">0</span>)&#123;</span><br><span class="line">    Node now=list.get(begin++);</span><br><span class="line">    <span class="keyword">if</span>(now.left!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        list.add(now.left);</span><br><span class="line">        end++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(now.right!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        list.add(now.right);</span><br><span class="line">        end++;</span><br><span class="line">    &#125;</span><br><span class="line">    end--;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





]]></content>
      <categories>
        <category>算法</category>
      </categories>
  </entry>
  <entry>
    <title>动态规划</title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/</url>
    <content><![CDATA[<h3 id="入门–斐波那契"><a href="#入门–斐波那契" class="headerlink" title="入门–斐波那契"></a>入门–斐波那契</h3><blockquote>
<p>正向：短暂记忆搜索</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">fib</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> next=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> temp=next%<span class="number">1000000007</span>;</span><br><span class="line">        next=temp+res;</span><br><span class="line">        res=temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>逆向：长久记忆搜索</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numWays</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> []nums=<span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">    nums[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    nums[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        nums[i]=(nums[i-<span class="number">1</span>]+nums[i-<span class="number">2</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums[n];</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>非记忆：递归</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numWays</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(n==<span class="number">2</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">2</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">return</span> (numWays(n-<span class="number">1</span>)+numWays(n-<span class="number">2</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>算法</category>
      </categories>
  </entry>
  <entry>
    <title>启发式搜索</title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95/%E5%90%AF%E5%8F%91%E5%BC%8F%E6%90%9C%E7%B4%A2/</url>
    <content><![CDATA[<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><ol>
<li>数组的话先把n=len确定了</li>
<li>递归一定要有Dep</li>
</ol>
]]></content>
      <categories>
        <category>算法</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E6%96%87%E7%AB%A0/%E5%85%B3%E4%BA%8E%E4%BA%8C%E5%88%86%E5%BF%AB%E6%8E%92%E5%92%8C%E4%BF%A1%E6%81%AF%E8%AE%BA/</url>
    <content><![CDATA[<ol>
<li><a href="https://www.cnblogs.com/lexus/archive/2012/12/12/2815128.html">关于二分快排和信息论</a><ol>
<li>数组重排：一共n!种情况</li>
<li>有几种状态就平分几份，比如二分查找需要平分两份，称球需要平分三份。</li>
</ol>
</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>第k小的数</title>
    <url>/2022/03/08/%E7%AE%97%E6%B3%95/%E9%A2%98%E7%9B%AE/%E7%AC%ACk%E5%B0%8F/</url>
    <content><![CDATA[<h3 id="一、排序"><a href="#一、排序" class="headerlink" title="一、排序"></a>一、排序</h3><p>nlogn</p>
<h3 id="二、堆排序"><a href="#二、堆排序" class="headerlink" title="二、堆排序"></a>二、堆排序</h3><ol>
<li>维护一个大小为k的大根堆</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>mybatis-plus2</title>
    <url>/2022/03/08/%E7%BB%84%E4%BB%B6/ORM/mybatis-plus-%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E5%99%A8/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="代码生成器"><a href="#代码生成器" class="headerlink" title="代码生成器"></a>代码生成器</h3><ol>
<li><p>步骤</p>
<ol>
<li><p>依赖</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-generator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>Latest Version<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>java代码</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">FastAutoGenerator.create(<span class="string">&quot;url&quot;</span>, <span class="string">&quot;username&quot;</span>, <span class="string">&quot;password&quot;</span>)</span><br><span class="line">	.globalConfig(builder -&gt; &#123;</span><br><span class="line">		builder.author(<span class="string">&quot;baomidou&quot;</span>) <span class="comment">// 设置作者</span></span><br><span class="line">            .enableSwagger() <span class="comment">// 开启 swagger 模式</span></span><br><span class="line">			.fileOverride() <span class="comment">// 覆盖已生成文件</span></span><br><span class="line">			.outputDir(<span class="string">&quot;D://&quot;</span>); <span class="comment">// 指定输出目录</span></span><br><span class="line">	&#125;)</span><br><span class="line">	.packageConfig(builder -&gt; &#123;</span><br><span class="line">		builder.parent(<span class="string">&quot;com.baomidou.mybatisplus.samples.generator&quot;</span>) <span class="comment">// 设置父包名</span></span><br><span class="line">			.moduleName(<span class="string">&quot;system&quot;</span>) <span class="comment">// 设置父包模块名</span></span><br><span class="line">            .pathInfo(Collections.singletonMap(OutputFile.mapperXml, <span class="string">&quot;D://&quot;</span>)); <span class="comment">// 设置mapperXml生成路径</span></span><br><span class="line">	&#125;)</span><br><span class="line">	.strategyConfig(builder -&gt; &#123;</span><br><span class="line">		builder.addInclude(<span class="string">&quot;t_simple&quot;</span>) <span class="comment">// 设置需要生成的表名</span></span><br><span class="line">			.addTablePrefix(<span class="string">&quot;t_&quot;</span>, <span class="string">&quot;c_&quot;</span>); <span class="comment">// 设置过滤表前缀</span></span><br><span class="line">	&#125;)</span><br><span class="line">	.templateEngine(<span class="keyword">new</span> FreemarkerTemplateEngine()) <span class="comment">// 使用Freemarker引擎模板，默认的是Velocity引擎模板</span></span><br><span class="line">	.execute();</span><br></pre></td></tr></table></figure></li>
<li></li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>组件</category>
      </categories>
  </entry>
  <entry>
    <title>ORM框架</title>
    <url>/2022/03/08/%E7%BB%84%E4%BB%B6/ORM/ORM%E6%A1%86%E6%9E%B6/</url>
    <content><![CDATA[<h3 id="技术发展"><a href="#技术发展" class="headerlink" title="技术发展"></a>技术发展</h3><ol>
<li><p>JDBC–传统的数据库操作</p>
<ol>
<li><p>数据库种类太多而产生的一个规范，一种接口</p>
</li>
<li><p>步骤</p>
<ol>
<li><p>加载驱动</p>
</li>
<li><p>获得连接conn</p>
</li>
<li><p>创建sql语句</p>
</li>
<li><p>获得报表-</p>
</li>
<li><p>执行的到结果集</p>
</li>
<li><p>while resultSet.next()</p>
<ol>
<li>创建user</li>
<li>setter.getInt</li>
<li>addToList</li>
</ol>
</li>
<li><p>关闭</p>
<span id="more"></span></li>
</ol>
</li>
<li><p>缺陷</p>
<ol>
<li>操作繁琐<ol>
<li>每次statement</li>
<li>每次取得的数据都要next+new user</li>
<li>表的属性名称繁琐，下划线与驼峰命名的转换</li>
</ol>
</li>
<li>占位符</li>
<li>连接浪费每次都链接—连接池</li>
<li>代码重复</li>
<li>sql硬编码–xml反射</li>
<li>没缓存</li>
</ol>
</li>
<li><p>代码</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">            conn = DriverManager.getConnection(URL, USER, PASSWORD);</span><br><span class="line">             String sql = <span class="string">&quot;select * from student2&quot;</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            ps = conn.prepareStatement(sql);</span><br><span class="line">            ResultSet resultSet = ps.executeQuery();</span><br><span class="line">            <span class="keyword">while</span> (resultSet.next()) &#123;</span><br><span class="line">                Student student = <span class="keyword">new</span> Student();</span><br><span class="line">                student.setId(resultSet.getInt(<span class="string">&quot;id&quot;</span>));</span><br><span class="line">                student.setName(resultSet.getString(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">                ScoreCourse scoreCourse = <span class="keyword">new</span> ScoreCourse();</span><br><span class="line">                <span class="keyword">for</span> (String course : Course.getCourses()) &#123;</span><br><span class="line">                    scoreCourse.getScoreCourseMap().put(course, resultSet.getInt(course));</span><br><span class="line">                &#125;</span><br><span class="line">                student.setScoreCourse(scoreCourse);</span><br><span class="line">                res.add(student);</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>ORM思想</p>
<ol>
<li>两个映射关系<ol>
<li>实体类—表</li>
<li>实体类属性—表字段</li>
</ol>
</li>
<li>封装jdbc，全自动hibernate</li>
</ol>
</li>
<li><p>JPA </p>
<ol>
<li>Java对象持久化API</li>
<li>ORM框架太多产生的规范，一种规范</li>
<li>常见<ol>
<li>hebernate</li>
<li>OpenJPA</li>
<li>TopLink</li>
</ol>
</li>
<li>三方面<ol>
<li><strong>ORM映射元数据</strong>： 支持XML和注解两种元数据的形式，元数据描述对象和表之间的映射关系</li>
<li><strong>API</strong>： 操作实体对象来执行CRUD操作</li>
<li><strong>查询语言</strong>： 通过面向对象而非面向数据库的查询语言（<code>JPQL</code>）查询数据，避免程序的SQL语句紧密耦合</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="springData-jap"><a href="#springData-jap" class="headerlink" title="springData-jap"></a><a href="https://spring.io/projects/spring-data-jpa#overview">springData-jap</a></h3><ol>
<li><p>依赖-配置</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">jpa:</span></span><br><span class="line">    <span class="attr">database:</span> <span class="string">MySQL</span></span><br><span class="line">    <span class="attr">database-platform:</span> <span class="string">org.hibernate.dialect.MySQL5InnoDBDialect</span></span><br><span class="line">    <span class="attr">show-sql:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">hibernate:</span></span><br><span class="line">      <span class="attr">ddl-auto:</span> <span class="string">update</span></span><br></pre></td></tr></table></figure>

<p>参数:</p>
<ol>
<li><code>create</code>：每次运行程序时，都会重新创建表，故而数据会丢失</li>
<li><code>create-drop</code>：每次运行程序时会先创建表结构，然后待程序结束时清空表</li>
<li><code>upadte</code>：每次运行程序，没有表时会创建表，如果对象发生改变会更新表结构，原有数据不会清空，只会更新（推荐使用）</li>
<li><code>validate</code>：运行程序会校验数据与数据库的字段类型是否相同，字段不同会报错</li>
<li><code>none</code>: 禁用DDL处理</li>
<li>show-sql：打印sql语句，方便调试</li>
</ol>
</li>
<li><p>uml图</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211009005723461.png" alt="image-20211009005723461"></p>
<ol>
<li>Repository：最顶层的接口，是一个空的接口，目的是为了统一所有Repository的类型，且能让组件扫描的时候自动识别。Repository&lt;T, ID&gt;使用泛型定义的实体类类型和主健类型。</li>
<li>CrudRepository ：是Repository的子接口，提供CRUD的功能,有哪些接口看API，默认是很简单的CRUD操作。</li>
<li>PagingAndSortingRepository：是CrudRepository的子接口，添加分页和排序的功能，很少使用。</li>
<li>JpaRepository：是PagingAndSortingRepository的子接口，增加了一些实用的功能，比如：批量操作等。如果有分页操作，一般继承这个类。</li>
<li>JpaSpecificationExecutor：用来做负责查询的接口</li>
<li>Specification：是Spring Data JPA提供的一个查询规范，要做复杂的查询，只需围绕这个规范来设置查询条件即可</li>
</ol>
</li>
<li><p>细节</p>
<ol>
<li><p>entity</p>
<p>@entity @table  @id @Column</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GenericGenerator(name = &quot;idGenerator&quot;, strategy = &quot;uuid&quot;)</span></span><br><span class="line"><span class="meta">@GeneratedValue(generator = &quot;idGenerator&quot;)</span></span><br></pre></td></tr></table></figure></li>
<li><p>dao</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserRepository</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">User</span>, <span class="title">String</span>&gt; </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>controller</p>
<ol>
<li><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> UserRepository userRepository;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="jdbcTemplate"><a href="#jdbcTemplate" class="headerlink" title="jdbcTemplate"></a>jdbcTemplate</h3><ol>
<li></li>
</ol>
]]></content>
      <categories>
        <category>组件</category>
      </categories>
  </entry>
  <entry>
    <title>mybatis-plus使用</title>
    <url>/2022/03/08/%E7%BB%84%E4%BB%B6/ORM/mybatis-plus/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="使用步骤"><a href="#使用步骤" class="headerlink" title="使用步骤"></a>使用步骤</h3><ol>
<li><p>依赖</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>创建mapper继承Base,这里的@Mapper可不加，plus已封装</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> <span class="keyword">extends</span> <span class="title">BaseMapper</span>&lt;<span class="title">User</span>&gt; </span>&#123; &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>entity—table对应</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@TableName(&quot;article&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Article</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>注入mapper</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">UserMapper userMapper;</span><br></pre></td></tr></table></figure></li>
<li><p>调用QueryWrapper</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//通过数据库获取用户名和密码</span></span><br><span class="line">QueryWrapper&lt;Users&gt;wrapper=<span class="keyword">new</span> QueryWrapper&lt;&gt;();</span><br><span class="line">wrapper.eq(<span class="string">&quot;name&quot;</span>,name);</span><br><span class="line">Users users = userMapper.selectOne(wrapper);</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="基本Component"><a href="#基本Component" class="headerlink" title="基本Component"></a>基本Component</h3><ol>
<li>Mapper extends BaseMapper&lt;Student&gt;</li>
<li>Service extends Iservice&lt;Student&gt;</li>
<li>ServiceImpl extends ServiceImpl&lt;Mapper,Student&gt; implements Service </li>
<li>其他<ol>
<li>所有要用到的方法都需要在接口service上定义或者已经被定义</li>
<li>甚至对于需要写mapper.xml的方法需要在xml,mapper,servcie,serviceImpl都要有</li>
</ol>
</li>
</ol>
<h3 id="wrapper"><a href="#wrapper" class="headerlink" title="wrapper"></a>wrapper</h3><p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211009144556147.png" alt="image-20211009144556147"></p>
<span id="more"></span>

<p> <a href="https://mp.baomidou.com/guide/wrapper.html">wrapper官方文档</a></p>
<ol>
<li><p>全等map：allEq(map,bool)</p>
</li>
<li><p>不相等 ne</p>
</li>
<li><p>allEq(filter)  筛选key</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//key有a才算条件</span></span><br><span class="line">allEq((k,v) -&gt; k.indexOf(<span class="string">&quot;a&quot;</span>) &gt;= <span class="number">0</span>, &#123;id:<span class="number">1</span>,name:<span class="string">&quot;老王&quot;</span>,age:<span class="keyword">null</span>&#125;)---&gt;name = <span class="string">&#x27;老王&#x27;</span> and age is <span class="keyword">null</span></span><br></pre></td></tr></table></figure></li>
<li><p>范围 between</p>
<p>between(“age”, 18, 30)<code>---&gt;</code>age between 18 and 30</p>
</li>
<li><p>模糊查询</p>
<p>like(“name”, “王”)<code>---&gt;</code>name like ‘%王%’</p>
<p>likeLeft 左  这个不走索引</p>
</li>
<li><p>insql 纯sql的in</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">inSql(<span class="string">&quot;id&quot;</span>, <span class="string">&quot;select id from table where id &lt; 3&quot;</span>)`---&gt;`<span class="function">id <span class="title">in</span> <span class="params">(select id from table where id &lt; <span class="number">3</span>)</span></span></span><br></pre></td></tr></table></figure></li>
<li><p>groupBy</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">groupBy(<span class="string">&quot;id&quot;</span>, <span class="string">&quot;name&quot;</span>)`---&gt;`group by id,name</span><br></pre></td></tr></table></figure></li>
<li><p>having   sql</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">having(<span class="string">&quot;sum(age) &gt; &#123;0&#125;&quot;</span>, <span class="number">11</span>)---&gt;<span class="function">having <span class="title">sum</span><span class="params">(age)</span> &gt; 11</span></span><br></pre></td></tr></table></figure></li>
<li><p>order asc desc</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">orderByAsc(<span class="string">&quot;id&quot;</span>, <span class="string">&quot;name&quot;</span>)---&gt;order by id ASC,name ASC</span><br></pre></td></tr></table></figure></li>
<li><p>func</p>
</li>
<li><p>apply –拼接sql</p>
<p>该方法可用于数据库<strong>函数</strong> 动态入参的<code>params</code>对应前面<code>applySql</code>内部的<code>&#123;index&#125;</code>部分.这样是不会有sql注入风险的,反之会有!</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">apply(<span class="string">&quot;date_format(dateColumn,&#x27;%Y-%m-%d&#x27;) = &#123;0&#125;&quot;</span>, <span class="string">&quot;2008-08-08&quot;</span>)</span><br><span class="line">    ---&gt; date_format(dateColumn,<span class="string">&#x27;%Y-%m-%d&#x27;</span>) = <span class="string">&#x27;2008-08-08&#x27;</span><span class="string">&quot;)</span></span><br></pre></td></tr></table></figure></li>
<li><p>last –最后拼接</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">last(<span class="string">&quot;limit 1&quot;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>exists 拼接exists语句</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">exists(<span class="string">&quot;select id from table where age = 1&quot;</span>)---&gt;exists (select id from table where age = <span class="number">1</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>LambdaQuerryWrapper</p>
</li>
</ol>
<h3 id="CURD"><a href="#CURD" class="headerlink" title="CURD"></a>CURD</h3><ol>
<li>BaseMapper<ol>
<li>select<ol>
<li>selectById</li>
<li>selectOne 条件查询唯一条的，有多个符合条件会报错</li>
<li>selectByMap({“name”:”wang”,”age”:12})   map的k是数据库的下划线形式</li>
<li>selectByPage(new Page&lt;Object&gt;(2,10))  </li>
</ol>
</li>
<li>update <ol>
<li>byId(obj) 自动跳过空值  </li>
<li>AllColumnsById</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="method"><a href="#method" class="headerlink" title="method"></a>method</h3><ol>
<li>seleteByMap</li>
</ol>
<h3 id="entity"><a href="#entity" class="headerlink" title="entity"></a>entity</h3><ol>
<li>@TableField</li>
<li></li>
</ol>
<h3 id="自动insert功能"><a href="#自动insert功能" class="headerlink" title="自动insert功能"></a>自动insert功能</h3><ol>
<li><p>创建配置器</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//交给spring管理</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyMetaObjectHandler</span> <span class="keyword">implements</span> <span class="title">MetaObjectHandler</span> </span>&#123;</span><br><span class="line">    <span class="comment">//使用mp实现添加操作,这个方法会执行,metaObject元数据(表中的名字,表中的字段)</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertFill</span><span class="params">(MetaObject metaObject)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//根据名称设置属性值</span></span><br><span class="line">        <span class="keyword">this</span>.setFieldValByName(<span class="string">&quot;createTime&quot;</span>,<span class="keyword">new</span> Date(),metaObject);</span><br><span class="line">        <span class="keyword">this</span>.setFieldValByName(<span class="string">&quot;updateTime&quot;</span>,<span class="keyword">new</span> Date(),metaObject);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//使用mp实现修改操作,这个方法会执行</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateFill</span><span class="params">(MetaObject metaObject)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.setFieldValByName(<span class="string">&quot;updateTime&quot;</span>,<span class="keyword">new</span> Date(),metaObject);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>实体类插入创建时间</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//自动创建时间</span></span><br><span class="line"><span class="meta">@TableField(value = &quot;create_time&quot;, fill = FieldFill.INSERT)</span></span><br><span class="line"> java.util.Date dateT</span><br></pre></td></tr></table></figure>

<ol>
<li>注意这个Date是java.util</li>
</ol>
</li>
</ol>
<h3 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a>分页查询</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span><span class="comment">//注入分页插件bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> PaginationInterceptor <span class="title">paginationInterceptor</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> PaginationInterceptor();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//使用Page&lt;T&gt;对象</span></span><br><span class="line">Page page=<span class="keyword">new</span> Page&lt;&gt;(current,size);</span><br><span class="line">baseMapper.page(page,wrapper);</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="乐观锁"><a href="#乐观锁" class="headerlink" title="乐观锁"></a>乐观锁</h3><ol>
<li><p>entity注解</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Version</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> version;</span><br></pre></td></tr></table></figure></li>
<li><p>乐观锁插件</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> OptimisticLockerInnerInterceptor <span class="title">optimisticLockerInnerInterceptor</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> OptimisticLockerInnerInterceptor();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="Id生成"><a href="#Id生成" class="headerlink" title="Id生成"></a>Id生成</h3><ol>
<li><p>代码</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//保存/新建  如果没有id就是新建，就创建id，然后插入</span></span><br><span class="line">String id = reqDTO.getId();</span><br><span class="line"><span class="keyword">if</span>(StringUtils.isBlank(id))&#123;</span><br><span class="line">    id = IdWorker.getIdStr();</span><br><span class="line">    <span class="keyword">long</span> id = IdWorker.getId();</span><br><span class="line">    String uuid = IdWorker.get32UUID();</span><br><span class="line">    String idStr = IdWorker.getIdStr();</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@TableId(type = IdType.ASSIGN_ID)</span></span><br><span class="line">\</span><br></pre></td></tr></table></figure></li>
<li><p>UUID(Universally Unique Dentifer)的标准型式包含32个16进制数字,以连字号分为五段,形式为8-4-4-4-12的32个字符,示例:550e8400-e29b-41d4-a716-446655440000</p>
</li>
<li><p><a href="https://blog.csdn.net/qq_40950903/article/details/108589837">各个id对与分布式的应用</a></p>
</li>
<li><p>id生成策略</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">AUTO 数据库ID自增</span><br><span class="line"><span class="keyword">INPUT</span> 用户输入ID</span><br><span class="line"><span class="type">UUID</span> 全局唯一ID，<span class="type">UUID</span>类型的主键</span><br><span class="line"><span class="keyword">NONE</span> 该类型为未设置主键类</span><br><span class="line">ASSIGN_ID <span class="number">19</span> 雪花算法</span><br><span class="line">ASSIGN_UUID <span class="number">19</span></span><br></pre></td></tr></table></figure></li>
<li><p>雪花算法</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211013014035492.png" alt="image-20211013014035492"></p>
</li>
</ol>
]]></content>
      <categories>
        <category>组件</category>
      </categories>
  </entry>
  <entry>
    <title>mybatis-plus自定义查询</title>
    <url>/2022/03/08/%E7%BB%84%E4%BB%B6/ORM/mybatis-plus%E5%A4%8D%E6%9D%82%E8%87%AA%E5%AE%9A%E4%B9%89%E6%9F%A5%E8%AF%A2/</url>
    <content><![CDATA[<h3 id="count"><a href="#count" class="headerlink" title="count"></a>count</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">wrapper.select(<span class="string">&quot;count(*)regSort&quot;</span>).gt(<span class="string">&quot;all_num&quot;</span>,countOfCompany.getAllNum());</span><br><span class="line">Map&lt;String, Object&gt; map = getMap(wrapper);</span><br><span class="line">Object regSort = map.get(<span class="string">&quot;regSort&quot;</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>count 需要转换成java的long</p>
</blockquote>
<h3 id="group-by"><a href="#group-by" class="headerlink" title="group by"></a>group by</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">wrapper.select(<span class="string">&quot;count(*) as nums,,open_id,rank&quot;</span>).eq(<span class="string">&quot;rank&quot;</span>,<span class="number">5</span>).groupBy(<span class="string">&quot;file_name&quot;</span>).orderByDesc(<span class="string">&quot;nums&quot;</span>)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ORM框架</category>
      </categories>
  </entry>
  <entry>
    <title>mybatis之动态sql</title>
    <url>/2022/03/08/%E7%BB%84%E4%BB%B6/ORM/mybatis-%E5%8A%A8%E6%80%81sql/</url>
    <content><![CDATA[<h1 id="mybatis之动态sql"><a href="#mybatis之动态sql" class="headerlink" title="mybatis之动态sql"></a>mybatis之动态sql</h1><p>动态sql是Mybatis增加mapper.xml的sql语句的灵活性而设计的。</p>
<p>[toc]</p>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><ol>
<li><p>date-string转换函数</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateInventory&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.docc.model.Inventory&quot;</span>&gt;</span></span><br><span class="line">update BUS_INVENTORY</span><br><span class="line">set orgcode = #&#123;orgcode,jdbcType=VARCHAR&#125;,</span><br><span class="line">    reportdate = #&#123;reportdate,jdbcType=CHAR&#125;,</span><br><span class="line">    checkname = &#x27;$&#123;checkname&#125;&#x27;,</span><br><span class="line">    archivetime = to_date(#&#123;archivetime,jdbcType=DATE&#125;,&#x27;yyyy-mm-dd&#x27;)      </span><br><span class="line">where id = #&#123;id,jdbcType=DECIMAL&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="条件"><a href="#条件" class="headerlink" title="条件"></a>条件</h3><ol>
<li><p>条件if</p>
<p> 一定要注意多if于单if下where,and所在位置，但条件的话where就要在if里面，且不需要and，下面用trim解决</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findActiveBlogWithTitleLike&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Blog&quot;</span>&gt;</span></span><br><span class="line">  SELECT * FROM BLOG</span><br><span class="line">  WHERE state = ‘ACTIVE’</span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;title != null&quot;</span>&gt;</span></span><br><span class="line">    AND title like #&#123;title&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>优先条件 choose-when-otherwise</p>
<p>优先条件查询：繁杂的when&lt;—-&gt;繁杂的if-else</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findActiveBlogLike&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Blog&quot;</span>&gt;</span></span><br><span class="line">  SELECT * FROM BLOG WHERE state = ‘ACTIVE’</span><br><span class="line">  <span class="tag">&lt;<span class="name">choose</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;title != null&quot;</span>&gt;</span></span><br><span class="line">      AND title like #&#123;title&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;author != null and author.name != null&quot;</span>&gt;</span></span><br><span class="line">      AND author_name like #&#123;author.name&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">otherwise</span>&gt;</span></span><br><span class="line">      AND featured = 1</span><br><span class="line">    <span class="tag">&lt;/<span class="name">otherwise</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">choose</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>为null条件trim-where-set</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findActiveBlogLike&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Blog&quot;</span>&gt;</span></span><br><span class="line">  SELECT * FROM BLOG WHERE</span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;state != null&quot;</span>&gt;</span></span><br><span class="line">    state = #&#123;state&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;title != null&quot;</span>&gt;</span></span><br><span class="line">    AND title like #&#123;title&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;author != null and author.name != null&quot;</span>&gt;</span></span><br><span class="line">    AND author_name like #&#123;author.name&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>集合遍历—foreach  (in)</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectPostIn&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;domain.blog.Post&quot;</span>&gt;</span></span><br><span class="line">  SELECT * FROM POST P</span><br><span class="line">  WHERE ID in</span><br><span class="line">  <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">item</span>=<span class="string">&quot;item&quot;</span> <span class="attr">index</span>=<span class="string">&quot;index&quot;</span> <span class="attr">collection</span>=<span class="string">&quot;list&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">open</span>=<span class="string">&quot;(&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;,&quot;</span> <span class="attr">close</span>=<span class="string">&quot;)&quot;</span>&gt;</span></span><br><span class="line">        #&#123;item&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li></li>
</ol>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h3 id="传参"><a href="#传参" class="headerlink" title="传参"></a>传参</h3><h2 id="映射"><a href="#映射" class="headerlink" title="映射"></a>映射</h2><blockquote>
<p>找到小明的学校信息</p>
</blockquote>
<h3 id="一对一"><a href="#一对一" class="headerlink" title="一对一"></a>一对一</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">type</span>=<span class="string">&quot;com.wyg.entity.Student&quot;</span> <span class="attr">id</span>=<span class="string">&quot;resMap&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">column</span>=<span class="string">&quot;name&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;school&quot;</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> </span></span><br><span class="line"><span class="tag">                 <span class="attr">select</span>=<span class="string">&quot;com.wyg.mapper.SchoolMapper.getSchoolById&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>property：java类属性</p>
<p>column：mysql字段</p>
<p>association：联系</p>
<p>select：get—sql方法</p>
<h3 id="一对多"><a href="#一对多" class="headerlink" title="一对多"></a>一对多</h3><blockquote>
<p>找到小明的老师们的信息</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">type</span>=<span class="string">&quot;com.wyg.entity.Student&quot;</span> <span class="attr">id</span>=<span class="string">&quot;resMap&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">column</span>=<span class="string">&quot;name&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;teachers&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;ArrayList&quot;</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">ofType</span>=<span class="string">&quot;com.wyg.entity.teacher&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">select</span>=<span class="string">&quot;com.wyg.mapper.TeacherMapper.getTeacherById&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">fetchType</span>=<span class="string">&quot;lazy&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;tId&quot;</span> <span class="attr">column</span>=<span class="string">&quot;t_id&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;tName&quot;</span> <span class="attr">column</span>=<span class="string">&quot;t_name&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="多对多"><a href="#多对多" class="headerlink" title="多对多"></a>多对多</h3><h3 id="注入攻击"><a href="#注入攻击" class="headerlink" title="注入攻击"></a>注入攻击</h3>]]></content>
      <categories>
        <category>组件</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/%E7%BB%84%E4%BB%B6/ORM/mybatis/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="大致步骤"><a href="#大致步骤" class="headerlink" title="大致步骤"></a>大致步骤</h3><ol>
<li>sqlSessionFactoryBuilder   &lt;- sqlMapConfig</li>
<li>sqlSessionFactory –&gt;sqlSession（Connection的封装，有增删改查功能）</li>
<li>①生成代理对象          ② 定义通用的sql语句</li>
<li>这地方没听会</li>
<li>封装结果集</li>
</ol>
<h3 id="特别的"><a href="#特别的" class="headerlink" title="特别的"></a>特别的</h3><ol>
<li><p>插入后对象会自动生成id</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Repo entity = <span class="keyword">new</span> Repo();</span><br><span class="line">BeanMapper.copy(reqDTO, entity);</span><br><span class="line"><span class="keyword">this</span>.saveOrUpdate(entity);</span><br><span class="line">RepoCategories repoCategories = <span class="keyword">new</span> RepoCategories();</span><br><span class="line">BeanMapper.copy(reqDTO, repoCategories);</span><br><span class="line"><span class="comment">//已经自动copy parentId</span></span><br><span class="line"><span class="comment">//插入entity已经自动形成id</span></span><br><span class="line">repoCategories.setId(entity.getId());</span><br></pre></td></tr></table></figure></li>
<li><p>xml可以 arg0  param1 但是不能写参数类型</p>
</li>
<li><p>模糊查询</p>
<ol>
<li>传入前加入%%</li>
<li>在mapper.xml中写    ‘%${arg0}%’</li>
<li>like concat(‘%’,#{arg0},’%’)</li>
</ol>
</li>
</ol>
<h3 id="tree-查询"><a href="#tree-查询" class="headerlink" title="tree 查询"></a>tree 查询</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppInfo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> parentid;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> List&lt;AppInfo&gt; childList;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;appsTree&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.lg.business.common.ws.AppInfo&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;int&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;parentid&quot;</span> <span class="attr">property</span>=<span class="string">&quot;parentid&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;int&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;String&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">collection</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;childList&quot;</span> <span class="attr">select</span>=<span class="string">&quot;getAppsByPid&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getAllWsAppList&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;appsTree&quot;</span>&gt;</span></span><br><span class="line">        select id,parentid,name from flow_app_info where parentid=0</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getAppsByPid&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;appsTree&quot;</span>&gt;</span></span><br><span class="line">        select id,parentid,name from flow_app_info where parentid=#&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="一、ORM框架介绍"><a href="#一、ORM框架介绍" class="headerlink" title="一、ORM框架介绍"></a>一、ORM框架介绍</h3><ol>
<li><p>就好像抽掉各个部件的计算机主板，它没有实际作用，但是有许多部件接口，部件被装上后就能使用了</p>
<p>优点：提高开发效率  统一规则，利于团队管理  灵活的配置，利于维护   </p>
</li>
<li><p>SSM框架  </p>
<pre><code> spring      --框架的框架
 springMVC   --用于web应用分层
 mybatis     --小鸟：简化数据库的交互   JDBC的封装
</code></pre>
</li>
</ol>
<h3 id="二、类"><a href="#二、类" class="headerlink" title="二、类"></a>二、类</h3><ol>
<li>sqlSessionFactory</li>
<li>sqlSession   自定义mybatis和数据库交互的核心类   </li>
<li>IuerDao<br> @select(“select * from name”)<br> List<user> findAll(); </li>
</ol>
<h3 id="三、类"><a href="#三、类" class="headerlink" title="三、类"></a>三、类</h3><ol>
<li>class Resource  使用类加载器读取配置文件的类 <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> inputstream <span class="title">getResourceStream</span><span class="params">(filePath)</span></span></span><br><span class="line"><span class="function">    return Resource.Class.getClassloader.<span class="title">getResourceAsStream</span><span class="params">(filePath)</span> <span class="comment">//获取字节码     获取字节码类加载器   根据类加载器读取配置</span></span></span><br></pre></td></tr></table></figure>
</li>
<li>class sqlSessionFactoryBuilder    //用于创建工厂对象  <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> sqlSessionFactory <span class="title">build</span><span class="params">(Inputstream config)</span></span></span><br><span class="line"><span class="function">    configration cfg </span>=XMLConfigBuider.loadConfigration(config)</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> factory(config) </span><br></pre></td></tr></table></figure>
</li>
<li>class DefalutsqlSession impl sqlSession  创建代理对象，释放资源 <figure class="highlight java"><table><tr><td class="code"><pre><span class="line">pri configration cfg</span><br><span class="line">pri conn</span><br><span class="line"><span class="keyword">public</span> &lt;T&gt; <span class="function">T <span class="title">getMapper</span><span class="params">(class&lt;T&gt; daoInterClass)</span></span></span><br><span class="line"><span class="function">    proxy.<span class="title">newProxyInstace</span><span class="params">(daoInterClass.getClassloader()</span>,new Class[]</span>&#123;daoInterClass&#125;,<span class="keyword">new</span> MapperProxy(cfg.getmappers(),conn))          </span><br><span class="line">        <span class="comment">//proxy代理  ---&gt;  加载类   </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="title">if</span><span class="params">(conn!=<span class="keyword">null</span>)</span></span></span><br></pre></td></tr></table></figure></li>
</ol>
<ol start="4">
<li><p>class configration       </p>
 <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function">pri driver</span></span><br><span class="line"><span class="function">pri url</span></span><br><span class="line"><span class="function">pri username</span></span><br><span class="line"><span class="function">pri password</span></span><br><span class="line"><span class="function">pri Map&lt;String,Mapper&gt; mappers</span></span><br><span class="line"><span class="function">getter and <span class="title">setter</span><span class="params">(mappers)</span></span></span><br><span class="line"><span class="function">setMapper</span></span><br><span class="line"><span class="function">    <span class="keyword">this</span>.mappers.<span class="title">putAll</span><span class="params">(mappers)</span>  追加放入</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>class Mapper    用于封装sql语句和全限定类名resultType<br> pri resultType<br> pri sql</p>
</li>
<li><p>class factory implements sqlSessionFactory<br> pri configration cfg<br> openSession</p>
</li>
<li><p>class MapperProxy impl InvocationHandler   增强seletelist方法    —&gt; DefalutsqlSession</p>
 <figure class="highlight java"><table><tr><td class="code"><pre><span class="line">pri Map&lt;string,map&gt; mappers;</span><br><span class="line"><span class="function">pri conn</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy,Method method,Object []args)</span></span></span><br><span class="line"><span class="function">    methodname </span>=method.getname                  获取方法名</span><br><span class="line">    classname=method.getdeclaringClass().getname(); 获取方法所在类名</span><br><span class="line">    key =classname+<span class="string">&#x27;.&#x27;</span>+methodname</span><br><span class="line">    mapper=mapper.get(key)</span><br><span class="line">    <span class="keyword">if</span>(mapper==<span class="keyword">null</span>) <span class="keyword">throw</span> <span class="function">out</span></span><br><span class="line"><span class="function">    return new <span class="title">Execute</span><span class="params">()</span>.<span class="title">selectlist</span><span class="params">(mapper,conn)</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>class DatasourceUtil   创建数据源的类</p>
 <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> conn <span class="title">getconnection</span><span class="params">(configration cfg)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">try</span> class.<span class="title">forname</span><span class="params">(daoInterClass.getClassloader()</span>)</span></span><br><span class="line"><span class="function">    return DriverMpper.<span class="title">getconnection</span><span class="params">(cfg.geturl,cfg,getusername,cfg.getpassword)</span></span></span><br></pre></td></tr></table></figure>
 <figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    </span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="四、配置文件"><a href="#四、配置文件" class="headerlink" title="四、配置文件"></a>四、配置文件</h3><h4 id="4-1-sqlMapConfig-xml"><a href="#4-1-sqlMapConfig-xml" class="headerlink" title="4.1 sqlMapConfig.xml"></a>4.1 sqlMapConfig.xml</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">conf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">envs</span> <span class="attr">default</span>=<span class="string">&quot;mysql&quot;</span>&gt;</span>  <span class="comment">&lt;!--配置环境--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">env</span> <span class="attr">id</span>=<span class="string">&quot;mysql&quot;</span>&gt;</span>    <span class="comment">&lt;!--配置mysql环境--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionmanger</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>&gt;</span><span class="comment">&lt;!--配置事物类型--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span> <span class="comment">&lt;!--配置数据源--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span> =<span class="string">&quot;driver&quot;</span> <span class="attr">value</span> <span class="attr">com.driver....</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">url</span> &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">username</span> &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">password</span>&gt;</span></span><br><span class="line">             /&gt;   </span><br><span class="line">        /&gt;</span><br><span class="line">    /&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span>   <span class="comment">&lt;!--指定映射文件--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span> =<span class="string">&quot;iuserdao.xml&quot;</span>&gt;</span> <span class="comment">&lt;!--xml型--&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">class</span> =<span class="string">&quot;com.wyg.dao.IuerDao&quot;</span>&gt;</span><span class="comment">&lt;!--注解型--&gt;</span></span><br><span class="line">    /&gt;</span><br><span class="line">/&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-2-mapper-xml"><a href="#4-2-mapper-xml" class="headerlink" title="4.2 mapper.xml"></a>4.2 mapper.xml</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mapper</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;&quot;</span>&gt;</span>   <span class="comment">&lt;!--id 方法名  --&gt;</span></span><br><span class="line">    /&gt;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>



<ol start="2">
<li></li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>redisTemplata</title>
    <url>/2022/03/08/%E7%BB%84%E4%BB%B6/ORM/redisTemplate/</url>
    <content><![CDATA[<p>[toc]</p>
<p><a href="https://blog.csdn.net/lydms/article/details/105224210">参考-原文</a></p>
<h2 id="一、简介"><a href="#一、简介" class="headerlink" title="一、简介"></a>一、简介</h2><h3 id="1-1-Redis"><a href="#1-1-Redis" class="headerlink" title="1.1 Redis"></a>1.1 Redis</h3><p>​    redis是一款开源的Key-Value数据库，运行在内存中，由C语言编写。企业开发通常采用Redis来实现缓存。同类的产品还有memcache 、memcached 等。</p>
<h3 id="1-2-Jedis"><a href="#1-2-Jedis" class="headerlink" title="1.2 Jedis"></a>1.2 Jedis</h3><p>​    Jedis是Redis官方推出的一款面向Java的客户端，提供了很多接口供Java语言调用。可以在Redis官网下载，当然还有一些开源爱好者提供的客户端，如Jredis、SRP等等，推荐使用Jedis。</p>
<h3 id="1-3-Spring-Data-Redis"><a href="#1-3-Spring-Data-Redis" class="headerlink" title="1.3 Spring Data Redis"></a>1.3 Spring Data Redis</h3><p>​    Spring-data-redis是spring大家族的一部分，提供了在srping应用中通过简单的配置访问redis服务，对reids底层开发包(Jedis, JRedis, and RJC)进行了高度封装，RedisTemplate提供了redis各种操作、异常处理及序列化，支持发布订阅，并对spring 3.1 cache进行了实现。</p>
<h3 id="1-4-spring-data-redis针对jedis提供了如下功能："><a href="#1-4-spring-data-redis针对jedis提供了如下功能：" class="headerlink" title="1.4 spring-data-redis针对jedis提供了如下功能："></a>1.4 spring-data-redis针对jedis提供了如下功能：</h3><ol>
<li>连接池自动管理，提供了一个高度封装的“RedisTemplate”类</li>
<li>针对jedis客户端中大量api进行了归类封装,将同一类型操作封装为operation接口<ol>
<li>ValueOperations：简单K-V操作</li>
<li>SetOperations：set类型数据操作</li>
<li>ZSetOperations：zset类型数据操作</li>
<li>HashOperations：针对map类型的数据操作</li>
<li>ListOperations：针对list类型的数据操作</li>
</ol>
</li>
<li>提供了对key的“bound”(绑定)便捷化操作API，可以通过bound封装指定的key，然后进行一系列的操作而无须“显式”的再次指定Key，即BoundKeyOperations：<ul>
<li>BoundValueOperations</li>
<li>BoundSetOperations</li>
<li>BoundListOperations</li>
<li>BoundSetOperations</li>
<li>BoundHashOperations</li>
</ul>
</li>
<li>将事务操作封装，有容器控制。</li>
<li>针对数据的“序列化/反序列化”，提供了多种可选择策略(RedisSerializer)</li>
</ol>
<h3 id="1-5-三大类型"><a href="#1-5-三大类型" class="headerlink" title="1.5 三大类型"></a>1.5 三大类型</h3><h4 id="1-5-1-JdkSerializationRedisSerializer"><a href="#1-5-1-JdkSerializationRedisSerializer" class="headerlink" title="1.5.1 JdkSerializationRedisSerializer"></a>1.5.1 JdkSerializationRedisSerializer</h4><blockquote>
<p>​    POJO对象的存取场景，使用JDK本身序列化机制，将pojo类通过ObjectInputStream/ObjectOutputStream进行序列化操作，最终redis-server中将存储字节序列。是目前最常用的序列化策略。</p>
</blockquote>
<h4 id="1-5-2-StringRedisSerializer"><a href="#1-5-2-StringRedisSerializer" class="headerlink" title="1.5.2 StringRedisSerializer"></a>1.5.2 StringRedisSerializer</h4><blockquote>
<p>​    Key或者value为字符串的场景，根据指定的charset对数据的字节序列编码成string，是“new String(bytes, charset)”和“string.getBytes(charset)”的直接封装。是最轻量级和高效的策略。</p>
</blockquote>
<h4 id="JacksonJsonRedisSerializer"><a href="#JacksonJsonRedisSerializer" class="headerlink" title="JacksonJsonRedisSerializer"></a>JacksonJsonRedisSerializer</h4><blockquote>
<p>​    jackson-json工具提供了javabean与json之间的转换能力，可以将pojo实例序列化成json格式存储在redis中，也可以将json格式的数据转换成pojo实例。因为jackson工具在序列化和反序列化时，需要明确指定Class类型，因此此策略封装起来稍微复杂。【需要jackson-mapper-asl工具支持】</p>
</blockquote>
<h2 id="二、API"><a href="#二、API" class="headerlink" title="二、API"></a>二、API</h2><h3 id="2-1-直接用法"><a href="#2-1-直接用法" class="headerlink" title="2.1 直接用法"></a>2.1 直接用法</h3><ol>
<li><p>删除单个key   redisTemplate.delete(key);</p>
</li>
<li><p>删除多个key   redisTemplate.delete(keys);</p>
</li>
<li><p>指定key的失效时间</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">expire</span><span class="params">(String key,<span class="keyword">long</span> time)</span></span>&#123;</span><br><span class="line">    redisTemplate.expire(key,time,TimeUnit.MINUTES);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>根据key获取过期时间  Long expire = redisTemplate.getExpire(key);</p>
</li>
<li><p>判断key是否存在  redisTemplate.hasKey(key);</p>
</li>
</ol>
<h3 id="2-2-String"><a href="#2-2-String" class="headerlink" title="2.2 String"></a>2.2 String</h3><ol>
<li><p>添加缓存（2/3是1的递进值）</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1、通过redisTemplate设置值</span></span><br><span class="line">redisTemplate.boundValueOps(<span class="string">&quot;StringKey&quot;</span>).set(<span class="string">&quot;StringValue&quot;</span>);</span><br><span class="line">redisTemplate.boundValueOps(<span class="string">&quot;StringKey&quot;</span>).set(<span class="string">&quot;StringValue&quot;</span>,<span class="number">1</span>, TimeUnit.MINUTES);</span><br><span class="line"><span class="comment">//2、通过BoundValueOperations设置值</span></span><br><span class="line">BoundValueOperations stringKey = redisTemplate.boundValueOps(<span class="string">&quot;StringKey&quot;</span>);</span><br><span class="line">stringKey.set(<span class="string">&quot;StringVaule&quot;</span>);</span><br><span class="line">stringKey.set(<span class="string">&quot;StringValue&quot;</span>,<span class="number">1</span>, TimeUnit.MINUTES);</span><br><span class="line"><span class="comment">//3、通过ValueOperations设置值</span></span><br><span class="line">ValueOperations ops = redisTemplate.opsForValue();</span><br><span class="line">ops.set(<span class="string">&quot;StringKey&quot;</span>, <span class="string">&quot;StringVaule&quot;</span>);</span><br><span class="line">ops.set(<span class="string">&quot;StringValue&quot;</span>,<span class="string">&quot;StringVaule&quot;</span>,<span class="number">1</span>, TimeUnit.MINUTES);</span><br></pre></td></tr></table></figure></li>
<li><p>设置过期时间(单独设置)<br>redisTemplate.boundValueOps(“StringKey”).expire(1,TimeUnit.MINUTES);<br>redisTemplate.expire(“StringKey”,1,TimeUnit.MINUTES);</p>
</li>
<li><p>获取缓存值（2/3是1的递进值）</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1、通过redisTemplate设置值</span></span><br><span class="line">String str1 = (String) redisTemplate.boundValueOps(<span class="string">&quot;StringKey&quot;</span>).get();</span><br><span class="line"><span class="comment">//2、通过BoundValueOperations获取值</span></span><br><span class="line">BoundValueOperations stringKey = redisTemplate.boundValueOps(<span class="string">&quot;StringKey&quot;</span>);</span><br><span class="line">String str2 = (String) stringKey.get();</span><br><span class="line"><span class="comment">//3、通过ValueOperations获取值</span></span><br><span class="line">ValueOperations ops = redisTemplate.opsForValue();</span><br><span class="line">String str3 = (String) ops.get(<span class="string">&quot;StringKey&quot;</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>删除key  Boolean result = redisTemplate.delete(“StringKey”)</p>
</li>
<li><p>顺序递增   redisTemplate.boundValueOps(“StringKey”).increment(3L);</p>
</li>
<li><p>顺序递减   redisTemplate.boundValueOps(“StringKey”).increment(-3L);</p>
</li>
</ol>
<h3 id="2-3-Hash"><a href="#2-3-Hash" class="headerlink" title="2.3 Hash"></a>2.3 Hash</h3><ol>
<li><p>添加缓存（2/3是1的递进值）</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1、通过redisTemplate设置值</span></span><br><span class="line">redisTemplate.boundHashOps(<span class="string">&quot;HashKey&quot;</span>).put(<span class="string">&quot;SmallKey&quot;</span>, <span class="string">&quot;HashVaue&quot;</span>);</span><br><span class="line"><span class="comment">//2、通过BoundValueOperations设置值</span></span><br><span class="line">BoundHashOperations hashKey = redisTemplate.boundHashOps(<span class="string">&quot;HashKey&quot;</span>);</span><br><span class="line">hashKey.put(<span class="string">&quot;SmallKey&quot;</span>, <span class="string">&quot;HashVaue&quot;</span>);</span><br><span class="line"><span class="comment">//3、通过ValueOperations设置值</span></span><br><span class="line">HashOperations hashOps = redisTemplate.opsForHash();</span><br><span class="line">hashOps.put(<span class="string">&quot;HashKey&quot;</span>, <span class="string">&quot;SmallKey&quot;</span>, <span class="string">&quot;HashVaue&quot;</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>设置过期时间(单独设置)<br>redisTemplate.boundValueOps(“HashKey”).expire(1,TimeUnit.MINUTES);<br>redisTemplate.expire(“HashKey”,1,TimeUnit.MINUTES);</p>
</li>
<li><p>添加一个Map集合<br>HashMap&lt;String, String&gt; hashMap = new HashMap&lt;&gt;();<br>redisTemplate.boundHashOps(“HashKey”).putAll(hashMap );</p>
</li>
<li><p>设置过期时间(单独设置)<br>redisTemplate.boundValueOps(“HashKey”).expire(1,TimeUnit.MINUTES);<br>redisTemplate.expire(“HashKey”,1,TimeUnit.MINUTES);</p>
</li>
<li><p>提取所有的小key</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1、通过redisTemplate获取值</span></span><br><span class="line">Set keys1 = redisTemplate.boundHashOps(<span class="string">&quot;HashKey&quot;</span>).keys();</span><br><span class="line"><span class="comment">//2、通过BoundValueOperations获取值</span></span><br><span class="line">BoundHashOperations hashKey = redisTemplate.boundHashOps(<span class="string">&quot;HashKey&quot;</span>);</span><br><span class="line">Set keys2 = hashKey.keys();</span><br><span class="line"><span class="comment">//3、通过ValueOperations获取值</span></span><br><span class="line">HashOperations hashOps = redisTemplate.opsForHash();</span><br><span class="line">Set keys3 = hashOps.keys(<span class="string">&quot;HashKey&quot;</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>提取所有的value值</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1、通过redisTemplate获取值</span></span><br><span class="line">List values1 = redisTemplate.boundHashOps(<span class="string">&quot;HashKey&quot;</span>).values();</span><br><span class="line"><span class="comment">//2、通过BoundValueOperations获取值</span></span><br><span class="line">BoundHashOperations hashKey = redisTemplate.boundHashOps(<span class="string">&quot;HashKey&quot;</span>);</span><br><span class="line">List values2 = hashKey.values();</span><br><span class="line"><span class="comment">//3、通过ValueOperations获取值</span></span><br><span class="line">HashOperations hashOps = redisTemplate.opsForHash();</span><br><span class="line">List values3 = hashOps.values(<span class="string">&quot;HashKey&quot;</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>根据key提取value值</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1、通过redisTemplate获取</span></span><br><span class="line">String value1 = (String) redisTemplate.boundHashOps(<span class="string">&quot;HashKey&quot;</span>).get(<span class="string">&quot;SmallKey&quot;</span>);</span><br><span class="line"><span class="comment">//2、通过BoundValueOperations获取值</span></span><br><span class="line">BoundHashOperations hashKey = redisTemplate.boundHashOps(<span class="string">&quot;HashKey&quot;</span>);</span><br><span class="line">String value2 = (String) hashKey.get(<span class="string">&quot;SmallKey&quot;</span>);</span><br><span class="line"><span class="comment">//3、通过ValueOperations获取值</span></span><br><span class="line">HashOperations hashOps = redisTemplate.opsForHash();</span><br><span class="line">String value3 = (String) hashOps.get(<span class="string">&quot;HashKey&quot;</span>, <span class="string">&quot;SmallKey&quot;</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>获取所有的键值对集合</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1、通过redisTemplate获取</span></span><br><span class="line">Map entries = redisTemplate.boundHashOps(<span class="string">&quot;HashKey&quot;</span>).entries();</span><br><span class="line"><span class="comment">//2、通过BoundValueOperations获取值</span></span><br><span class="line">BoundHashOperations hashKey = redisTemplate.boundHashOps(<span class="string">&quot;HashKey&quot;</span>);</span><br><span class="line">Map entries1 = hashKey.entries();</span><br><span class="line"><span class="comment">//3、通过ValueOperations获取值</span></span><br><span class="line">HashOperations hashOps = redisTemplate.opsForHash();</span><br><span class="line">Map entries2 = hashOps.entries(<span class="string">&quot;HashKey&quot;</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>删除<br>//删除小key<br>redisTemplate.boundHashOps(“HashKey”).delete(“SmallKey”);<br>//删除大key<br>redisTemplate.delete(“HashKey”);</p>
</li>
<li><p>判断Hash中是否含有该值<br>Boolean isEmpty = redisTemplate.boundHashOps(“HashKey”).hasKey(“SmallKey”);</p>
</li>
</ol>
<h3 id="2-4-LIST类型相关操作"><a href="#2-4-LIST类型相关操作" class="headerlink" title="2.4 LIST类型相关操作"></a>2.4 LIST类型相关操作</h3><ol>
<li><p>添加缓存（2/3是1的递进值）</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1、通过redisTemplate设置值</span></span><br><span class="line">redisTemplate.boundListOps(<span class="string">&quot;listKey&quot;</span>).leftPush(<span class="string">&quot;listLeftValue1&quot;</span>);</span><br><span class="line">redisTemplate.boundListOps(<span class="string">&quot;listKey&quot;</span>).rightPush(<span class="string">&quot;listRightValue2&quot;</span>);</span><br><span class="line"><span class="comment">//2、通过BoundValueOperations设置值</span></span><br><span class="line">BoundListOperations listKey = redisTemplate.boundListOps(<span class="string">&quot;listKey&quot;</span>);</span><br><span class="line">listKey.leftPush(<span class="string">&quot;listLeftValue3&quot;</span>);</span><br><span class="line">listKey.rightPush(<span class="string">&quot;listRightValue4&quot;</span>);</span><br><span class="line"><span class="comment">//3、通过ValueOperations设置值</span></span><br><span class="line">ListOperations opsList = redisTemplate.opsForList();</span><br><span class="line">opsList.leftPush(<span class="string">&quot;listKey&quot;</span>, <span class="string">&quot;listLeftValue5&quot;</span>);</span><br><span class="line">opsList.rightPush(<span class="string">&quot;listKey&quot;</span>, <span class="string">&quot;listRightValue6&quot;</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>将List放入缓存<br>ArrayList<String> list = new ArrayList&lt;&gt;();<br>redisTemplate.boundListOps(“listKey”).rightPushAll(list);<br>redisTemplate.boundListOps(“listKey”).leftPushAll(list);</p>
</li>
<li><p>设置过期时间(单独设置)<br>redisTemplate.boundValueOps(“listKey”).expire(1,TimeUnit.MINUTES);<br>redisTemplate.expire(“listKey”,1,TimeUnit.MINUTES);</p>
</li>
<li><p>获取List缓存全部内容（起始索引，结束索引）<br>List listKey1 = redisTemplate.boundListOps(“listKey”).range(0, 10); </p>
</li>
<li><p>从左或从右弹出一个元素<br>String listKey2 = (String) redisTemplate.boundListOps(“listKey”).leftPop();  //从左侧弹出一个元素<br>String listKey3 = (String) redisTemplate.boundListOps(“listKey”).rightPop(); //从右侧弹出一个元素</p>
</li>
<li><p>根据索引查询元素<br>String listKey4 = (String) redisTemplate.boundListOps(“listKey”).index(1);</p>
</li>
<li><p>获取List缓存的长度<br>Long size = redisTemplate.boundListOps(“listKey”).size();</p>
</li>
<li><p>根据索引修改List中的某条数据(key，索引，值)<br>redisTemplate.boundListOps(“listKey”).set(3L,”listLeftValue3”);</p>
</li>
<li><p>移除N个值为value(key,移除个数，值)<br>redisTemplate.boundListOps(“listKey”).remove(3L,”value”);</p>
</li>
</ol>
<h2 id="三、其他"><a href="#三、其他" class="headerlink" title="三、其他"></a>三、其他</h2><h3 id="3-1-StringRedisTemplate和RedisTemplate的区别"><a href="#3-1-StringRedisTemplate和RedisTemplate的区别" class="headerlink" title="3.1 StringRedisTemplate和RedisTemplate的区别"></a>3.1 StringRedisTemplate和RedisTemplate的区别</h3><ol>
<li><p>表面上</p>
<ul>
<li><p>写入上</p>
<ul>
<li><p>RedisTemplate会把value 带着”引号”加上转义字符写入</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;wang&quot;</span>)--&gt;(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;\&quot;wang&quot;</span>\<span class="string">&quot;&quot;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>StringRedisTemplate 不带”引号写入”</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;wang&quot;</span>)--&gt;(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;wang&quot;</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>读取上</p>
<ul>
<li><p>RedisTemplate只能读取带””+转义字符的k-v</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;\&quot;wang&quot;</span>\<span class="string">&quot;&quot;</span>)-&gt;(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;wang&quot;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>StringRedisTemplate  就像原生的命令行一样。读取任意，且格式和原生的一样。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;\&quot;wang&quot;</span>\<span class="string">&quot;&quot;</span>)-&gt;(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;&quot;</span>wang<span class="string">&quot;&quot;</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
<li><p>两者的关系是StringRedisTemplate继承RedisTemplate。</p>
</li>
</ol>
<blockquote>
<p>SDR默认采用的序列化策略有两种，一种是String的序列化策略，一种是JDK的序列化策略。</p>
</blockquote>
<ol start="3">
<li><p>序列化策略上:</p>
<ul>
<li><p>StringRedisTemplate默认采用的是String的序列化策略，保存的key和value都是采用此策略序列化保存的。（JdkSerializationRedisSerializer）</p>
</li>
<li><p>RedisTemplate默认采用的是JDK的序列化策略，保存的key和value都是采用此策略序列化保存的。（StringRedisSerializer)</p>
</li>
</ul>
</li>
<li><p>使用上：</p>
<ul>
<li>StringRedisTemplate：当你的redis数据库里面本来存的是字符串数据或者你要存取的数据就是字符串类型数据的时候。</li>
<li>RedisTemplate：但是如果你的数据是复杂的对象类型，而取出的时候又不想做任何的数据转换，直接从Redis里面取出一个对象。</li>
</ul>
</li>
</ol>
<p>二、StringRedistemplate的源码</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringRedisTemplate</span> <span class="keyword">extends</span> <span class="title">RedisTemplate</span>&lt;<span class="title">String</span>, <span class="title">String</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StringRedisTemplate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.setKeySerializer(RedisSerializer.string());</span><br><span class="line">        <span class="keyword">this</span>.setValueSerializer(RedisSerializer.string());</span><br><span class="line">        <span class="keyword">this</span>.setHashKeySerializer(RedisSerializer.string());</span><br><span class="line">        <span class="keyword">this</span>.setHashValueSerializer(RedisSerializer.string());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StringRedisTemplate</span><span class="params">(RedisConnectionFactory connectionFactory)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>();</span><br><span class="line">        <span class="keyword">this</span>.setConnectionFactory(connectionFactory);</span><br><span class="line">        <span class="keyword">this</span>.afterPropertiesSet();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> RedisConnection <span class="title">preProcessConnection</span><span class="params">(RedisConnection connection, <span class="keyword">boolean</span> existingConnection)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> DefaultStringRedisConnection(connection);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​    从上面创建StringRedisTemplate的无参构造方法可以看出，此时将keySerializer、valueSerializer、hashKeySerializer、hashValueSerializer的序列化方式为stringSerializer，也就是StringRedisSerializer序列化方式；此时执行完整个方法后，还需要接着执行setConnectionFactory()方法，然后转向他的父类RedisTemplate中的afterPropertiesSet方法，此时上述四个序列化方式已经设置；</p>
<p>三、Redis使用的区别<br>    RedisTemplate使用的序列类在在操作数据的时候，比如说存入数据会将数据先序列化成字节数组然后在存入Redis数据库，这个时候打开Redis查看的时候，你会看到你的数据不是以可读的形式展现的，而是以字节数组显示，类似下面（RedisTemplate）</p>
<p>​    当然从Redis获取数据的时候也会默认将数据当做字节数组转化，这样就会导致一个问题，当需要获取的数据不是以字节数组存在redis当中而是正常的可读的字符串的时候，比如说下面这种形式的数据（StringRedisTemplate）</p>
<p>​    当Redis当中的数据值是以数组形式显示出来的时候，只能使用RedisTemplate才能获取到里面的数据。<br>当Redis当中的数据值是以可读的形式显示出来的时候，只能使用StringRedisTemplate才能获取到里面的数据。<br>所以当你使用RedisTemplate获取不到数据为NULL时，一般是获取的方式错误。检查一下数据是否可读即可。</p>
<h2 id="四、例子"><a href="#四、例子" class="headerlink" title="四、例子"></a>四、例子</h2><h3 id="3-0-redis-java说明"><a href="#3-0-redis-java说明" class="headerlink" title="3.0 redis-java说明"></a>3.0 redis-java说明</h3><ol>
<li> redisTemplate 写入的不是普通String,而是</li>
</ol>
<h3 id="3-1-RedisUtil"><a href="#3-1-RedisUtil" class="headerlink" title="3.1 RedisUtil"></a>3.1 RedisUtil</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">RedisTemplate redisTemplate;</span><br><span class="line"><span class="meta">@ApiOperation(&quot;redisGet&quot;)</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;redisGet&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ApiResult <span class="title">redisGet</span><span class="params">(<span class="meta">@RequestParam</span> String key)</span> </span>&#123;</span><br><span class="line">    key = StringUtils.isBlank(key) ? <span class="string">&quot;name&quot;</span> : key;</span><br><span class="line">    Object o = redisTemplate.opsForValue().get(key);</span><br><span class="line">    System.out.println(o);</span><br><span class="line">    <span class="keyword">return</span> ApiResult.ok(); </span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@ApiOperation(&quot;set&quot;)</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;set&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ApiResult <span class="title">set</span><span class="params">(<span class="meta">@RequestParam</span> String key, <span class="meta">@RequestParam</span> String value)</span> </span>&#123;</span><br><span class="line">    redisTemplate.opsForValue().set(key, value);</span><br><span class="line">    <span class="keyword">return</span> ApiResult.ok();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3-2-测试"><a href="#3-2-测试" class="headerlink" title="3.2 测试"></a>3.2 测试</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> com.ccasd.redis.StringRedisUtils;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMethod;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/excel&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WordExcelController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> StringRedisUtils stringRedisUtils;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 测试_向Redis中插入数据</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/add&quot;, method = &#123;RequestMethod.POST&#125;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="meta">@RequestBody</span> Map&lt;String, String&gt; en)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        String key = en.get(<span class="string">&quot;key&quot;</span>).toString();</span><br><span class="line">        String value = en.get(<span class="string">&quot;value&quot;</span>).toString();</span><br><span class="line">        stringRedisUtils.addRedis(key, value);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 测试_从Redis中查询数据</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/get&quot;, method = &#123;RequestMethod.POST&#125;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">get</span><span class="params">(<span class="meta">@RequestBody</span> Map&lt;String, Object&gt; en)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        String key = en.get(<span class="string">&quot;key&quot;</span>).toString();</span><br><span class="line">        String value = stringRedisUtils.getRedis(key);</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>中间件</category>
      </categories>
  </entry>
  <entry>
    <title>DCL数据库控制语言</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/sql/DCL/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、Alter"><a href="#一、Alter" class="headerlink" title="一、Alter"></a>一、Alter</h2><blockquote>
<p>添加，修改，删除表的列，约束等表的定义</p>
</blockquote>
<h3 id="1-1-修改约束"><a href="#1-1-修改约束" class="headerlink" title="1.1 修改约束"></a>1.1 修改约束</h3><ol>
<li><p>字段唯一  alter table name ADD UNIQUE (aaa);  </p>
</li>
<li><p>删除唯一  alter table test drop index aaa</p>
<span id="more"></span></li>
<li><p>alter table Persons AUTO_INCREMENT=100   给已存在的的自增键设置值</p>
</li>
<li><p>增加子增减</p>
</li>
<li><p>增加主码  alter table tname  ADD PRIMARY KEY(列名);</p>
</li>
<li><p>删除主码： alter table name drop primary key;</p>
</li>
</ol>
<h3 id="1-2-修改字段"><a href="#1-2-修改字段" class="headerlink" title="1.2 修改字段"></a>1.2 修改字段</h3><ol>
<li>增加字段  alter table  name add 名字 类型 </li>
<li>删除字段  alter table name drop a </li>
</ol>
<h3 id="1-3-modify"><a href="#1-3-modify" class="headerlink" title="1.3 modify"></a>1.3 modify</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> test modify aaa <span class="type">char</span>(<span class="number">111</span>);</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>自增键</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="keyword">user</span> modify id <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">not</span> <span class="keyword">null</span> auto_increment;</span><br></pre></td></tr></table></figure>

<h3 id="1-4-change-整个修改"><a href="#1-4-change-整个修改" class="headerlink" title="1.4 change 整个修改"></a>1.4 change 整个修改</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> test change aaa aaa2 <span class="type">char</span>(<span class="number">111</span>);</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>数据库</category>
        <category>sql</category>
      </categories>
  </entry>
  <entry>
    <title>DDL数据库定义语言</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/sql/DDL/</url>
    <content><![CDATA[<p>[TOC]</p>
<h2 id="一、创建表"><a href="#一、创建表" class="headerlink" title="一、创建表"></a>一、创建表</h2><p>CREATE TABLE Persons<br>(<br>ID int NOT NULL AUTO_INCREMENT,<br>LastName varchar(255) NOT NULL,<br>City varchar(255),<br>PRIMARY KEY (ID)<br>)</p>
<span id="more"></span>

<h2 id="二、约束"><a href="#二、约束" class="headerlink" title="二、约束"></a>二、约束</h2><ol>
<li><p>不为空 not null </p>
</li>
<li><p>default ‘xx’ </p>
</li>
<li><p>自增 auto_increment</p>
<ol>
<li><p>放在字段后面</p>
</li>
<li><p>每个表只能有一个</p>
</li>
<li><p>这个必须是unique或者primary key</p>
</li>
<li><p>设置起始值 AUTO_INCREMENT=100   </p>
<p>auto_increment</p>
</li>
</ol>
</li>
<li><p>唯一键  unique </p>
<ol>
<li>可以放在最后unique(name)，也能放在字段后面 name char(20) unique</li>
<li>不同厂商不同处理，mysql唯一多个NULL</li>
</ol>
</li>
<li><p>主键 primary key(id)  <!--放最后--></p>
</li>
<li><p>foreign key <!--放最后--><!-- foreign key (name1) references table2(name2)--></p>
</li>
<li><p>枚举 color enum(‘blue’,’green’,’red’) DEFAULT NULL <!--这种的底层索引是1,2,3，节省了内存但是灵活性差，每次增加都要修改表，数值字段别用枚举，容易混淆他的索引和真实值--></p>
<!--传入的值是blue,存进的是1,2,3,选出的也是blue--></li>
<li></li>
</ol>
<h2 id="三、属性类型约束"><a href="#三、属性类型约束" class="headerlink" title="三、属性类型约束"></a>三、属性类型约束</h2><h4 id="3-0-编码和存储引擎"><a href="#3-0-编码和存储引擎" class="headerlink" title="3.0 编码和存储引擎"></a>3.0 编码和存储引擎</h4><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"><span class="attribute">ENGINE</span>=INNODB <span class="built_in"> DEFAULT </span><span class="attribute">CHARSET</span>=utf8 ;#</span><br></pre></td></tr></table></figure>

<h4 id="3-1字符"><a href="#3-1字符" class="headerlink" title="3.1字符"></a>3.1字符</h4><h4 id="3-2数字"><a href="#3-2数字" class="headerlink" title="3.2数字"></a>3.2数字</h4><pre><code>##### 3.21整数
</code></pre>
<ol>
<li>tinyint </li>
<li>smallint</li>
<li>mediumint </li>
<li>int</li>
<li>integer</li>
<li>bigint</li>
<li>long </li>
</ol>
<h5 id="3-22小数"><a href="#3-22小数" class="headerlink" title="3.22小数"></a>3.22小数</h5><ol>
<li>decimal </li>
<li>float</li>
<li>(丢失数据因为0.2=1/8+1/16…所以一般用decimal) </li>
</ol>
<h4 id="3-3时间"><a href="#3-3时间" class="headerlink" title="3.3时间"></a>3.3时间</h4><ol>
<li>date 3</li>
<li>time 3</li>
<li>year 1</li>
<li>datetime 8</li>
<li> timestamp 4</li>
</ol>
<h2 id="四、索引"><a href="#四、索引" class="headerlink" title="四、索引"></a>四、索引</h2><ol>
<li>create index 索引名 on 表名(字段名 desc); 降序</li>
<li>create index 索引名 on 表名(字段名 asc); 升序</li>
<li>create table name{ ,,, index index_name(列)}</li>
<li>show index from name 查看索引</li>
<li>drop index index_name on name</li>
<li>alter table name drop index index_name</li>
<li>主键、外键会自动创建索引</li>
</ol>
]]></content>
      <categories>
        <category>数据库</category>
        <category>sql语句</category>
      </categories>
  </entry>
  <entry>
    <title>spring-redis</title>
    <url>/2022/03/08/%E7%BB%84%E4%BB%B6/ORM/spring-redis/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="一、Redis"><a href="#一、Redis" class="headerlink" title="一、Redis"></a>一、Redis</h3><h4 id="1-1-使用步骤"><a href="#1-1-使用步骤" class="headerlink" title="1.1 使用步骤"></a>1.1 使用步骤</h4><ol>
<li><p>依赖</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- reids by boot --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- spring2.X集成redis所需common-pool2--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-pool2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>2.6.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<span id="more"></span></li>
<li><p>创建配置类(@Configuration)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableCaching</span> <span class="comment">//开启缓存</span></span><br><span class="line"><span class="meta">@Configuration</span>  <span class="comment">//配置类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedisConfig</span> <span class="keyword">extends</span> <span class="title">CachingConfigurerSupport</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> RedisTemplate&lt;String, Object&gt; <span class="title">redisTemplate</span><span class="params">(RedisConnectionFactory factory)</span> </span>&#123;</span><br><span class="line">        RedisTemplate&lt;String, Object&gt; template = <span class="keyword">new</span> RedisTemplate&lt;&gt;();</span><br><span class="line">        RedisSerializer&lt;String&gt; redisSerializer = <span class="keyword">new</span> StringRedisSerializer();</span><br><span class="line">        Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = <span class="keyword">new</span> Jackson2JsonRedisSerializer(Object.class);</span><br><span class="line">        ObjectMapper om = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);</span><br><span class="line">        om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);</span><br><span class="line">        jackson2JsonRedisSerializer.setObjectMapper(om);</span><br><span class="line">        template.setConnectionFactory(factory);</span><br><span class="line">        <span class="comment">//key序列化方式</span></span><br><span class="line">        template.setKeySerializer(redisSerializer);</span><br><span class="line">        <span class="comment">//value序列化</span></span><br><span class="line">        template.setValueSerializer(jackson2JsonRedisSerializer);</span><br><span class="line">        <span class="comment">//value hashmap序列化</span></span><br><span class="line">        template.setHashValueSerializer(jackson2JsonRedisSerializer);</span><br><span class="line">        <span class="keyword">return</span> template;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> CacheManager <span class="title">cacheManager</span><span class="params">(RedisConnectionFactory factory)</span> </span>&#123;</span><br><span class="line">        RedisSerializer&lt;String&gt; redisSerializer = <span class="keyword">new</span> StringRedisSerializer();</span><br><span class="line">        Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = <span class="keyword">new</span> Jackson2JsonRedisSerializer(Object.class);</span><br><span class="line">        <span class="comment">//解决查询缓存转换异常的问题</span></span><br><span class="line">        ObjectMapper om = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);</span><br><span class="line">        om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);</span><br><span class="line">        jackson2JsonRedisSerializer.setObjectMapper(om);</span><br><span class="line">        <span class="comment">// 配置序列化（解决乱码的问题）,过期时间600秒</span></span><br><span class="line">        RedisCacheConfiguration config = RedisCacheConfiguration.defaultCacheConfig()</span><br><span class="line">                .entryTtl(Duration.ofSeconds(<span class="number">600</span>))</span><br><span class="line">                .serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(redisSerializer))</span><br><span class="line">                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(jackson2JsonRedisSerializer))</span><br><span class="line">                .disableCachingNullValues();</span><br><span class="line">        RedisCacheManager cacheManager = RedisCacheManager.builder(factory)</span><br><span class="line">                .cacheDefaults(config)</span><br><span class="line">                .build();</span><br><span class="line">        <span class="keyword">return</span> cacheManager;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>Controller开启加上缓存注解</p>
<ol>
<li>```java<br>@Cacheable(value = “banner”,key = “‘selectIndexList’”)<figure class="highlight dts"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">   <span class="number">2.</span> 注意key 双引号里面有单引号</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span> 启动redis</span><br><span class="line"></span><br><span class="line"><span class="meta">### 二、原生方式-jedis</span></span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> 依赖</span><br><span class="line"></span><br><span class="line">   ```xml</span><br><span class="line">      <span class="params">&lt;dependency&gt;</span></span><br><span class="line">          <span class="params">&lt;groupId&gt;</span>org.slf4j<span class="params">&lt;/groupId&gt;</span></span><br><span class="line">          <span class="params">&lt;artifactId&gt;</span>slf4j-simple<span class="params">&lt;/artifactId&gt;</span></span><br><span class="line">          <span class="params">&lt;version&gt;</span><span class="number">1.7</span><span class="number">.25</span><span class="params">&lt;/version&gt;</span></span><br><span class="line">          <span class="params">&lt;scope&gt;</span>compile<span class="params">&lt;/scope&gt;</span></span><br><span class="line">      <span class="params">&lt;/dependency&gt;</span></span><br><span class="line">      <span class="params">&lt;dependency&gt;</span></span><br><span class="line">          <span class="params">&lt;groupId&gt;</span>redis.clients<span class="params">&lt;/groupId&gt;</span></span><br><span class="line">          <span class="params">&lt;artifactId&gt;</span>jedis<span class="params">&lt;/artifactId&gt;</span></span><br><span class="line">          <span class="params">&lt;version&gt;</span><span class="number">4.0</span><span class="number">.0</span>-beta4<span class="params">&lt;/version&gt;</span></span><br><span class="line">      <span class="params">&lt;/dependency&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>使用</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Jedis jedis=<span class="keyword">new</span> Jedis(<span class="string">&quot;192.168.100.3&quot;</span>,<span class="number">6379</span>);</span><br><span class="line">jedis.auth(<span class="string">&quot;root2&quot;</span>);</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>组件</category>
      </categories>
  </entry>
  <entry>
    <title>sql函数</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/sql/sql%E5%87%BD%E6%95%B0/</url>
    <content><![CDATA[<ol>
<li><p>replace</p>
<ol>
<li><p>查询替换  select *,replace(address,’区’,’呕’)  from test_tb</p>
</li>
<li><p>更新替换  update set address=replace(address,’区’,’呕’) from test_tb</p>
</li>
<li><p>插入替换 (类似于saveOrUpdate)  replace into test_tb VALUES(6,’wokou’,’新九州岛’,’日本’)</p>
<p>向表中“替换插入”一条数据，如果原表中没有id=6这条数据就作为新数据插入(相当于insert into作用)；如果原表中有id=6这条数据就做替换(相当于update作用)。对于没有指定的字段以默认值插入。</p>
<span id="more"></span></li>
</ol>
</li>
<li><p>concat</p>
<ol>
<li>将字符串/字段拼接</li>
<li>concat_ws() 拼接并用’,’分割，也可以指定分隔符</li>
<li>select concat (id, name, score) as info from tt2;</li>
<li>注意<ol>
<li>如果任意一个为Null，返回null，一般的sql函数只要表达式的一个null就会返回Null</li>
</ol>
</li>
</ol>
</li>
<li><p>group_concat</p>
<ol>
<li><p>分组信息，同group by通用</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211106013507369.png" alt="image-20211106013507369"></p>
</li>
<li><p>如果选中多列，可以指定分隔符</p>
</li>
</ol>
</li>
<li><p>ifnull </p>
<ol>
<li>如果arg0为null，就返回arg1</li>
<li>SELECT IFNULL(“Hello”, “RUNOOB”);  返回hello</li>
<li>select sum(ifnull(age,100)) from name  年龄缺失按100统计</li>
</ol>
</li>
<li><p>char_length 返回字符串长度</p>
</li>
<li><p>计算函数</p>
<table>
<thead>
<tr>
<th>函数</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>取余</td>
<td>select mod(3,2)</td>
<td>1</td>
</tr>
<tr>
<td>除</td>
<td>select 10 div 2</td>
<td>5</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
</li>
</ol>
]]></content>
      <categories>
        <category>数据库</category>
        <category>sql语句</category>
      </categories>
  </entry>
  <entry>
    <title>DML数据库，操纵语言</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/sql/DML/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="一、Select"><a href="#一、Select" class="headerlink" title="一、Select"></a>一、Select</h3><h4 id="1-1-where-like-and-or-between-in"><a href="#1-1-where-like-and-or-between-in" class="headerlink" title="1.1 where  like  and  or  between  in"></a>1.1 where  like  and  or  between  in</h4><ol>
<li><p>select * from name where  age &lt;&gt; 18; 查询年龄不等于18的人</p>
</li>
<li><p>select * from name where age&gt;18 and sex=’男’ </p>
</li>
<li><p>update name set age =18 where not id =10;  按条件修改</p>
</li>
<li><p>select * from name where age between 4 and 10; 查询4-10岁  前闭后开</p>
</li>
<li><p>select * from name where age in (3,4,10)  查询3，4，10 岁数据</p>
<span id="more"></span></li>
</ol>
<h4 id="1-2-with-as-子查询"><a href="#1-2-with-as-子查询" class="headerlink" title="1.2 with as 子查询"></a>1.2 with as 子查询</h4><ol>
<li><p>子查询是派生表，Mysql规定派生表必须有别名</p>
<p>SELECT id FROM (SELECT * FROM el_paper )</p>
<p>错误信息:Every derived table must have its own alias</p>
<p>正确格式: SELECT id FROM (SELECT * FROM el_paper )as a</p>
</li>
<li><p>特殊情况：。。in 听该不需要</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> keyword <span class="keyword">FROM</span> article_kw <span class="keyword">where</span> article_id <span class="keyword">in</span>  (<span class="keyword">SELECT</span> article_id <span class="keyword">FROM</span> article_entity <span class="keyword">where</span> entity<span class="operator">=</span><span class="string">&#x27;PPmoney&#x27;</span> ); </span><br></pre></td></tr></table></figure></li>
<li><p>in形式的as写里面,普通selete形式的as 在()外面</p>
<ol>
<li><p>查询前100条，并将100条排序</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> (<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> company_num LIMIT <span class="number">100</span> )a  <span class="keyword">ORDER</span> <span class="keyword">BY</span> all_num;</span><br></pre></td></tr></table></figure></li>
<li><p>简单in查询,不确定</p>
<blockquote>
<p>牵强解释：派生表的来源与主表一样的时候用as</p>
</blockquote>
</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> id <span class="keyword">FROM</span>  el_paper <span class="keyword">where</span>  id <span class="keyword">in</span> (<span class="keyword">SELECT</span> id <span class="keyword">FROM</span> el_paper <span class="keyword">as</span> a)</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="1-3-group-by"><a href="#1-3-group-by" class="headerlink" title="1.3 group by"></a>1.3 group by</h4><ol>
<li><p>选出每个学生最大分数的试卷信息(注意，这种会有两列user_score)</p>
<p>SELECT *,user_score FROM el_paper GROUP BY(user_id);</p>
</li>
</ol>
<h4 id="1-4-join"><a href="#1-4-join" class="headerlink" title="1.4 join"></a>1.4 join</h4><ol>
<li>神奇的不join</li>
</ol>
<h4 id="1-5-exists-和-in"><a href="#1-5-exists-和-in" class="headerlink" title="1.5 exists 和 in"></a>1.5 exists 和 in</h4><ol>
<li><p>in</p>
<p>​    in在查询的时候，首先查询子查询的表，然后将内表和外表做一个笛卡尔积.所以相对内表比较小的时候，in的速度较快。</p>
</li>
<li><p>exists</p>
<p>​    指定一个子查询，检测行的存在。遍历循环外表，然后看外表中的记录有没有和内表的数据一样的。匹配上就将结果放入结果集中</p>
</li>
</ol>
<h4 id="1-10-其他select"><a href="#1-10-其他select" class="headerlink" title="1.10 其他select"></a>1.10 其他select</h4><table>
<thead>
<tr>
<th>关键字</th>
<th>含义</th>
<th>语句</th>
</tr>
</thead>
<tbody><tr>
<td>\G</td>
<td>分行显示</td>
<td>select *  from student \G;</td>
</tr>
<tr>
<td>distinct</td>
<td>去重</td>
<td>select distinct age, sex from student</td>
</tr>
<tr>
<td>别名</td>
<td>别名</td>
<td>select age 年龄 from student s</td>
</tr>
<tr>
<td>like</td>
<td>模糊查询</td>
<td>select * from name where  namex  like ‘黄%’  所有姓黄的</td>
</tr>
<tr>
<td>in</td>
<td>范围</td>
<td>select * from student where name in (“wang”,”zhang”)</td>
</tr>
<tr>
<td>子查询1</td>
<td>子查询先执行 in表达式</td>
<td>select * from student where name not in select fail_name from file_exam</td>
</tr>
<tr>
<td>子查询2</td>
<td>函数表达式</td>
<td>select * from name where age &gt;(select avg(age) from name)</td>
</tr>
<tr>
<td>子查询3</td>
<td></td>
<td>select * from  name where (age,high) =(select max(age),max(high) from name )</td>
</tr>
<tr>
<td>exists</td>
<td>和in差不多</td>
<td></td>
</tr>
<tr>
<td>is null</td>
<td>空判断</td>
<td>select * from name where age is null;</td>
</tr>
<tr>
<td>union</td>
<td>组合查询</td>
<td></td>
</tr>
<tr>
<td>子查询</td>
<td></td>
<td></td>
</tr>
<tr>
<td>order by</td>
<td>排序</td>
<td></td>
</tr>
<tr>
<td>asc ,desc</td>
<td>升降,与orderby同用</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td>前几条/分页</td>
<td>select * from name where sex=’男’ limit page, sizeg;</td>
</tr>
<tr>
<td>group by</td>
<td>统计分组，与fun同用</td>
<td>select sex ,avg(age) from name group by sex ; 男女各自的平均年龄</td>
</tr>
<tr>
<td>having</td>
<td>分组过滤,</td>
<td>select sex ,count(*) from name group by sex having count(*)&gt;2  ; 人数大于2的性别数量</td>
</tr>
<tr>
<td>group_concat</td>
<td>信息分组,group by 同用</td>
<td>select id</td>
</tr>
<tr>
<td>count,avg…</td>
<td>聚合函数，可单独使用</td>
<td>select * from name where age &gt;(select avg(age) from name)</td>
</tr>
</tbody></table>
<h3 id="二、Update"><a href="#二、Update" class="headerlink" title="二、Update"></a>二、Update</h3><p>update  students set age=10</p>
<h3 id="三、Insert"><a href="#三、Insert" class="headerlink" title="三、Insert"></a>三、Insert</h3><ol>
<li>外表数据  insert into t3 select * from choose where sno=’s00001’;</li>
<li>多行插入 多行 insert into name values(…), (…)</li>
<li>部分字段插入 insert into name (列1，列2) values(100,’张三’)</li>
<li>三种<ol>
<li>value</li>
<li>values</li>
<li>无valuu</li>
</ol>
</li>
<li>对于自增键，需要指定是null或者0 来让mysql自行处理，而不是不指定。</li>
</ol>
<h3 id="四、Delete"><a href="#四、Delete" class="headerlink" title="四、Delete"></a>四、Delete</h3><ol>
<li><p>delete from name where id=6;</p>
</li>
<li><p>删除所有数据    </p>
<ol>
<li>delete from name;        dml 在确认不rollback后生效</li>
<li>truncate table name;    ddl 立即生效</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>数据库</category>
        <category>sql语句</category>
      </categories>
  </entry>
  <entry>
    <title>优化sql</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/sql/%E4%BC%98%E5%8C%96sql/</url>
    <content><![CDATA[<h1 id="sql语句优化"><a href="#sql语句优化" class="headerlink" title="sql语句优化"></a>sql语句优化</h1><h2 id="selete"><a href="#selete" class="headerlink" title="selete"></a>selete</h2><ol>
<li>selete尽量使用字段而不是*。</li>
</ol>
<h2 id="update、delete"><a href="#update、delete" class="headerlink" title="update、delete"></a>update、delete</h2><ol>
<li><p><a href="https://blog.csdn.net/qq_21454973/article/details/109162528">在 delete 和 update 后面加 limit 1 绝对是个好习惯</a></p>
<blockquote>
<p>比如，在删除执行中，第一条就命中了删除行，如果 SQL 中有 limit 1；这时就 return 了，否则还会执行完全表扫描才结束。</p>
</blockquote>
<span id="more"></span></li>
<li><p>如果是清空表数据建议直接用 truncate，效率上 truncate 远高于 delete。</p>
<blockquote>
<p>truncate 不走事务，不会锁表，也不会生产大量日志写入日志文件；truncate table table_name 后立刻释放磁盘空间，并重置 auto_increment 的值。delete 删除不释放磁盘空间，但后续 insert 会覆盖在之前删除的数据上。 </p>
</blockquote>
</li>
<li><p>丁奇问题</p>
<blockquote>
<p>如果你要删除一个表里面的前 10000 行数据，有以下三种方法可以做到：<br>第一种，直接执行 delete from T limit 10000;<br>第二种，在一个连接中循环执行 20 次 delete from T limit 500;<br>第三种，在 20 个连接中同时执行 delete from T limit 500。</p>
</blockquote>
<ul>
<li><p>第一个方案，一次占用的锁时间较长，可能会导致其他客户端一直在等待资源。</p>
</li>
<li><p>第二个方案，分成多次占用锁，串行执行，不占有锁的间隙其他客户端可以工作，类似于现在多任务操作系统的时间分片调度，大家分片使用资源，不直接影响使用。</p>
</li>
<li><p>第三个方案，自己制造了锁竞争，加剧并发。</p>
</li>
</ul>
</li>
<li><p>锁表问题</p>
<ol>
<li>如果没有索引，update会锁表，如果加了索引，就会锁行</li>
</ol>
</li>
<li><p>数据删除磁盘问题</p>
</li>
</ol>
]]></content>
      <categories>
        <category>数据库</category>
      </categories>
  </entry>
  <entry>
    <title>其他sql</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/sql/%E5%85%B6%E4%BB%96sql/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="导入导出"><a href="#导入导出" class="headerlink" title="导入导出"></a>导入导出</h3><ol>
<li><p>导出数据库结构、数据、结构和数据、导出表 </p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> mysqldump <span class="operator">-</span>uroot <span class="operator">-</span>p123456 <span class="operator">-</span>d db1<span class="operator">&gt;</span> dbname.sql 仅结构</span><br><span class="line">mysql<span class="operator">&gt;</span> mysqldump <span class="operator">-</span>uroot <span class="operator">-</span>p123456 <span class="operator">-</span>t db1 <span class="operator">&gt;</span> dbname.sql 仅数据</span><br><span class="line">mysql<span class="operator">&gt;</span> mysqldump <span class="operator">-</span>uroot <span class="operator">-</span>p123456 db1 <span class="operator">&gt;</span> dbname.sql  数据和结构</span><br><span class="line">mysql<span class="operator">&gt;</span> mysqldump <span class="operator">-</span>uroot <span class="operator">-</span>p123456 <span class="operator">-</span>d db1 test <span class="operator">&gt;</span> test.sql f</span><br></pre></td></tr></table></figure></li>
<li><p>导入  注意不能有中文路径</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> source d:<span class="operator">/</span>test.sql</span><br></pre></td></tr></table></figure></li>
<li><p>导出、入  txt</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">INTO</span> OUTFILE <span class="string">&#x27;temp.txt&#x27;</span></span><br><span class="line">LOAD DATA INFILE <span class="string">&#x27;/home/temp.txt&#x27;</span> <span class="keyword">INTO</span> <span class="keyword">TABLE</span> table_name</span><br></pre></td></tr></table></figure>

<span id="more"></span></li>
</ol>
<h3 id="远程连接"><a href="#远程连接" class="headerlink" title="远程连接"></a>远程连接</h3><ol>
<li><p>cmd命令行</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">cmd</span>&gt; mysql -uroot -proot -h<span class="number">111.121.131.141</span> -P<span class="number">3306</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="数据库表复制"><a href="#数据库表复制" class="headerlink" title="数据库表复制"></a>数据库表复制</h3><ol>
<li><p>复制数据和结构</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 新表 <span class="keyword">as</span> <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 旧表</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>复制结构到new table</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 新表 <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 旧表 <span class="keyword">where</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span></span><br></pre></td></tr></table></figure></li>
<li><p>复制结构到已有表</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">INTO</span> 表<span class="number">2</span> <span class="keyword">FROM</span> 表<span class="number">1</span> <span class="keyword">WHERE</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span></span><br></pre></td></tr></table></figure></li>
<li><p>复制数据</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> 新表 <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 旧表</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="数据库设置"><a href="#数据库设置" class="headerlink" title="数据库设置"></a>数据库设置</h3><ol>
<li><p>设计数据库字符</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> DATABASE learn <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="operator">=</span> utf8mb4</span><br></pre></td></tr></table></figure></li>
<li><p>删除数据库 drop database db1</p>
</li>
<li><p>复制表 复制表 create table t2 as select * from choose;</p>
</li>
<li><p>复制表结构 create table t3 as select * from choose where 1=2;</p>
</li>
</ol>
<h3 id="数据库去重"><a href="#数据库去重" class="headerlink" title="数据库去重"></a>数据库去重</h3><ol>
<li><p>新建一个表进行迁移</p>
</li>
<li><p>代码解决</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span> <span class="keyword">delete</span>  <span class="keyword">from</span> student <span class="keyword">where</span> id <span class="keyword">not</span> <span class="keyword">in</span> (selete id,<span class="built_in">max</span>(age) <span class="keyword">from</span> student <span class="keyword">group</span> <span class="keyword">by</span> (name) <span class="keyword">as</span> a)</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> <span class="keyword">DELETE</span> <span class="keyword">from</span> el_paper <span class="keyword">where</span> id <span class="keyword">not</span> <span class="keyword">in</span> (<span class="keyword">SELECT</span> id <span class="keyword">from</span> (<span class="keyword">SELECT</span> id,user_score <span class="keyword">FROM</span> el_paper <span class="keyword">GROUP</span> <span class="keyword">BY</span>(user_id)) <span class="keyword">as</span> a )</span><br></pre></td></tr></table></figure></li>
<li><p>先找到重复的数据，复制到新表，对新表逻辑去重，然后根据新表的is_delete字段删除旧表重复数据</p>
</li>
</ol>
<h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><h4 id="思路1-新列"><a href="#思路1-新列" class="headerlink" title="思路1-新列"></a>思路1-新列</h4><ol>
<li><p>按前后顺序添加index</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> t.<span class="operator">*</span>,<span class="variable">@sort</span> :<span class="operator">=</span> <span class="variable">@sort</span> <span class="operator">+</span><span class="number">1</span> sort <span class="keyword">from</span>(<span class="keyword">select</span> <span class="variable">@sort</span> :<span class="operator">=</span> <span class="number">0</span>)s,company_num t limit <span class="number">2</span>;</span><br></pre></td></tr></table></figure></li>
<li><p>按某列大小添加index</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> t.<span class="operator">*</span>,<span class="variable">@sort</span> :<span class="operator">=</span> <span class="variable">@sort</span> <span class="operator">+</span><span class="number">1</span> sort <span class="keyword">from</span>(<span class="keyword">select</span> <span class="variable">@sort</span> :<span class="operator">=</span> <span class="number">0</span>)s,(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> company_num  <span class="keyword">order</span> <span class="keyword">by</span> all_num <span class="keyword">desc</span>)t limit <span class="number">2</span></span><br></pre></td></tr></table></figure></li>
<li><p>或</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> t.<span class="operator">*</span>,<span class="variable">@sort</span> :<span class="operator">=</span> <span class="variable">@sort</span> <span class="operator">+</span><span class="number">1</span> sort <span class="keyword">from</span>(<span class="keyword">select</span> <span class="variable">@sort</span> :<span class="operator">=</span> <span class="number">0</span>)s,(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> company_num  <span class="keyword">order</span> <span class="keyword">by</span> all_num <span class="keyword">desc</span>)t limit <span class="number">2</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="思路2-找到比他多的数量"><a href="#思路2-找到比他多的数量" class="headerlink" title="思路2-找到比他多的数量"></a>思路2-找到比他多的数量</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">+</span><span class="number">1</span> <span class="keyword">FROM</span> company_num <span class="keyword">where</span> all_num <span class="operator">&gt;</span> (<span class="keyword">SELECT</span> all_num <span class="keyword">FROM</span> company_num	<span class="keyword">WHERE</span> name<span class="operator">=</span>&quot;爱钱进&quot;)</span><br></pre></td></tr></table></figure>





]]></content>
  </entry>
  <entry>
    <title>复杂的sql</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/sql/%E5%A4%8D%E6%9D%82sql/</url>
    <content><![CDATA[<ol>
<li><p>查询这个entity=PPmoney的前十的关键字</p>
<blockquote>
<p>sort + limit </p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">count</span>(<span class="operator">*</span>) b, keyword <span class="keyword">FROM</span> article_kw <span class="keyword">where</span> article_id <span class="keyword">in</span>  (<span class="keyword">SELECT</span> article_id <span class="keyword">FROM</span> article_entity <span class="keyword">where</span> entity<span class="operator">=</span><span class="string">&#x27;PPmoney&#x27;</span> ) <span class="keyword">GROUP</span> <span class="keyword">BY</span> keyword <span class="keyword">ORDER</span> <span class="keyword">BY</span> b <span class="keyword">desc</span> LIMIT <span class="number">10</span>; </span><br></pre></td></tr></table></figure></li>
<li><p>再选出上面的名字</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> keyword <span class="keyword">FROM</span>(<span class="keyword">SELECT</span> <span class="built_in">count</span>(<span class="operator">*</span>) b, keyword <span class="keyword">FROM</span> article_kw <span class="keyword">where</span> article_id <span class="keyword">in</span>  (<span class="keyword">SELECT</span> article_id <span class="keyword">FROM</span> article_entity <span class="keyword">where</span> entity<span class="operator">=</span><span class="string">&#x27;PPmoney&#x27;</span> ) <span class="keyword">GROUP</span> <span class="keyword">BY</span> keyword <span class="keyword">ORDER</span> <span class="keyword">BY</span> b <span class="keyword">desc</span> LIMIT <span class="number">10</span>) c; </span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="统计"><a href="#统计" class="headerlink" title="统计"></a>统计</h2><ol>
<li><p>按月统计</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> DATE_FORMAT(<span class="type">date</span>,<span class="string">&#x27;%Y-%m&#x27;</span>) <span class="keyword">as</span> <span class="keyword">month</span>,<span class="built_in">sum</span>(money) <span class="keyword">as</span> money</span><br><span class="line"><span class="keyword">from</span> finance</span><br><span class="line"><span class="keyword">where</span> DATE_FORMAT(<span class="type">date</span>,<span class="string">&#x27;%Y&#x27;</span>)<span class="operator">=</span><span class="number">2010</span> <span class="keyword">group</span> <span class="keyword">by</span> <span class="keyword">month</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">month</span></span><br></pre></td></tr></table></figure></li>
<li><p>按周统计</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> DATE_FORMAT(<span class="type">date</span>,<span class="string">&#x27;%x年-第%v周&#x27;</span>) <span class="keyword">as</span> week,<span class="built_in">sum</span>(money) <span class="keyword">as</span> money <span class="keyword">from</span> finance_base <span class="keyword">where</span> DATE_FORMAT(<span class="type">date</span>,<span class="string">&#x27;%Y&#x27;</span>)<span class="operator">=</span><span class="number">2010</span> <span class="keyword">group</span> <span class="keyword">by</span> week</span><br></pre></td></tr></table></figure></li>
<li><!-- 按日查询 -->  
<p>SELECT DATE_FORMAT(created_date,’%Y-%m-%d’) as time,sum(money) money FROM o_finance_detail where org_id = 1000  GROUP BY  time  </p>
<!-- 按月查询 -->  
<p>SELECT DATE_FORMAT(created_date,’%Y-%m’) as time,sum(money)  money FROM o_finance_detail where org_id = 1000  GROUP BY  time  </p>
<!-- 按年查询 -->  
<p>SELECT DATE_FORMAT(created_date,’%Y’) as time,sum(money)  money FROM o_finance_detail where org_id = 1000  GROUP BY  time   </p>
<!-- 按周查询 -->  
<p>SELECT DATE_FORMAT(created_date,’%Y-%u’) as time,sum(money)  money FROM o_finance_detail where org_id = 1000  GROUP BY  time</p>
</li>
</ol>
]]></content>
      <categories>
        <category>数据库</category>
      </categories>
  </entry>
  <entry>
    <title>sql注意</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/sql/%E6%B3%A8%E6%84%8F/</url>
    <content><![CDATA[<h3 id=""><a href="#" class="headerlink" title=""></a></h3><ol>
<li>count (*)  括号前面没有空格，有空格会报错。函数和括号是连着的</li>
<li>表名，字段名  data与date不要写错</li>
</ol>
]]></content>
      <categories>
        <category>数据库</category>
      </categories>
  </entry>
  <entry>
    <title>DAL数据库</title>
    <url>/2022/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93/sql/%E9%85%8D%E7%BD%AEsql/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="查看"><a href="#查看" class="headerlink" title="查看"></a>查看</h3><ol>
<li>查看表的构造  show create  table name;</li>
<li>查看所有数据库/表  show databases/tables;</li>
<li>查看表每个字段的约束  desc(describe缩写) tablename;</li>
</ol>
<h3 id="variables"><a href="#variables" class="headerlink" title="variables"></a>variables</h3><p><a href="https://www.cnblogs.com/goldenstones/p/6362434.html">参考</a></p>
<ol>
<li><p>全部</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> variables</span><br></pre></td></tr></table></figure></li>
<li><p>查看字符编码 character 注意客户端和服务端的编码要一样</p>
</li>
<li><p>查看是否日志 log </p>
<ol>
<li>max_binlog_size 最大log，默认1g</li>
</ol>
</li>
<li><p>查看事务等级</p>
</li>
<li><p>最大连接数</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> variables <span class="keyword">like</span> <span class="string">&#x27;max_connections&#x27;</span>;</span><br><span class="line"># 理想值  max_used_connections <span class="operator">/</span> max_connections <span class="operator">*</span> <span class="number">100</span><span class="operator">%</span> <span class="operator">=</span> <span class="number">85</span><span class="operator">%</span> </span><br></pre></td></tr></table></figure></li>
<li><p>排序用到的字节数 max_sort_length </p>
</li>
</ol>
<span id="more"></span>

]]></content>
      <categories>
        <category>数据库</category>
        <category>sql语句</category>
      </categories>
  </entry>
  <entry>
    <title>Reflection类</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JLang/Reflection/</url>
    <content><![CDATA[<blockquote>
<p>反射是<code>运行时</code>获得<code>任意类的任意信息</code></p>
</blockquote>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>Obeject类</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JLang/Object/</url>
    <content><![CDATA[<h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><h3 id="1-简单方法"><a href="#1-简单方法" class="headerlink" title="1. 简单方法"></a>1. 简单方法</h3><h3 id="2-线程方法"><a href="#2-线程方法" class="headerlink" title="2. 线程方法"></a>2. 线程方法</h3><h3 id="3-本地方法"><a href="#3-本地方法" class="headerlink" title="3. 本地方法"></a>3. 本地方法</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">registerNatives</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JLang/String/</url>
    <content><![CDATA[<hr>
<h2 id="title"><a href="#title" class="headerlink" title="title"></a>title</h2>]]></content>
  </entry>
  <entry>
    <title>System类</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JLang/System%E7%B1%BB/</url>
    <content><![CDATA[<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h3 id="System-print"><a href="#System-print" class="headerlink" title="System.print"></a>System.print</h3><ol>
<li><p> 红色控制台：system.err();</p>
</li>
<li><p>输出到指定文件</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">OutputStream outputStream = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;d:/err.txt&quot;</span>);</span><br><span class="line">System.setErr(<span class="keyword">new</span> PrintStream(outputStream));</span><br></pre></td></tr></table></figure></li>
<li><p>全局输出流</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.setIn(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;d:/aa.txt&quot;</span>));</span><br></pre></td></tr></table></figure></li>
<li><p>1</p>
<span id="more"></span></li>
</ol>
<h3 id="2-System-getProperty"><a href="#2-System-getProperty" class="headerlink" title="2. System.getProperty"></a>2. System.getProperty</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(System.getProperty(<span class="string">&quot;user.dir&quot;</span>)); <span class="comment">// D:\java\tech,输出projectPath</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>java.version:java运行时版本</p>
<p>java.home;java安装目录</p>
<p>os.name:操作系统的名称</p>
<p>file.separator:文件分隔符（在unix系统中是“/”）</p>
<p>path.separator:路径分隔符（在unix系统中是“:”）</p>
<p>line.separator:行分隔符（在unix系统中是“/n”）</p>
<p>user.name:用户的账户名称</p>
<p>user.home:用户的主目录</p>
<p>user.dir:用户的当前工作目录</p>
</blockquote>
<!--more-->

<h3 id="System-getProperty-与-System-getenv"><a href="#System-getProperty-与-System-getenv" class="headerlink" title="System.getProperty 与 System.getenv"></a>System.getProperty 与 System.getenv</h3><ol>
<li>System.getProperty  获得JVM中的环境属性</li>
<li>System.getenv 获得操作系统的环境变量</li>
</ol>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>juc的集合</title>
    <url>/2022/03/10/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JUC/juc%E7%9A%84%E9%9B%86%E5%90%88/</url>
    <content><![CDATA[<h2 id="BlockingDeque-阻塞双端队列"><a href="#BlockingDeque-阻塞双端队列" class="headerlink" title="BlockingDeque 阻塞双端队列"></a>BlockingDeque 阻塞双端队列</h2><p>deque: double ended queue 双端队列，可以从首部和尾部插入元素</p>
<h2 id="BlockingQeque-阻塞队列"><a href="#BlockingQeque-阻塞队列" class="headerlink" title="BlockingQeque 阻塞队列"></a>BlockingQeque 阻塞队列</h2><h2 id="ArrayBlockingQueue"><a href="#ArrayBlockingQueue" class="headerlink" title="ArrayBlockingQueue"></a>ArrayBlockingQueue</h2><h2 id="ConcurrentHashMap"><a href="#ConcurrentHashMap" class="headerlink" title="ConcurrentHashMap"></a>ConcurrentHashMap</h2><h2 id="ConcurrentLinkedDeque"><a href="#ConcurrentLinkedDeque" class="headerlink" title="ConcurrentLinkedDeque"></a>ConcurrentLinkedDeque</h2><h2 id="ConcurrentLinkedQueue"><a href="#ConcurrentLinkedQueue" class="headerlink" title="ConcurrentLinkedQueue"></a>ConcurrentLinkedQueue</h2><h2 id="CopyOnWriteArrayList"><a href="#CopyOnWriteArrayList" class="headerlink" title="CopyOnWriteArrayList"></a>CopyOnWriteArrayList</h2><h2 id="CopyOnWriteArraySet"><a href="#CopyOnWriteArraySet" class="headerlink" title="CopyOnWriteArraySet"></a>CopyOnWriteArraySet</h2><h2 id="DelayQueue"><a href="#DelayQueue" class="headerlink" title="DelayQueue"></a>DelayQueue</h2>]]></content>
  </entry>
  <entry>
    <title>Objects</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JUtil/Objects/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、属性"><a href="#一、属性" class="headerlink" title="一、属性"></a>一、属性</h2><p>1</p>
<h2 id="二、方法"><a href="#二、方法" class="headerlink" title="二、方法"></a>二、方法</h2><blockquote>
<p>私有构造，工具方法类</p>
</blockquote>
<h3 id="2-1-equals"><a href="#2-1-equals" class="headerlink" title="2.1 equals"></a>2.1 equals</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object a, Object b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (a == b) || (a != <span class="keyword">null</span> &amp;&amp; a.equals(b));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-deepEquals"><a href="#2-2-deepEquals" class="headerlink" title="2.2 deepEquals"></a>2.2 deepEquals</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">deepEquals</span><span class="params">(Object a, Object b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (a == b)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (a == <span class="keyword">null</span> || b == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> Arrays.deepEquals0(a, b);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-3-hashCode"><a href="#2-3-hashCode" class="headerlink" title="2.3 hashCode"></a>2.3 hashCode</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> o != <span class="keyword">null</span> ? o.hashCode() : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-4-hash"><a href="#2-4-hash" class="headerlink" title="2.4 hash"></a>2.4 hash</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(Object... values)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Arrays.hashCode(values);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> java.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.function.Supplier;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Objects</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Objects</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> AssertionError(<span class="string">&quot;No java.util.Objects instances for you!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> String.valueOf(o);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(Object o, String nullDefault)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (o != <span class="keyword">null</span>) ? o.toString() : nullDefault;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">int</span> <span class="title">compare</span><span class="params">(T a, T b, Comparator&lt;? <span class="keyword">super</span> T&gt; c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (a == b) ? <span class="number">0</span> :  c.compare(a, b);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">T <span class="title">requireNonNull</span><span class="params">(T obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (obj == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException();</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">T <span class="title">requireNonNull</span><span class="params">(T obj, String message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (obj == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException(message);</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isNull</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj == <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">nonNull</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj != <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">T <span class="title">requireNonNull</span><span class="params">(T obj, Supplier&lt;String&gt; messageSupplier)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (obj == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException(messageSupplier.get());</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>Spliterator</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JUtil/Spliterator/</url>
    <content><![CDATA[<h2 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h2><h3 id="1-1-作用"><a href="#1-1-作用" class="headerlink" title="1.1 作用"></a>1.1 作用</h3><ul>
<li>用于遍历和分割源的元素的对象。 Spliterator涵盖的元素的来源可以是例如阵列， <a href="../../java/util/Collection.html"><code>Collection</code></a> ，IO通道或生成器函数</li>
</ul>
<h3 id="1-2-原理"><a href="#1-2-原理" class="headerlink" title="1.2 原理"></a>1.2 原理</h3><h3 id="1-3-父"><a href="#1-3-父" class="headerlink" title="1.3 父"></a>1.3 父</h3><h2 id="二、属性"><a href="#二、属性" class="headerlink" title="二、属性"></a>二、属性</h2><h2 id="三、方法"><a href="#三、方法" class="headerlink" title="三、方法"></a>三、方法</h2><h2 id="四、细节"><a href="#四、细节" class="headerlink" title="四、细节"></a>四、细节</h2>]]></content>
  </entry>
  <entry>
    <title>Spliterators</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JUtil/Spliterators/</url>
    <content><![CDATA[<h2 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h2><h3 id="1-1-作用"><a href="#1-1-作用" class="headerlink" title="1.1 作用"></a>1.1 作用</h3><blockquote>
<p>工具类，私有构造,</p>
<p>用于上操作或创建的实例的方法<a href="../../java/util/Spliterator.html"><code>Spliterator</code></a>和其原始特<a href="../../java/util/Spliterator.OfInt.html"><code>Spliterator.OfInt</code></a>  ， <a href="../../java/util/Spliterator.OfLong.html"><code>Spliterator.OfLong</code></a>和<a href="../../java/util/Spliterator.OfDouble.html"><code>Spliterator.OfDouble</code></a>  。 </p>
</blockquote>
<h3 id="1-2-原理"><a href="#1-2-原理" class="headerlink" title="1.2 原理"></a>1.2 原理</h3><h3 id="1-3-父"><a href="#1-3-父" class="headerlink" title="1.3 父"></a>1.3 父</h3><h2 id="二、属性"><a href="#二、属性" class="headerlink" title="二、属性"></a>二、属性</h2><h2 id="三、方法"><a href="#三、方法" class="headerlink" title="三、方法"></a>三、方法</h2><h2 id="四、细节"><a href="#四、细节" class="headerlink" title="四、细节"></a>四、细节</h2>]]></content>
  </entry>
  <entry>
    <title>java.net</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JUtil/net/</url>
    <content><![CDATA[<h2 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h2><h3 id="获取远程的资源"><a href="#获取远程的资源" class="headerlink" title="获取远程的资源"></a>获取远程的资源</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">URL url = <span class="keyword">new</span> URL(urlString);</span><br><span class="line">URLConnection conn = url.openConnection();</span><br><span class="line"><span class="keyword">return</span> conn.getInputStream();</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>properties</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JUtil/properties/</url>
    <content><![CDATA[<h2 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h2><h3 id="1-1-作用"><a href="#1-1-作用" class="headerlink" title="1.1 作用"></a>1.1 作用</h3><h3 id="1-2-原理"><a href="#1-2-原理" class="headerlink" title="1.2 原理"></a>1.2 原理</h3><h3 id="1-3-父"><a href="#1-3-父" class="headerlink" title="1.3 父"></a>1.3 父</h3><p>HashTable</p>
<h2 id="二、属性"><a href="#二、属性" class="headerlink" title="二、属性"></a>二、属性</h2><h2 id="三、方法"><a href="#三、方法" class="headerlink" title="三、方法"></a>三、方法</h2><h2 id="四、细节"><a href="#四、细节" class="headerlink" title="四、细节"></a>四、细节</h2>]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/other/buliding/</url>
    <content><![CDATA[<p>正在更新中…</p>
]]></content>
  </entry>
  <entry>
    <title>DataManager类</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/sql/DataManger/</url>
    <content><![CDATA[<blockquote>
<p>管理JDBC驱动</p>
</blockquote>
<h3 id="DataManager和DataSource区别"><a href="#DataManager和DataSource区别" class="headerlink" title="DataManager和DataSource区别"></a>DataManager和DataSource区别</h3><ol>
<li>前者的conn是一次性的，后者可以连接数据库连接池，conn.close实际是收回</li>
</ol>
<h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><h3 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h3><p>私有构造+static代码块</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">loadInitialDrivers</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="getConnection"><a href="#getConnection" class="headerlink" title="getConnection"></a>getConnection</h3><h3 id="getDrivers"><a href="#getDrivers" class="headerlink" title="getDrivers"></a>getDrivers</h3>]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>多线程CSA</title>
    <url>/2022/03/08/java/java%E9%AB%98%E7%BA%A7/JUC/CSA/</url>
    <content><![CDATA[<p><a href="https://www.jianshu.com/p/fb6e91b013cc">深入浅出CSA</a></p>
<p>一、什么是CAS</p>
<p> <a href="https://www.cnblogs.com/upcwanghaibo/p/8626802.html">转载</a></p>
<p>CAS,compare and swap的缩写，比较后交换。</p>
<p>我们都知道，在java语言之前，并发就已经广泛存在并在服务器领域得到了大量的应用。所以硬件厂商老早就在芯片中加入了大量直至并发操作的原语，从而在硬件层面提升效率。在intel的CPU中，使用cmpxchg指令。</p>
<p>在Java发展初期，java语言是不能够利用硬件提供的这些便利来提升系统的性能的。而随着java不断的发展,Java本地方法(JNI)的出现，使得java程序越过JVM直接调用本地方法提供了一种便捷的方式，因而java在并发的手段上也多了起来。而在Doug Lea提供的cucurenct包中，CAS理论是它实现整个java包的基石。</p>
<p>CAS 操作包含三个操作数 —— 内存位置（V）、预期原值（A）和新值(B)。 如果内存位置的值与预期原值相匹配，那么处理器会自动将该位置值更新为新值 。否则，处理器不做任何操作。无论哪种情况，它都会在 CAS 指令之前返回该 位置的值。（在 CAS 的一些特殊情况下将仅返回 CAS 是否成功，而不提取当前 值。）CAS 有效地说明了“我认为位置 V 应该包含值 A；如果包含该值，则将 B 放到这个位置；否则，不要更改该位置，只告诉我这个位置现在的值即可。”</p>
<p>通常将 CAS 用于同步的方式是从地址 V 读取值 A，执行多步计算来获得新 值 B，然后使用 CAS 将 V 的值从 A 改为 B。如果 V 处的值尚未同时更改，则 CAS 操作成功。</p>
<p>类似于 CAS 的指令允许算法执行读-修改-写操作，而无需害怕其他线程同时 修改变量，因为如果其他线程修改变量，那么 CAS 会检测它（并失败），算法 可以对该操作重新计算。</p>
<p>二、CAS的目的</p>
<p>利用CPU的CAS指令，同时借助JNI来完成Java的非阻塞算法。其它原子操作都是利用类似的特性完成的。而整个J.U.C都是建立在CAS之上的，因此对于synchronized阻塞算法，J.U.C在性能上有了很大的提升。</p>
<p>三、CAS存在的问题</p>
<p>CAS虽然很高效的解决原子操作，但是CAS仍然存在三大问题。ABA问题，循环时间长开销大和只能保证一个共享变量的原子操作</p>
<p>\1.  ABA问题。因为CAS需要在操作值的时候检查下值有没有发生变化，如果没有发生变化则更新，但是如果一个值原来是A，变成了B，又变成了A，那么使用CAS进行检查时会发现它的值没有发生变化，但是实际上却变化了。ABA问题的解决思路就是使用版本号。在变量前面追加上版本号，每次变量更新的时候把版本号加一，那么A－B－A 就会变成1A-2B－3A。</p>
<p>从Java1.5开始JDK的atomic包里提供了一个类AtomicStampedReference来解决ABA问题。这个类的compareAndSet方法作用是首先检查当前引用是否等于预期引用，并且当前标志是否等于预期标志，如果全部相等，则以原子方式将该引用和该标志的值设置为给定的更新值。</p>
<p>关于ABA问题参考文档: <a href="http://blog.hesey.net/2011/09/resolve-aba-by-atomicstampedreference.html">http://blog.hesey.net/2011/09/resolve-aba-by-atomicstampedreference.html</a></p>
<p>\2. 循环时间长开销大。自旋CAS如果长时间不成功，会给CPU带来非常大的执行开销。如果JVM能支持处理器提供的pause指令那么效率会有一定的提升，pause指令有两个作用，第一它可以延迟流水线执行指令（de-pipeline）,使CPU不会消耗过多的执行资源，延迟的时间取决于具体实现的版本，在一些处理器上延迟时间是零。第二它可以避免在退出循环的时候因内存顺序冲突（memory order violation）而引起CPU流水线被清空（CPU pipeline flush），从而提高CPU的执行效率。</p>
<p>\3. 只能保证一个共享变量的原子操作。当对一个共享变量执行操作时，我们可以使用循环CAS的方式来保证原子操作，但是对多个共享变量操作时，循环CAS就无法保证操作的原子性，这个时候就可以用锁，或者有一个取巧的办法，就是把多个共享变量合并成一个共享变量来操作。比如有两个共享变量i＝2,j=a，合并一下ij=2a，然后用CAS来操作ij。从Java1.5开始JDK提供了AtomicReference类来保证引用对象之间的原子性，你可以把多个变量放在一个对象里来进行CAS操作。</p>
<p>四、concurrent包的实现</p>
<p>由于java的CAS同时具有 volatile 读和volatile写的内存语义，因此Java线程之间的通信现在有了下面四种方式：</p>
<ol>
<li>A线程写volatile变量，随后B线程读这个volatile变量。</li>
<li>A线程写volatile变量，随后B线程用CAS更新这个volatile变量。</li>
<li>A线程用CAS更新一个volatile变量，随后B线程用CAS更新这个volatile变量。</li>
<li>A线程用CAS更新一个volatile变量，随后B线程读这个volatile变量。</li>
</ol>
<p>Java的CAS会使用现代处理器上提供的高效机器级别原子指令，这些原子指令以原子方式对内存执行读-改-写操作，这是在多处理器中实现同步的关键（从本质上来说，能够支持原子性读-改-写指令的计算机器，是顺序计算图灵机的异步等价机器，因此任何现代的多处理器都会去支持某种能对内存执行原子性读-改-写操作的原子指令）。同时，volatile变量的读/写和CAS可以实现线程之间的通信。把这些特性整合在一起，就形成了整个concurrent包得以实现的基石。如果我们仔细分析concurrent包的源代码实现，会发现一个通用化的实现模式：</p>
<ol>
<li>首先，声明共享变量为volatile；</li>
<li>然后，使用CAS的原子条件更新来实现线程之间的同步；</li>
<li>同时，配合以volatile的读/写和CAS所具有的volatile读和写的内存语义来实现线程之间的通信。</li>
</ol>
<p>AQS，非阻塞数据结构和原子变量类（java.util.concurrent.atomic包中的类），这些concurrent包中的基础类都是使用这种模式来实现的，而concurrent包中的高层类又是依赖于这些基础类来实现的。从整体来看，concurrent包的实现示意图如下：</p>
]]></content>
      <categories>
        <category>java</category>
        <category>JUC</category>
      </categories>
  </entry>
  <entry>
    <title>JUC</title>
    <url>/2022/03/08/java/java%E9%AB%98%E7%BA%A7/JUC/JUC/</url>
    <content><![CDATA[<ol>
<li>PraperStatment的优点</li>
<li>线程和进程概念<ol>
<li>进程与线程<ol>
<li>进程是分配资源的基本单元，运行的一个程序</li>
<li>线程是cpu调度的基本单元，程序执行的基本单位</li>
</ol>
</li>
<li>线程的状态<ol>
<li>新建</li>
<li>就绪</li>
<li>等待</li>
<li>运行</li>
<li>死亡</li>
</ol>
</li>
<li>wati和sleep<ol>
<li>Object.wait<ol>
<li>释放锁</li>
</ol>
</li>
<li>Thread.sleep<ol>
<li>不释放当前锁</li>
</ol>
</li>
</ol>
</li>
<li>并发和并行<ol>
<li>串行：排队执行</li>
<li>并行：一并执行</li>
<li>并发：一个cpu表面上运行多个线程</li>
<li>并行：多个cpu</li>
</ol>
</li>
</ol>
</li>
<li>Lock<ol>
<li>synchronize，同步锁<ol>
<li>修饰代码块<ol>
<li>作用于对象是调用这个代码块的对象</li>
</ol>
</li>
<li>修饰方法<ol>
<li>被修饰的方法称为同步方法，其</li>
<li>作用的对象是调用这个方法的对象； </li>
</ol>
</li>
<li>修饰静态方法<ol>
<li>作用的对象是这个类的所有对象</li>
</ol>
</li>
<li>修饰类<ol>
<li>作用主的对象是这个类的所有对象</li>
</ol>
</li>
</ol>
</li>
<li>lock和synchronized区别<ol>
<li>lock可获得更广泛的锁</li>
<li>lock是类，不是java内置</li>
<li>lock是手动锁，synchronized是自动锁</li>
<li>synchronized发生异常或者结束会自动释放，而lock发生了异常会一直占用锁</li>
<li>lock可以判断是否得到了锁</li>
<li>lock可以在竞争激烈的情况下提高效率</li>
</ol>
</li>
</ol>
</li>
<li>管程:<ol>
<li>Monitor、监视器、锁</li>
<li>同步机制，保证只有一个线程能访问资源</li>
<li></li>
</ol>
</li>
<li>用户线程和守护线程<ol>
<li>用户线程：普通的线程，main结束了，用户线程还会继续运行</li>
<li>守护线程：后台默默运行的线程 isDaemon，main结束，收回线程会结束</li>
</ol>
</li>
<li><a href="https://zhuanlan.zhihu.com/p/134235964">Java Thread的start和run方法的区别</a><ol>
<li>start()会导致run()方法被调用</li>
<li>run()方法中的内容称为线程体，它就是这个线程需要执行的工作。<br>用start()来启动线程，实现了真正意义上的启动线程，此时会出现<strong>异步执行</strong>的效果，即在线程的创建和启动中所述的随机性。 而如果使用<strong>run()来启动线程</strong>，就不是异步执行了，而是<strong>同步执行</strong>，不会达到使用线程的意义</li>
</ol>
</li>
</ol>
<h3 id="多线程编程步骤"><a href="#多线程编程步骤" class="headerlink" title="多线程编程步骤"></a>多线程编程步骤</h3><ol>
<li>创建资源类</li>
<li>资源类的消费和供给方法<ol>
<li>判断<ol>
<li>否：wait等待其他线程的natify</li>
<li>是：干活<ol>
<li>通知</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>创建线程，调用消费、共给方法</li>
</ol>
<h2 id="线程间通信"><a href="#线程间通信" class="headerlink" title="线程间通信"></a>线程间通信</h2><h3 id="线程间定制化通信"><a href="#线程间定制化通信" class="headerlink" title="线程间定制化通信"></a>线程间定制化通信</h3><ol>
<li>标志位</li>
</ol>
<h3 id="特殊"><a href="#特殊" class="headerlink" title="特殊"></a>特殊</h3><ol>
<li>wait 需要用while循环放置虚假唤醒</li>
</ol>
<h3 id="疑惑"><a href="#疑惑" class="headerlink" title="疑惑"></a>疑惑</h3><ol>
<li>lock原理</li>
<li>wait</li>
</ol>
]]></content>
      <categories>
        <category>java</category>
        <category>JUC</category>
      </categories>
  </entry>
  <entry>
    <title>java阻塞</title>
    <url>/2022/03/08/java/java%E9%AB%98%E7%BA%A7/JUC/java%E9%98%BB%E5%A1%9E/</url>
    <content><![CDATA[<h1 id="浅谈JAVA中的线程阻塞方法"><a href="#浅谈JAVA中的线程阻塞方法" class="headerlink" title="浅谈JAVA中的线程阻塞方法"></a>浅谈JAVA中的线程阻塞方法</h1><ol>
<li><a href="https://www.jianshu.com/p/c5715fa91dd8">参考</a></li>
</ol>
<blockquote>
<p>如果线程是因为调用了wait()、sleep()或者join()方法而导致的阻塞，可以中断线程，并且通过抛出InterruptedException来唤醒它;如果线程遇到了IO阻塞，无能为力，因为IO是操作系统实现的，Java代码并没有办法直接接触到操作系统。以下是详细的唤醒方法：</p>
</blockquote>
<ol>
<li><p>sleep() 方法</p>
<p>sleep(毫秒)，指定以毫秒为单位的时间，使线程在该时间内进入线程阻塞状态，期间得不到cpu的时间片，等到时间过去了，线程重新进入可执行状态。(暂停线程，不会释放锁)</p>
</li>
<li><p>suspend() 和 resume() 方法</p>
<p>挂起和唤醒线程，suspend e()使线程进入阻塞状态，只有对应的resume e()被调用的时候，线程才会进入可执行状态。(不建议用，容易发生死锁)</p>
</li>
<li><p>yield() 方法</p>
<p>会使的线程放弃当前分得的cpu时间片，但此时线程任然处于可执行状态，随时可以再次分得cpu时间片。yield()方法只能使同优先级的线程有执行的机会。调用 yield()的效果等价于调度程序认为该线程已执行了足够的时间从而转到另一个线程。(暂停当前正在执行的线程，并执行其他线程，且让出的时间不可知)</p>
</li>
<li><p>wait() 和 notify() 方法</p>
<p>两个方法搭配使用，wait()使线程进入阻塞状态，调用notify()时，线程进入可执行状态。wait()内可加或不加参数，加参数时是以毫秒为单位，当到了指定时间或调用notify()方法时，进入可执行状态。(属于Object类，而不属于Thread类，wait()会先释放锁住的对象，然后再执行等待的动作。由于wait()所等待的对象必须先锁住，因此，它只能用在同步化程序段或者同步化方法内，否则，会抛出异常IllegalMonitorStateException.)</p>
</li>
<li><p>join()方法</p>
<p>也叫线程加入。是当前线程A调用另一个线程B的join()方法，当前线程转A入阻塞状态，直到线程B运行结束，线程A才由阻塞状态转为可执行状态。</p>
</li>
<li><p>以上是Java线程唤醒和阻塞的五种常用方法，不同的方法有不同的特点，其中wait() 和 notify()是其中功能最强大、使用最灵活的方法，但这也导致了它们效率较低、较容易出错的特性，因此，在实际应用中应灵活运用各种方法，以达到期望的目的与效果!</p>
</li>
</ol>
]]></content>
      <categories>
        <category>java</category>
        <category>JUC</category>
      </categories>
  </entry>
  <entry>
    <title>java的SecurityManager</title>
    <url>/2022/03/08/java/java%E9%AB%98%E7%BA%A7/JavaSecurity/SecurityManager/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>java内存模型</title>
    <url>/2022/03/08/java/java%E9%AB%98%E7%BA%A7/jvm/JMM/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="痛点-转载"><a href="#痛点-转载" class="headerlink" title="痛点-转载"></a><a href="https://www.hollischuang.com/archives/2550">痛点-转载</a></h2><p>​    但是随着CPU技术的发展，CPU的执行速度越来越快。而由于内存的技术并没有太大的变化，所以从内存中读取和写入数据的过程和CPU的执行速度比起来差距就会越来越大,这就导致CPU每次操作内存都要耗费很多等待时间。</p>
<ul>
<li><p>所以，人们想出来了一个好的办法，就是在CPU和内存之间增加高速缓存。缓存的概念大家都知道，就是保存一份数据拷贝。他的特点是速度快，内存小，并且昂贵。</p>
</li>
<li><p><strong>当程序在运行过程中，会将运算需要的数据从主存复制一份到CPU的高速缓存当中，那么CPU进行计算时就可以直接从它的高速缓存读取数据和向其中写入数据，当运算结束之后，再将高速缓存中的数据刷新到主存当中。</strong></p>
</li>
<li><p>随着CPU能力的不断提升，一层缓存就慢慢的无法满足要求了，就逐渐的衍生出多级缓存。按照数据读取顺序和与CPU结合的紧密程度，CPU缓存可以分为一级缓存（L1），二级缓存（L3），部分高端CPU还具有三级缓存（L3），每一级缓存中所储存的全部数据都是下一级缓存的一部分</p>
</li>
<li><p>当CPU要读取一个数据时，首先从一级缓存中查找，如果没有找到再从二级缓存中查找，如果还是没有就从三级缓存或内存中查找。</p>
</li>
<li><p>单核CPU只含有一套L1，L2，L3缓存；如果CPU含有多个核心，即多核CPU，则每个核心都含有一套L1（甚至和L2）缓存，而共享L3（或者和L2）缓存。</p>
</li>
</ul>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211214014833316.png" alt="image-20211214014833316"></p>
<h2 id="二、并发编程的三个问题"><a href="#二、并发编程的三个问题" class="headerlink" title="二、并发编程的三个问题"></a>二、并发编程的三个问题</h2><h3 id="2-1-原子性"><a href="#2-1-原子性" class="headerlink" title="2.1 原子性"></a>2.1 原子性</h3><blockquote>
<p>和数据库的原子性一样，要么全成功，要么全失败</p>
</blockquote>
<p>jvm只保证了对8大基本类型(除了double,long)读、取操作时原子的</p>
<h3 id="2-2-有序性"><a href="#2-2-有序性" class="headerlink" title="2.2 有序性"></a>2.2 有序性</h3><blockquote>
<p>由于变量的读取经过 工作内存–&gt;缓存–&gt;主存 </p>
<p>各个存储点存储变量的地址不一样，可能变量a，b的地址会近一些，所以操作完a会优先操作b</p>
</blockquote>
<blockquote>
<p>指令重排不会影响单个线程的结果，但在多线程下就会变得不安全。</p>
</blockquote>
<p>例如</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//线程a:</span></span><br><span class="line">student = <span class="keyword">new</span> Student();   <span class="comment">//语句1</span></span><br><span class="line">inited = <span class="keyword">true</span>;             <span class="comment">//语句2</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//线程b:</span></span><br><span class="line"><span class="keyword">while</span>(!inited )&#123;</span><br><span class="line">  sleep()</span><br><span class="line">&#125;</span><br><span class="line">student.doWork();</span><br></pre></td></tr></table></figure>

<ul>
<li>如果线程a按照1、2顺序执行，那么线程b将永远不会在student初始化之前就doWork</li>
</ul>
<h3 id="2-3-可见性"><a href="#2-3-可见性" class="headerlink" title="2.3 可见性"></a>2.3 可见性</h3><blockquote>
<p>该特性可以理解为值时直接访问主存的到的，大家看到的都一样</p>
</blockquote>
<h2 id="三、关键字"><a href="#三、关键字" class="headerlink" title="三、关键字"></a>三、关键字</h2><h3 id="3-1-关键字volatile"><a href="#3-1-关键字volatile" class="headerlink" title="3.1 关键字volatile"></a>3.1 关键字volatile</h3><blockquote>
<p>易见的，易变的</p>
</blockquote>
<h4 id="解决两个问题"><a href="#解决两个问题" class="headerlink" title="解决两个问题"></a>解决两个问题</h4><ol>
<li><p>可见性</p>
<p>原理：面向主存读写</p>
</li>
<li><p>有序性</p>
</li>
</ol>
]]></content>
      <categories>
        <category>java</category>
        <category>JVM</category>
      </categories>
  </entry>
  <entry>
    <title>JVM内存模型</title>
    <url>/2022/03/08/java/java%E9%AB%98%E7%BA%A7/jvm/JVM%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%841/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、JVM内存结构"><a href="#一、JVM内存结构" class="headerlink" title="一、JVM内存结构"></a>一、JVM内存结构</h2><p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211214035039329.png" alt="image-20211214035039329"></p>
<blockquote>
<p>包括：栈、堆、程序计数器、本地方法栈、方法区</p>
</blockquote>
<h3 id="1-1-JVM栈"><a href="#1-1-JVM栈" class="headerlink" title="1.1 JVM栈 "></a>1.1 <a href="https://blog.csdn.net/heart_mine/article/details/79495032">JVM栈 </a></h3><blockquote>
<p>每个线程对应一个栈</p>
<p>栈：方法栈</p>
<p>栈帧：某个方法所需的内存 ：参数，局部变量，返回值(返回地址)</p>
</blockquote>
<blockquote>
<p>默认1024KB，影响递归的深度</p>
</blockquote>
<ul>
<li>每深入一个方法，以栈帧为单位的压栈或者出栈</li>
<li>每退出一个方法，退栈</li>
</ul>
<h4 id="1-1-1-存储内容"><a href="#1-1-1-存储内容" class="headerlink" title="1.1.1 存储内容"></a>1.1.1 存储内容</h4><p>​    栈中只保存基础数据类型的对象和自定义对象的引用(不是整个对象)，对象都存放在堆区中 每个栈中的数据(原始类型和对象引用)都是私有的，其他栈不能访问。</p>
<p>​     栈分为3个部分：基本类型变量区、执行环境上下文、操作指令区(存放操作指令)。</p>
<h4 id="1-1-2-特殊"><a href="#1-1-2-特殊" class="headerlink" title="1.1.2 特殊"></a>1.1.2 特殊</h4><ol>
<li><p>Java方法本身没有线程安不安全，全都依赖它的变量的作用范围</p>
</li>
<li><p>synchronized修饰方法，意思是锁住调用者</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">changeStudent</span><span class="params">(Student s)</span></span>&#123;</span><br><span class="line">	s.setName(<span class="string">&quot;小明&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>当普通方法</p>
</li>
</ol>
<h3 id="1-2-堆内存"><a href="#1-2-堆内存" class="headerlink" title="1.2 堆内存"></a>1.2 堆内存</h3><h4 id="1-2-1-存储内容"><a href="#1-2-1-存储内容" class="headerlink" title="1.2.1 存储内容"></a>1.2.1 存储内容</h4><ol>
<li><p>全部是对象，每个对象包含一个与之对应的class信息–class的目的是得到操作指令。</p>
</li>
<li><p>JDK7之后存储静态变量、字符常量池，JDK7之前存在方法区</p>
</li>
</ol>
<h4 id="1-2-2-堆内存特点"><a href="#1-2-2-堆内存特点" class="headerlink" title="1.2.2 堆内存特点"></a>1.2.2 堆内存特点</h4><p>jvm只有一个堆区（heap）被所有线程共享，堆区中不存放基本类型和对象引用，只存放对象本身。  </p>
<ul>
<li>堆的优势是可以动态地分配内存大小，生存期也不必事先告诉编译器，因为它是在运行时动态分配内存的，Java的垃圾收集器会自动收走这些不再使用的数据。 </li>
<li>缺点是，由于要在运行时动态分配内存，存取速度较慢。</li>
</ul>
<p><a href="https://www.cnblogs.com/shamo89/p/9775122.html">Java堆完全是自动化管理</a>，通过垃圾收集机制，垃圾对象会自动清理，不需自己去释放</p>
<p>Java堆分为新生代(Young Gen)和老年代(Tenured Gen)</p>
<h3 id="1-3-方法区"><a href="#1-3-方法区" class="headerlink" title="1.3 方法区"></a>1.3 方法区</h3><blockquote>
<p>方法区看作是一块独立于Java堆的内存空间，属于共享内存</p>
</blockquote>
<h4 id="1-3-1-存储内容"><a href="#1-3-1-存储内容" class="headerlink" title="1.3.1 存储内容"></a>1.3.1 存储内容</h4><ol>
<li>类头信息<ol>
<li>名称</li>
<li>父类</li>
<li>修饰符</li>
<li>接口</li>
</ol>
</li>
<li>类域信息：字段信息</li>
<li>类方法信息<ol>
<li>名称</li>
<li>参数数量、类型</li>
<li>修饰符</li>
<li>方法字节码(操作+局部变量)</li>
<li>异常表</li>
</ol>
</li>
<li>运行时常量，它是每一个类或接口的常量池的运行时表示形式，在类和接口被加载到JVM后，对应的运行时常量池就被创建出来。在运行期间也可将新的常量放入运行时常量池中，比如String的intern方法。虽然JVM规范把方法区描述为堆的一个逻辑部分， 但它却有个别名non-heap（非堆）。<strong>方法区的大小决定了系统可以加载多少个类</strong>， 如果系统定义的类太多，可能会产生OOM</li>
</ol>
<h4 id="1-3-2-常量池"><a href="#1-3-2-常量池" class="headerlink" title="1.3.2 常量池"></a>1.3.2 常量池</h4><p> 运行时常量池与常量池的区别</p>
<ol>
<li>存放内容：存放编译期间生成的<ol>
<li>各种字面量（字符串和final常量）</li>
<li>字段表、方法表、属性表</li>
<li>符号引用（类和接口的全限定名、字段的名称和描述符、方法句柄和方法类型、方法的名称和描述符 ）</li>
</ol>
</li>
<li>区别<ul>
<li>常量池：存放在.class文件中</li>
<li>运行时常量池：内存中</li>
</ul>
</li>
<li>运行时常量池是常量池表在运行时的表现形式，通过ClassLoader将字节码文件的常量池中的信息加载到内存中，存储在了方法区的运行时常量池中。</li>
</ol>
<h4 id="1-3-3-方法区的演进"><a href="#1-3-3-方法区的演进" class="headerlink" title="1.3.3 方法区的演进"></a>1.3.3 方法区的演进</h4><p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211214042049855.png" alt="image-20211214042049855"></p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211214042305858.png" alt="image-20211214042305858"></p>
<p><a href="https://blog.csdn.net/weixin_43232955/article/details/107411378">图片来源</a></p>
<h4 id="1-3-4-元空间与永久代"><a href="#1-3-4-元空间与永久代" class="headerlink" title="1.3.4 元空间与永久代"></a>1.3.4 元空间与永久代</h4><p>​    元空间不在虚拟机设置的内存中，而是使用本地内存，相对于虚拟机的内存，本地内存空间更大,元空间的大小仅受本地内存限制，更不容易出现OOM</p>
<h4 id="1-3-5-新生代与老年代"><a href="#1-3-5-新生代与老年代" class="headerlink" title="1.3.5 新生代与老年代"></a>1.3.5 <a href="https://www.cnblogs.com/shamo89/p/9775122.html">新生代与老年代</a></h4><blockquote>
<p>新生代存放新生的对象或者年龄不大的对象，老年代则存放老年对象。</p>
</blockquote>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211214110956494.png" alt="image-20211214110956494"></p>
<ol>
<li><p>新生代分为edn区，s0区，s1区</p>
<p>s0和s1也被称为from和to区域，他们是两块大小相等，并且可以互相转换的空间。</p>
</li>
<li><p>绝大多数情况下，对象首先分配在edn区，在新生代回收后，如果对象还存活，则进入s0或s1区，之后每经过一次新生代回收，如果对象存活则他的年龄就加1，对象达到一定的年龄后，则进入老年代。</p>
</li>
</ol>
<p>举例：A a=new A()；首先把对象存放到堆内存当中，发现这个A只用了一次，首先会进入新生代里边去，存放到edn区域里面，因为Java堆自动化管理，垃圾收集机制，发现这个a只用了一次，如果a又被一段代码引用，垃圾回收机制有算法，每引用一次记录一次，就会马上进入到s0或者是s1区域，一旦a这个对象引用次数非常多了，就会存放到老年代里去。</p>
<h3 id="1-4-本地方法栈"><a href="#1-4-本地方法栈" class="headerlink" title="1.4 本地方法栈"></a>1.4 本地方法栈</h3><p>和java栈的作用差不多，只不过是为JVM使用到的native方法服务的。</p>
<p>Java官方对于本地方法的定义为methods written in a language other than the Java programming language，就是使用非Java语言实现的方法，但是通常我们指的一般为C或者C++，因此这个栈也有着C栈这一称号。一个不支持本地方法执行的JVM没有必要实现这个数据区域。本地方法栈基本和JVM栈一样，其大小也是可以设置为固定值或者动态增加，因此也会对应抛出StackOverflowError和OutOfMemoryError错误。 </p>
<p>在HotSopt虚拟机中直接就把本地方法栈和Java栈合二为一。</p>
<h3 id="1-5-程序计数器"><a href="#1-5-程序计数器" class="headerlink" title="1.5 程序计数器"></a>1.5 程序计数器</h3><blockquote>
<p>用于保存下一条指令的内存地址。</p>
</blockquote>
<p>​    由于JVM程序是多线程执行的（线程轮流切换），所以为了保证线程切换回来后，还能恢复到原先状态，就需要一个独立的计数器，记录之前中断的地方，可见程序计数器也是线程私有的。</p>
<p><strong>注意这个区域是唯一一个不抛出OutOfMemoryError的运行时数据区。</strong></p>
<h2 id="二、Java内存模型"><a href="#二、Java内存模型" class="headerlink" title="二、Java内存模型"></a>二、Java内存模型</h2><blockquote>
<p>JMM，只是一个抽象的概念，是和多线程相关的，他描述了一组规则或规范，这个规范定义了一个线程对共享变量的写入时对另一个线程是可见的。</p>
</blockquote>
<p>Java堆和方法区的区域是多个线程共享的数据区域，多个线程可能可以操作保存在堆或者方法区中的同一个数据。这也就是我们常说的“Java的线程间通过共享内存进行通信”。<br>在通信过程中会存在一系列如可见性、原子性、顺序性等问题，而JMM就是围绕着多线程通信以及与其相关的一系列特性而建立的模型，JMM定义了一些语法集，这些语法集映射到Java语言中就是volatile、synchronized等关键字。</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211214040257190.png" alt="image-20211214040257190"></p>
<h2 id="三、Java对象模型"><a href="#三、Java对象模型" class="headerlink" title="三、Java对象模型"></a>三、Java对象模型</h2><ol>
<li>每一个Java类在被JVM加载的时候，JVM会给这个类创建一个<code>instanceKlass</code>，保存在方法区</li>
<li>new一个对象的时候，JVM会创建一个<code>instanceOopDesc</code>对象，这个对象中包含了对象头以及实例数据。报保存在堆内</li>
</ol>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211214040801845.png" alt="image-20211214040801845"></p>
<p><a href="https://www.hollischuang.com/archives/2509">图片来源</a></p>
<h2 id="四、疑惑"><a href="#四、疑惑" class="headerlink" title="四、疑惑"></a>四、疑惑</h2><h3 id="4-1-为什么分栈、堆、方法区的区别"><a href="#4-1-为什么分栈、堆、方法区的区别" class="headerlink" title="4.1 为什么分栈、堆、方法区的区别"></a>4.1 <a href="https://blog.csdn.net/JustKian/article/details/104559654?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~aggregatepage~first_rank_ecpm_v1~rank_v31_ecpm-1-104559654.pc_agg_new_rank&utm_term=jvm%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%94%A8%E6%A0%88&spm=1000.2123.3001.4430">为什么分栈、堆、方法区的区别</a></h3><blockquote>
<p>堆，栈，方法区等都有自己特有的内存管理方式，都有自己合适存储的内容，方便jvm去调用和进行内存管理</p>
</blockquote>
<p>​    人们发现 变量主要是两种形式</p>
<ul>
<li><p>一种内容短小（比如一个int整数），需要频繁访问，但是生命周期很短，通常只在一个方法内存活</p>
</li>
<li><p>而另一种内容可能很多（比如很长一个字符串），可能不需要太频繁的访问，但生命周期较长，通常很多个方法中可能都要用到</p>
<p>那么自然将这两类变量分开就显得比较理性，一类存储在栈区，通常是局部变量、操作符栈、函数参数传递和返回值，另一类存储在堆区，通常是较大的结构体（或者OOP中的对象）、需要反复访问的全局变量。堆区就是各种慢，申请内存慢，访问慢，修改慢，释放慢，整理慢（或者说GC垃圾回收），但优点也不言而喻，访问随机灵活，空间超大，在不超可用内存的情况下你要多大就给多大</p>
</li>
</ul>
<h3 id="4-2-栈内存"><a href="#4-2-栈内存" class="headerlink" title="4.2 栈内存"></a>4.2 栈内存</h3><blockquote>
<p>栈内存实际上就是满足先进后出的性质的数学或数据结构。</p>
</blockquote>
<h4 id="4-2-1-存储内容"><a href="#4-2-1-存储内容" class="headerlink" title="4.2.1 存储内容"></a>4.2.1 存储内容</h4><p>​    栈内存在函数中定义的一些基本类型的变量和对象的引用变量都在函数的栈内存中分配。当在一段代码块定义一个变量时，Java就在栈中为这个变量分配内存空间，当超过变量的作用域后，Java会自动释放掉为该变量所分配的内存空间，该内存空间可以立即被另作他用。栈中主要存放一些基本类型的变量（,int, short, long, byte, float, double, boolean, char）和对象句柄。栈有一个很重要的特殊性，就是存在栈中的数据可以共享。</p>
<h4 id="4-2-2-特点"><a href="#4-2-2-特点" class="headerlink" title="4.2.2 特点"></a>4.2.2 特点</h4><ul>
<li><p>优点</p>
<p>存取速度比堆要快，仅次于寄存器，栈数据可以共享。</p>
</li>
<li><p>缺点</p>
<p>存在栈中的数据大小与生存期必须是确定的，缺乏灵活性。</p>
</li>
</ul>
<h3 id="4-3-堆内存"><a href="#4-3-堆内存" class="headerlink" title="4.3 堆内存"></a>4.3 堆内存</h3><blockquote>
<p>内存实际上指的就是（满足堆内存性质的）<a href="https://baike.baidu.com/item/%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97">优先队列</a>的一种数据结构</p>
</blockquote>
<h4 id="4-3-1-存储内容"><a href="#4-3-1-存储内容" class="headerlink" title="4.3.1 存储内容"></a>4.3.1 存储内容</h4><h4 id="4-3-2-特点"><a href="#4-3-2-特点" class="headerlink" title="4.3.2 特点"></a>4.3.2 特点</h4><p>允许程序在运行时动态地申请某个大小的内存空间</p>
<p>​    使用堆内存就象是自己动手做喜欢吃的菜肴，比较麻烦，但是比较符合自己的口味，而且自由度大。使用栈内存就象我们去饭馆里吃饭，只管点菜（发出申请）、付钱和吃（使用），吃饱了就走，不必理会切菜、洗菜等准备工作和洗碗、刷锅等扫尾工作，他的好处是快捷，但是自由度小。<a href="https://baike.baidu.com/item/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/192">操作系统</a>中所说的堆内存和栈内存，在操作上有上述</p>
<h2 id="五、JVM内存"><a href="#五、JVM内存" class="headerlink" title="五、JVM内存"></a>五、JVM内存</h2><h3 id="5-1-变量"><a href="#5-1-变量" class="headerlink" title="5.1 变量"></a>5.1 变量</h3><p>java有三种变量</p>
<ul>
<li>类变量–static—方法区</li>
<li>成员变量–private int age– 堆内存</li>
<li>局部变量—栈</li>
</ul>
<h3 id="5-2-运行时常量池"><a href="#5-2-运行时常量池" class="headerlink" title="5.2 运行时常量池"></a>5.2 运行时常量池</h3><ol>
<li><p>二进制字节码：</p>
<ol>
<li><p>类基本信息：修改实践，版本，创建时间，父类，访问权限</p>
</li>
<li><p>常量池(常量表)</p>
<blockquote>
<p>方法，Class，Field，f</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">#<span class="number">1</span> = Methodref #<span class="number">6.</span>#<span class="number">20</span></span><br><span class="line">#<span class="number">2</span> = Fieldref #<span class="number">3.</span>#<span class="number">4</span> <span class="comment">//java.lang.System.out</span></span><br><span class="line">#<span class="number">3</span> = Class #<span class="number">28</span> <span class="comment">//java.lang.System</span></span><br><span class="line">#<span class="number">4</span> = Utf8 out</span><br></pre></td></tr></table></figure></li>
<li><p><strong>类方法信息</strong></p>
<ol>
<li>方法信息：描述-&gt;返回值.参数.地址</li>
<li>虚拟机指令</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="5-3-StringTable"><a href="#5-3-StringTable" class="headerlink" title="5.3 StringTable"></a>5.3 StringTable</h3><blockquote>
<p>属于运行时常量池，存的时<code>符号</code>，而不是String对象。</p>
<p>字符串常量池：StringTable(HashTable[String,Index])</p>
</blockquote>
<h4 id="5-3-0注意"><a href="#5-3-0注意" class="headerlink" title="5.3.0注意"></a>5.3.0注意</h4><ol>
<li>jdk1.7开始，ST被放在堆中</li>
</ol>
<h4 id="5-3-1-字符串拼接"><a href="#5-3-1-字符串拼接" class="headerlink" title="5.3.1 字符串拼接"></a>5.3.1 字符串拼接</h4><p>单一原则：”a”+”b”—&gt;字符串对象”ab”—&gt;存到StringTable(如果ST已经有了,那么会直接用)</p>
<ul>
<li><p>常量拼接</p>
<p>“ab”==”a”+”b”  常量字符串拼接的javac优化，”a”与”b”都不会变了，javac直接判为”ab”</p>
</li>
<li><p>变量拼接</p>
<p>“ab”!=a+b  因为后者通过StringBuffer的  toString():return new String()</p>
</li>
</ul>
<h4 id="5-3-2-intern"><a href="#5-3-2-intern" class="headerlink" title="5.3.2 intern"></a>5.3.2 intern</h4><blockquote>
<p>将String变量ab的符号放入ST中,但不会改变ab的地址</p>
</blockquote>
<ul>
<li>如果ST中已有，那么就返回这个地址，ab地址不变，即ab!=”ab”</li>
<li>如果ST中没有，那么就把ab的地址直接放入ST中，以后就会有ab==”ab”</li>
</ul>
<ol>
<li><p>new的String在堆中，不在StringTable中</p>
<p>比如String s=new String(“ab”) 那么StringTable中没有”ab”</p>
</li>
<li><p>将s放入ST的方法时intern</p>
<p>String s2=s.intern()</p>
</li>
</ol>
<h4 id="5-3-3-StringTable调优"><a href="#5-3-3-StringTable调优" class="headerlink" title="5.3.3 StringTable调优"></a>5.3.3 StringTable调优</h4><ol>
<li>会存在垃圾回收</li>
<li>建议常用intern()</li>
</ol>
<h4 id="5-4-直接内存"><a href="#5-4-直接内存" class="headerlink" title="5.4 直接内存"></a>5.4 直接内存</h4><ol>
<li>常用于NIO操作(属于操作系统内存，而非JVM内存)</li>
<li>分配回收消耗大</li>
<li>读写性能高</li>
<li>不受JVM内存管理</li>
</ol>
]]></content>
      <categories>
        <category>java</category>
        <category>JVM</category>
      </categories>
  </entry>
  <entry>
    <title>JVM内存模型</title>
    <url>/2022/03/12/java/java%E9%AB%98%E7%BA%A7/jvm/Java%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、JVM内存结构"><a href="#一、JVM内存结构" class="headerlink" title="一、JVM内存结构"></a>一、JVM内存结构</h2><p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211214035039329.png" alt="image-20211214035039329"></p>
<blockquote>
<p>包括：栈、堆、程序计数器、本地方法栈、方法区</p>
</blockquote>
<h3 id="1-1-JVM栈"><a href="#1-1-JVM栈" class="headerlink" title="1.1 JVM栈 "></a>1.1 <a href="https://blog.csdn.net/heart_mine/article/details/79495032">JVM栈 </a></h3><blockquote>
<p>每个线程对应一个栈</p>
<p>栈：方法栈</p>
<p>栈帧：某个方法所需的内存 ：参数，局部变量，返回值(返回地址)</p>
</blockquote>
<blockquote>
<p>默认1024KB，影响递归的深度</p>
</blockquote>
<ul>
<li>每深入一个方法，以栈帧为单位的压栈或者出栈</li>
<li>每退出一个方法，退栈</li>
</ul>
<h4 id="1-1-1-存储内容"><a href="#1-1-1-存储内容" class="headerlink" title="1.1.1 存储内容"></a>1.1.1 存储内容</h4><p>​    栈中只保存基础数据类型的对象和自定义对象的引用(不是整个对象)，对象都存放在堆区中 每个栈中的数据(原始类型和对象引用)都是私有的，其他栈不能访问。</p>
<p>​     栈分为3个部分：基本类型变量区、执行环境上下文、操作指令区(存放操作指令)。</p>
<h4 id="1-1-2-特殊"><a href="#1-1-2-特殊" class="headerlink" title="1.1.2 特殊"></a>1.1.2 特殊</h4><ol>
<li><p>Java方法本身没有线程安不安全，全都依赖它的变量的作用范围</p>
</li>
<li><p>synchronized修饰方法，意思是锁住调用者</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">changeStudent</span><span class="params">(Student s)</span></span>&#123;</span><br><span class="line">	s.setName(<span class="string">&quot;小明&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>当普通方法</p>
</li>
</ol>
<h3 id="1-2-堆内存"><a href="#1-2-堆内存" class="headerlink" title="1.2 堆内存"></a>1.2 堆内存</h3><h4 id="1-2-1-存储内容"><a href="#1-2-1-存储内容" class="headerlink" title="1.2.1 存储内容"></a>1.2.1 存储内容</h4><ol>
<li><p>全部是对象，每个对象包含一个与之对应的class信息–class的目的是得到操作指令。</p>
</li>
<li><p>JDK7之后存储静态变量、字符常量池，JDK7之前存在方法区</p>
</li>
</ol>
<h4 id="1-2-2-堆内存特点"><a href="#1-2-2-堆内存特点" class="headerlink" title="1.2.2 堆内存特点"></a>1.2.2 堆内存特点</h4><p>jvm只有一个堆区（heap）被所有线程共享，堆区中不存放基本类型和对象引用，只存放对象本身。  </p>
<ul>
<li>堆的优势是可以动态地分配内存大小，生存期也不必事先告诉编译器，因为它是在运行时动态分配内存的，Java的垃圾收集器会自动收走这些不再使用的数据。 </li>
<li>缺点是，由于要在运行时动态分配内存，存取速度较慢。</li>
</ul>
<p><a href="https://www.cnblogs.com/shamo89/p/9775122.html">Java堆完全是自动化管理</a>，通过垃圾收集机制，垃圾对象会自动清理，不需自己去释放</p>
<p>Java堆分为新生代(Young Gen)和老年代(Tenured Gen)</p>
<h3 id="1-3-方法区"><a href="#1-3-方法区" class="headerlink" title="1.3 方法区"></a>1.3 方法区</h3><blockquote>
<p>方法区看作是一块独立于Java堆的内存空间，属于共享内存</p>
</blockquote>
<h4 id="1-3-1-存储内容"><a href="#1-3-1-存储内容" class="headerlink" title="1.3.1 存储内容"></a>1.3.1 存储内容</h4><ol>
<li>类头信息<ol>
<li>名称</li>
<li>父类</li>
<li>修饰符</li>
<li>接口</li>
</ol>
</li>
<li>类域信息：字段信息</li>
<li>类方法信息<ol>
<li>名称</li>
<li>参数数量、类型</li>
<li>修饰符</li>
<li>方法字节码(操作+局部变量)</li>
<li>异常表</li>
</ol>
</li>
<li>运行时常量，它是每一个类或接口的常量池的运行时表示形式，在类和接口被加载到JVM后，对应的运行时常量池就被创建出来。在运行期间也可将新的常量放入运行时常量池中，比如String的intern方法。虽然JVM规范把方法区描述为堆的一个逻辑部分， 但它却有个别名non-heap（非堆）。<strong>方法区的大小决定了系统可以加载多少个类</strong>， 如果系统定义的类太多，可能会产生OOM</li>
</ol>
<h4 id="1-3-2-常量池"><a href="#1-3-2-常量池" class="headerlink" title="1.3.2 常量池"></a>1.3.2 常量池</h4><p> 运行时常量池与常量池的区别</p>
<ol>
<li>存放内容：存放编译期间生成的<ol>
<li>各种字面量（字符串和final常量）</li>
<li>字段表、方法表、属性表</li>
<li>符号引用（类和接口的全限定名、字段的名称和描述符、方法句柄和方法类型、方法的名称和描述符 ）</li>
</ol>
</li>
<li>区别<ul>
<li>常量池：存放在.class文件中</li>
<li>运行时常量池：内存中</li>
</ul>
</li>
<li>运行时常量池是常量池表在运行时的表现形式，通过ClassLoader将字节码文件的常量池中的信息加载到内存中，存储在了方法区的运行时常量池中。</li>
</ol>
<h4 id="1-3-3-方法区的演进"><a href="#1-3-3-方法区的演进" class="headerlink" title="1.3.3 方法区的演进"></a>1.3.3 方法区的演进</h4><p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211214042049855.png" alt="image-20211214042049855"></p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211214042305858.png" alt="image-20211214042305858"></p>
<p><a href="https://blog.csdn.net/weixin_43232955/article/details/107411378">图片来源</a></p>
<h4 id="1-3-4-元空间与永久代"><a href="#1-3-4-元空间与永久代" class="headerlink" title="1.3.4 元空间与永久代"></a>1.3.4 元空间与永久代</h4><p>​    元空间不在虚拟机设置的内存中，而是使用本地内存，相对于虚拟机的内存，本地内存空间更大,元空间的大小仅受本地内存限制，更不容易出现OOM</p>
<h4 id="1-3-5-新生代与老年代"><a href="#1-3-5-新生代与老年代" class="headerlink" title="1.3.5 新生代与老年代"></a>1.3.5 <a href="https://www.cnblogs.com/shamo89/p/9775122.html">新生代与老年代</a></h4><blockquote>
<p>新生代存放新生的对象或者年龄不大的对象，老年代则存放老年对象。</p>
</blockquote>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211214110956494.png" alt="image-20211214110956494"></p>
<ol>
<li><p>新生代分为edn区，s0区，s1区</p>
<p>s0和s1也被称为from和to区域，他们是两块大小相等，并且可以互相转换的空间。</p>
</li>
<li><p>绝大多数情况下，对象首先分配在edn区，在新生代回收后，如果对象还存活，则进入s0或s1区，之后每经过一次新生代回收，如果对象存活则他的年龄就加1，对象达到一定的年龄后，则进入老年代。</p>
</li>
</ol>
<p>举例：A a=new A()；首先把对象存放到堆内存当中，发现这个A只用了一次，首先会进入新生代里边去，存放到edn区域里面，因为Java堆自动化管理，垃圾收集机制，发现这个a只用了一次，如果a又被一段代码引用，垃圾回收机制有算法，每引用一次记录一次，就会马上进入到s0或者是s1区域，一旦a这个对象引用次数非常多了，就会存放到老年代里去。</p>
<h3 id="1-4-本地方法栈"><a href="#1-4-本地方法栈" class="headerlink" title="1.4 本地方法栈"></a>1.4 本地方法栈</h3><p>和java栈的作用差不多，只不过是为JVM使用到的native方法服务的。</p>
<p>Java官方对于本地方法的定义为methods written in a language other than the Java programming language，就是使用非Java语言实现的方法，但是通常我们指的一般为C或者C++，因此这个栈也有着C栈这一称号。一个不支持本地方法执行的JVM没有必要实现这个数据区域。本地方法栈基本和JVM栈一样，其大小也是可以设置为固定值或者动态增加，因此也会对应抛出StackOverflowError和OutOfMemoryError错误。 </p>
<p>在HotSopt虚拟机中直接就把本地方法栈和Java栈合二为一。</p>
<h3 id="1-5-程序计数器"><a href="#1-5-程序计数器" class="headerlink" title="1.5 程序计数器"></a>1.5 程序计数器</h3><blockquote>
<p>用于保存下一条指令的内存地址。</p>
</blockquote>
<p>​    由于JVM程序是多线程执行的（线程轮流切换），所以为了保证线程切换回来后，还能恢复到原先状态，就需要一个独立的计数器，记录之前中断的地方，可见程序计数器也是线程私有的。</p>
<p><strong>注意这个区域是唯一一个不抛出OutOfMemoryError的运行时数据区。</strong></p>
<h2 id="二、Java内存模型"><a href="#二、Java内存模型" class="headerlink" title="二、Java内存模型"></a>二、Java内存模型</h2><blockquote>
<p>JMM，只是一个抽象的概念，是和多线程相关的，他描述了一组规则或规范，这个规范定义了一个线程对共享变量的写入时对另一个线程是可见的。</p>
</blockquote>
<p>Java堆和方法区的区域是多个线程共享的数据区域，多个线程可能可以操作保存在堆或者方法区中的同一个数据。这也就是我们常说的“Java的线程间通过共享内存进行通信”。<br>在通信过程中会存在一系列如可见性、原子性、顺序性等问题，而JMM就是围绕着多线程通信以及与其相关的一系列特性而建立的模型，JMM定义了一些语法集，这些语法集映射到Java语言中就是volatile、synchronized等关键字。</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211214040257190.png" alt="image-20211214040257190"></p>
<h2 id="三、Java对象模型"><a href="#三、Java对象模型" class="headerlink" title="三、Java对象模型"></a>三、Java对象模型</h2><ol>
<li>每一个Java类在被JVM加载的时候，JVM会给这个类创建一个<code>instanceKlass</code>，保存在方法区</li>
<li>new一个对象的时候，JVM会创建一个<code>instanceOopDesc</code>对象，这个对象中包含了对象头以及实例数据。报保存在堆内</li>
</ol>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211214040801845.png" alt="image-20211214040801845"></p>
<p><a href="https://www.hollischuang.com/archives/2509">图片来源</a></p>
<h2 id="四、疑惑"><a href="#四、疑惑" class="headerlink" title="四、疑惑"></a>四、疑惑</h2><h3 id="4-1-为什么分栈、堆、方法区的区别"><a href="#4-1-为什么分栈、堆、方法区的区别" class="headerlink" title="4.1 为什么分栈、堆、方法区的区别"></a>4.1 <a href="https://blog.csdn.net/JustKian/article/details/104559654?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~aggregatepage~first_rank_ecpm_v1~rank_v31_ecpm-1-104559654.pc_agg_new_rank&utm_term=jvm%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%94%A8%E6%A0%88&spm=1000.2123.3001.4430">为什么分栈、堆、方法区的区别</a></h3><blockquote>
<p>堆，栈，方法区等都有自己特有的内存管理方式，都有自己合适存储的内容，方便jvm去调用和进行内存管理</p>
</blockquote>
<p>​    人们发现 变量主要是两种形式</p>
<ul>
<li><p>一种内容短小（比如一个int整数），需要频繁访问，但是生命周期很短，通常只在一个方法内存活</p>
</li>
<li><p>而另一种内容可能很多（比如很长一个字符串），可能不需要太频繁的访问，但生命周期较长，通常很多个方法中可能都要用到</p>
<p>那么自然将这两类变量分开就显得比较理性，一类存储在栈区，通常是局部变量、操作符栈、函数参数传递和返回值，另一类存储在堆区，通常是较大的结构体（或者OOP中的对象）、需要反复访问的全局变量。堆区就是各种慢，申请内存慢，访问慢，修改慢，释放慢，整理慢（或者说GC垃圾回收），但优点也不言而喻，访问随机灵活，空间超大，在不超可用内存的情况下你要多大就给多大</p>
</li>
</ul>
<h3 id="4-2-栈内存"><a href="#4-2-栈内存" class="headerlink" title="4.2 栈内存"></a>4.2 栈内存</h3><blockquote>
<p>栈内存实际上就是满足先进后出的性质的数学或数据结构。</p>
</blockquote>
<h4 id="4-2-1-存储内容"><a href="#4-2-1-存储内容" class="headerlink" title="4.2.1 存储内容"></a>4.2.1 存储内容</h4><p>​    栈内存在函数中定义的一些基本类型的变量和对象的引用变量都在函数的栈内存中分配。当在一段代码块定义一个变量时，Java就在栈中为这个变量分配内存空间，当超过变量的作用域后，Java会自动释放掉为该变量所分配的内存空间，该内存空间可以立即被另作他用。栈中主要存放一些基本类型的变量（,int, short, long, byte, float, double, boolean, char）和对象句柄。栈有一个很重要的特殊性，就是存在栈中的数据可以共享。</p>
<h4 id="4-2-2-特点"><a href="#4-2-2-特点" class="headerlink" title="4.2.2 特点"></a>4.2.2 特点</h4><ul>
<li><p>优点</p>
<p>存取速度比堆要快，仅次于寄存器，栈数据可以共享。</p>
</li>
<li><p>缺点</p>
<p>存在栈中的数据大小与生存期必须是确定的，缺乏灵活性。</p>
</li>
</ul>
<h3 id="4-3-堆内存"><a href="#4-3-堆内存" class="headerlink" title="4.3 堆内存"></a>4.3 堆内存</h3><blockquote>
<p>内存实际上指的就是（满足堆内存性质的）<a href="https://baike.baidu.com/item/%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97">优先队列</a>的一种数据结构</p>
</blockquote>
<h4 id="4-3-1-存储内容"><a href="#4-3-1-存储内容" class="headerlink" title="4.3.1 存储内容"></a>4.3.1 存储内容</h4><h4 id="4-3-2-特点"><a href="#4-3-2-特点" class="headerlink" title="4.3.2 特点"></a>4.3.2 特点</h4><p>允许程序在运行时动态地申请某个大小的内存空间</p>
<p>​    使用堆内存就象是自己动手做喜欢吃的菜肴，比较麻烦，但是比较符合自己的口味，而且自由度大。使用栈内存就象我们去饭馆里吃饭，只管点菜（发出申请）、付钱和吃（使用），吃饱了就走，不必理会切菜、洗菜等准备工作和洗碗、刷锅等扫尾工作，他的好处是快捷，但是自由度小。<a href="https://baike.baidu.com/item/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/192">操作系统</a>中所说的堆内存和栈内存，在操作上有上述</p>
<h2 id="五、JVM内存"><a href="#五、JVM内存" class="headerlink" title="五、JVM内存"></a>五、JVM内存</h2><h3 id="5-1-变量"><a href="#5-1-变量" class="headerlink" title="5.1 变量"></a>5.1 变量</h3><p>java有三种变量</p>
<ul>
<li>类变量–static—方法区</li>
<li>成员变量–private int age– 堆内存</li>
<li>局部变量—栈</li>
</ul>
<h3 id="5-2-运行时常量池"><a href="#5-2-运行时常量池" class="headerlink" title="5.2 运行时常量池"></a>5.2 运行时常量池</h3><ol>
<li><p>二进制字节码：</p>
<ol>
<li><p>类基本信息：修改实践，版本，创建时间，父类，访问权限</p>
</li>
<li><p>常量池(常量表)</p>
<blockquote>
<p>方法，Class，Field，f</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">#<span class="number">1</span> = Methodref #<span class="number">6.</span>#<span class="number">20</span></span><br><span class="line">#<span class="number">2</span> = Fieldref #<span class="number">3.</span>#<span class="number">4</span> <span class="comment">//java.lang.System.out</span></span><br><span class="line">#<span class="number">3</span> = Class #<span class="number">28</span> <span class="comment">//java.lang.System</span></span><br><span class="line">#<span class="number">4</span> = Utf8 out</span><br></pre></td></tr></table></figure></li>
<li><p><strong>类方法信息</strong></p>
<ol>
<li>方法信息：描述-&gt;返回值.参数.地址</li>
<li>虚拟机指令</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="5-3-StringTable"><a href="#5-3-StringTable" class="headerlink" title="5.3 StringTable"></a>5.3 StringTable</h3><blockquote>
<p>属于运行时常量池，存的时<code>符号</code>，而不是String对象。</p>
<p>字符串常量池：StringTable(HashTable[String,Index])</p>
</blockquote>
<h4 id="5-3-0注意"><a href="#5-3-0注意" class="headerlink" title="5.3.0注意"></a>5.3.0注意</h4><ol>
<li>jdk1.7开始，ST被放在堆中</li>
</ol>
<h4 id="5-3-1-字符串拼接"><a href="#5-3-1-字符串拼接" class="headerlink" title="5.3.1 字符串拼接"></a>5.3.1 字符串拼接</h4><p>单一原则：”a”+”b”—&gt;字符串对象”ab”—&gt;存到StringTable(如果ST已经有了,那么会直接用)</p>
<ul>
<li><p>常量拼接</p>
<p>“ab”==”a”+”b”  常量字符串拼接的javac优化，”a”与”b”都不会变了，javac直接判为”ab”</p>
</li>
<li><p>变量拼接</p>
<p>“ab”!=a+b  因为后者通过StringBuffer的  toString():return new String()</p>
</li>
</ul>
<h4 id="5-3-2-intern"><a href="#5-3-2-intern" class="headerlink" title="5.3.2 intern"></a>5.3.2 intern</h4><blockquote>
<p>将String变量ab的符号放入ST中,但不会改变ab的地址</p>
</blockquote>
<ul>
<li>如果ST中已有，那么就返回这个地址，ab地址不变，即ab!=”ab”</li>
<li>如果ST中没有，那么就把ab的地址直接放入ST中，以后就会有ab==”ab”</li>
</ul>
<ol>
<li><p>new的String在堆中，不在StringTable中</p>
<p>比如String s=new String(“ab”) 那么StringTable中没有”ab”</p>
</li>
<li><p>将s放入ST的方法时intern</p>
<p>String s2=s.intern()</p>
</li>
</ol>
<h4 id="5-3-3-StringTable调优"><a href="#5-3-3-StringTable调优" class="headerlink" title="5.3.3 StringTable调优"></a>5.3.3 StringTable调优</h4><ol>
<li>会存在垃圾回收</li>
<li>建议常用intern()</li>
</ol>
<h4 id="5-4-直接内存"><a href="#5-4-直接内存" class="headerlink" title="5.4 直接内存"></a>5.4 直接内存</h4><ol>
<li>常用于NIO操作(属于操作系统内存，而非JVM内存)</li>
<li>分配回收消耗大</li>
<li>读写性能高</li>
<li>不受JVM内存管理</li>
</ol>
]]></content>
      <categories>
        <category>java</category>
        <category>JVM</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/12/java/java%E9%AB%98%E7%BA%A7/jvm/jvm%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%842/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、JDK"><a href="#一、JDK" class="headerlink" title="一、JDK"></a>一、JDK</h2><h3 id="1-1-JVM"><a href="#1-1-JVM" class="headerlink" title="1.1 JVM"></a>1.1 JVM</h3><ol>
<li>jvm是可以执行jvm字节码的引擎、计算机</li>
<li>jvm包含 堆栈，寄存器，指令系统</li>
<li>不同的平台对应不同的jvm，这保证了java字节码的平台无关性</li>
<li>JVM结构<ol>
<li>类加载系统</li>
<li>运行时数据区</li>
<li>执行引擎</li>
</ol>
</li>
<li>JVM执行过程<ol>
<li>加载class</li>
<li>管理分配内存</li>
<li>垃圾回收</li>
</ol>
</li>
</ol>
<h3 id="1-2-JRE和JDK"><a href="#1-2-JRE和JDK" class="headerlink" title="1.2 JRE和JDK"></a>1.2 JRE和JDK</h3><ol>
<li>JRE是java运行时环境<ul>
<li>bin (jvm实现)</li>
<li>lib (核心jar包)</li>
</ul>
</li>
<li>JDK是<ul>
<li>JRE</li>
<li>Java工具</li>
<li>Java基础类库</li>
<li>源码</li>
</ul>
</li>
</ol>
<h3 id="1-3-执行引擎"><a href="#1-3-执行引擎" class="headerlink" title="1.3 执行引擎"></a>1.3 执行引擎</h3><h4 id="1-3-1-JIT编译器"><a href="#1-3-1-JIT编译器" class="headerlink" title="1.3.1 JIT编译器"></a>1.3.1 JIT编译器</h4><blockquote>
<p>Java即时编译器(动态编译器)，将java字节码转换成指令</p>
</blockquote>
<h4 id="1-3-2-解释器"><a href="#1-3-2-解释器" class="headerlink" title="1.3.2 解释器"></a>1.3.2 解释器</h4><h4 id="1-3-3-垃圾回收器"><a href="#1-3-3-垃圾回收器" class="headerlink" title="1.3.3 垃圾回收器"></a>1.3.3 垃圾回收器</h4><h2 id="二、JVM内存结构"><a href="#二、JVM内存结构" class="headerlink" title="二、JVM内存结构"></a>二、JVM内存结构</h2><h4 id="pc寄存器"><a href="#pc寄存器" class="headerlink" title="pc寄存器"></a>pc寄存器</h4><p>存储每个线程下一步执行的JVM指令</p>
<h4 id="JVM栈"><a href="#JVM栈" class="headerlink" title="JVM栈"></a>JVM栈</h4><blockquote>
<p>线程私有</p>
</blockquote>
<p>存放八大基本数据结构，如果为对象，则存放指向堆的一个引用地址</p>
<h4 id="堆"><a href="#堆" class="headerlink" title="堆"></a>堆</h4><blockquote>
<p>线程共享</p>
</blockquote>
<p>存放对象</p>
<p>1.7开始把字符串常量池和静态变量移进堆中</p>
<h4 id="元空间"><a href="#元空间" class="headerlink" title="元空间"></a>元空间</h4><blockquote>
<p>全局共享，</p>
<p>名称变化 1.7永久代  –&gt; 1.8元空间</p>
<p>​                JVM内存   –&gt;  本地内存</p>
<p>​                </p>
</blockquote>
<ol>
<li><p>类信息</p>
<ol>
<li>类头信息</li>
<li>方法信息</li>
<li>字段信息</li>
</ol>
</li>
<li><p>final常量</p>
</li>
<li><p>动态生成类用以造成内存溢出</p>
</li>
</ol>
<h4 id="运行时常量池"><a href="#运行时常量池" class="headerlink" title="运行时常量池"></a>运行时常量池</h4><h4 id="本地方法栈"><a href="#本地方法栈" class="headerlink" title="本地方法栈"></a>本地方法栈</h4><blockquote>
<p>JVM用到的方法的栈</p>
</blockquote>
<h2 id="三、疑惑"><a href="#三、疑惑" class="headerlink" title="三、疑惑"></a>三、疑惑</h2><h3 id="方法区和元空间区别"><a href="#方法区和元空间区别" class="headerlink" title="方法区和元空间区别"></a>方法区和元空间区别</h3><p>方法区是一个概念，元空间是实现</p>
<h2 id="四、其他"><a href="#四、其他" class="headerlink" title="四、其他"></a>四、其他</h2><h3 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h3><h4 id="StackOverflaowError"><a href="#StackOverflaowError" class="headerlink" title="StackOverflaowError"></a>StackOverflaowError</h4><p>栈深度</p>
<h4 id="OutOfMemoyError"><a href="#OutOfMemoyError" class="headerlink" title="OutOfMemoyError"></a>OutOfMemoyError</h4><p>内存不够</p>
]]></content>
  </entry>
  <entry>
    <title>classLoader</title>
    <url>/2022/03/12/java/java%E9%AB%98%E7%BA%A7/jvm/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、类加载器"><a href="#一、类加载器" class="headerlink" title="一、类加载器"></a>一、类加载器</h2><h3 id="1-1-BootStrapClassLoader"><a href="#1-1-BootStrapClassLoader" class="headerlink" title="1.1 BootStrapClassLoader"></a>1.1 BootStrapClassLoader</h3><ol>
<li><p>这是一个c++写的类加载器，在java中显示为null</p>
</li>
<li><p>负责加载JRE_HOME下的lib目录和其他c++写的jar</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>rt.jar</td>
<td>运行环境包，rt即runtime，J2SE 的类定义都在这个包内</td>
</tr>
<tr>
<td>charsets.jar</td>
<td>字符集支持包</td>
</tr>
<tr>
<td>jce.jar</td>
<td>是一组包，它们提供用于加密、密钥生成和协商以及 Message Authentication Code（MAC）算法的框架和实现</td>
</tr>
<tr>
<td>jsse.jar</td>
<td>安全套接字拓展包Java(TM) Secure Socket Extension</td>
</tr>
<tr>
<td>classlist</td>
<td>该文件内表示是引导类加载器应该加载的类的清单</td>
</tr>
<tr>
<td>net.properties</td>
<td>JVM网络配置信息</td>
</tr>
</tbody></table>
</li>
</ol>
<h3 id="1-2-URLClassLoader"><a href="#1-2-URLClassLoader" class="headerlink" title="1.2 URLClassLoader"></a>1.2 URLClassLoader</h3><h2 id="二、类加载机制"><a href="#二、类加载机制" class="headerlink" title="二、类加载机制"></a>二、类加载机制</h2><h3 id="2-1-获得类加载器"><a href="#2-1-获得类加载器" class="headerlink" title="2.1 获得类加载器"></a>2.1 获得类加载器</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Thread.currentThread().getContextClassLoader();<span class="comment">//当前线程的，一般为appClassLoader</span></span><br><span class="line">Student.class.getClassLoader();<span class="comment">//appClassLoader</span></span><br><span class="line">appClassLoader.getParent();<span class="comment">//extClassLoader</span></span><br><span class="line">extClassLoader.getParent();<span class="comment">//null</span></span><br><span class="line">ClassLoader.getSystemClassLoader();<span class="comment">//appClassLoader</span></span><br></pre></td></tr></table></figure>

<h3 id="2-2-类加载的双亲委派"><a href="#2-2-类加载的双亲委派" class="headerlink" title="2.2 类加载的双亲委派"></a>2.2 类加载的双亲委派</h3><h4 id="2-2-1-步骤"><a href="#2-2-1-步骤" class="headerlink" title="2.2.1 步骤"></a>2.2.1 步骤</h4><ol>
<li>MyClassLoader要加载Student.class</li>
<li>委派给parent.parent.parent</li>
<li>parentClassLoader从缓存中找，没有，再去自己的Floder找还没有</li>
<li>委派给child</li>
</ol>
<h4 id="2-2-2-优点"><a href="#2-2-2-优点" class="headerlink" title="2.2.2 优点"></a>2.2.2 优点</h4><ol>
<li><p>能保证类的唯一性</p>
<p>但是这只是Java官方使用并建议的方式，用户自定义加载器可能会创建出多个名字相同的类，所以还需要判断他们的类加载器是否一样。</p>
</li>
</ol>
<h2 id="三、常见类"><a href="#三、常见类" class="headerlink" title="三、常见类"></a>三、常见类</h2><h3 id="3-1-Launcher"><a href="#3-1-Launcher" class="headerlink" title="3.1 Launcher"></a>3.1 Launcher</h3><blockquote>
<p>java入口类，由jvm创建，用来初始化Ext和AppClassLoader，放进主线程的ContextClassLoader中，也就是单例</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Launcher</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Launcher launcher = <span class="keyword">new</span> Launcher();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String bootClassPath =</span><br><span class="line">        System.getProperty(<span class="string">&quot;sun.boot.class.path&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Launcher <span class="title">getLauncher</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> launcher;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ClassLoader loader;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Launcher</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Create the extension class loader</span></span><br><span class="line">        ClassLoader extcl;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            extcl = ExtClassLoader.getExtClassLoader();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InternalError(</span><br><span class="line">                <span class="string">&quot;Could not create extension class loader&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Now create the class loader to use to launch the application</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            loader = AppClassLoader.getAppClassLoader(extcl);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InternalError(</span><br><span class="line">                <span class="string">&quot;Could not create application class loader&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置AppClassLoader为线程上下文类加载器，这个文章后面部分讲解</span></span><br><span class="line">        Thread.currentThread().setContextClassLoader(loader);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * Returns the class loader used to launch the main application.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ClassLoader <span class="title">getClassLoader</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> loader;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * The class loader used for loading installed extensions.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ExtClassLoader</span> <span class="keyword">extends</span> <span class="title">URLClassLoader</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The class loader used for loading from java.class.path.</span></span><br><span class="line"><span class="comment">     * runs in a restricted security context.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">AppClassLoader</span> <span class="keyword">extends</span> <span class="title">URLClassLoader</span> </span>&#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3-2-ClassLoader"><a href="#3-2-ClassLoader" class="headerlink" title="3.2 ClassLoader"></a>3.2 ClassLoader</h3><h4 id="loadClass"><a href="#loadClass" class="headerlink" title="loadClass"></a>loadClass</h4><p>此方法负责加载指定名字的类，ClassLoader的实现方法为先从已经加载的类中寻找，如没有则继续从parent ClassLoader中寻找，如仍然没找到，则从System ClassLoader中寻找，最后再调用findClass方法来寻找，如要改变类的加载顺序，则可覆盖此方法</p>
<h4 id="findLoadedClass"><a href="#findLoadedClass" class="headerlink" title="findLoadedClass"></a>findLoadedClass</h4><p>此方法负责从当前ClassLoader实例对象的缓存中寻找已加载的类，调用的为native的方法。</p>
<h4 id="findClass"><a href="#findClass" class="headerlink" title="findClass"></a>findClass</h4><p>此方法直接抛出ClassNotFoundException，因此需要通过覆盖loadClass或此方法来以自定义的方式加载相应的类。</p>
<h4 id="findSystemClass"><a href="#findSystemClass" class="headerlink" title="findSystemClass"></a>findSystemClass</h4><p>此方法负责从System ClassLoader中寻找类，如未找到，则继续从Bootstrap ClassLoader中寻找，如仍然未找到，则返回null。</p>
<h4 id="defineClass"><a href="#defineClass" class="headerlink" title="defineClass"></a>defineClass</h4><p>此方法负责将二进制的字节码转换为Class对象</p>
<h4 id="resolveClass"><a href="#resolveClass" class="headerlink" title="resolveClass"></a>resolveClass</h4><p>此方法负责完成Class对象的链接，如已链接过，则会直接返回。</p>
<h4 id="getSystemResources"><a href="#getSystemResources" class="headerlink" title="getSystemResources"></a>getSystemResources</h4><p>获得classpath路径下的资源路径</p>
<h4 id="getResources"><a href="#getResources" class="headerlink" title="getResources"></a>getResources</h4><p>获得该类下的资源路径</p>
<h2 id="四、其他"><a href="#四、其他" class="headerlink" title="四、其他"></a>四、其他</h2><h3 id="4-1"><a href="#4-1" class="headerlink" title="4.1"></a>4.1</h3><h3 id="类加载的异常"><a href="#类加载的异常" class="headerlink" title="类加载的异常"></a>类加载的异常</h3><h4 id="ClassNotFoundException"><a href="#ClassNotFoundException" class="headerlink" title="ClassNotFoundException"></a>ClassNotFoundException</h4><ul>
<li>Class.forName()</li>
<li>ClassLoader.getSystemClassLoader().loadClass()</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>类加载</title>
    <url>/2022/03/08/java/java%E9%AB%98%E7%BA%A7/jvm/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、生命周期"><a href="#一、生命周期" class="headerlink" title="一、生命周期"></a>一、生命周期</h2><blockquote>
<p>  JVM把class文件加载的内存，并对数据进行校验、转换解析和初始化，最终形成JVM可以直接使用的Java类型的过程就是加载机制。</p>
</blockquote>
<h3 id="1-1-加载-参考"><a href="#1-1-加载-参考" class="headerlink" title="1.1 加载-参考"></a>1.1 <a href="https://my.oschina.net/winHerson/blog/114180?p=%7B%7BtotalPage%7D%7D">加载-参考</a></h3><ol>
<li>通过一个类的权限定名从文件(.class、.jar、网络)中来获取定义此类的二进制字节流</li>
<li>将这个字节流所代表的静态存储结构转化为方法去的运行时数据结构</li>
<li>在java堆中生成一个代表这个类的java.lang.Class对象，作为方法去这些数据的访问入口。</li>
</ol>
<h3 id="1-2-连接"><a href="#1-2-连接" class="headerlink" title="1.2 连接"></a>1.2 连接</h3><h4 id="1-2-1-验证"><a href="#1-2-1-验证" class="headerlink" title="1.2.1 验证"></a>1.2.1 验证</h4><ol>
<li><p>文件格式验证</p>
<p>验证class文件格式规范，例如： class文件是否已魔术0xCAFEBABE开头 ， 主、次版本号是否在当前虚拟机处理范围之内等</p>
</li>
<li><p>元数据验证</p>
<p>这个阶段是对字节码描述的信息进行语义分析，以保证起描述的信息符合java语言规范要求。验证点可能包括：这个类是否有父类(除了java.lang.Object之外，所有的类都应当有父类)、这个类是否继承了不允许被继承的类(被final修饰的)、如果这个类的父类是抽象类，是否实现了起父类或接口中要求实现的所有方法。</p>
</li>
<li><p>字节码验证</p>
<p>进行数据流和控制流分析，这个阶段对类的方法体进行校验分析，这个阶段的任务是保证被校验类的方法在运行时不会做出危害虚拟机安全的行为.如：保证访法体中的类型转换有效，例如可以把一个子类对象赋值给父类数据类型，这是安全的，但不能把一个父类对象赋值给子类数据类型、保证跳转命令不会跳转到方法体以外的字节码命令上。</p>
</li>
<li><p>符号引用验证</p>
<p>符号引用中通过字符串描述的全限定名是否能找到对应的类、符号引用类中的类，字段和方法的访问性(private、protected、public、default)是否可被当前类访问。</p>
</li>
</ol>
<h4 id="1-2-1-准备"><a href="#1-2-1-准备" class="headerlink" title="1.2.1 准备"></a>1.2.1 准备</h4><blockquote>
<p>为类变量分配内存并设置变量初始值(零值)的阶段，这些内存都将在方法去中进行分配。</p>
</blockquote>
<ol>
<li><p>进行内存分配的仅包括类变量（被static修饰的变量），而不包括实例变量，实例变量将会在对象实例化时随着对象一起分配在java堆中</p>
</li>
<li><p>初始值是指数据类型为零值，主要是为了初始化内存，并不做逻辑代码</p>
<ul>
<li><p>public static int value = 123</p>
<p>那么变量value在准备阶段过后的值是0，而不是123，因为这时候尚未开始执行任何java方法。</p>
</li>
<li><p>public static final int value = 123</p>
<p>final修饰的字段，子啊准备阶段虚拟机就会根据赋值，value的值为123.</p>
</li>
</ul>
</li>
</ol>
<h4 id="1-2-3-解析"><a href="#1-2-3-解析" class="headerlink" title="1.2.3 解析"></a>1.2.3 解析</h4><blockquote>
<p> 虚拟机将常量池内的符号引用替换为直接引用的过程</p>
</blockquote>
<h5 id="1-2-3-1-符号、直接引用"><a href="#1-2-3-1-符号、直接引用" class="headerlink" title="1.2.3.1 符号、直接引用"></a>1.2.3.1 符号、直接引用</h5><ul>
<li>符号引用：描述所引用的目标对象的符号，可以是任何形式的字面量，只要使用时能无歧义地定位到目标即可。引用的目标对象并不一定已经加载到内存中。</li>
<li>直接引用：指向目标对象的指针、相对偏移量、一个能间接定位到目标的句柄。直接引用的目标必定已经在内存中存在。</li>
<li>例如 String a=”str”; 这个a在解析阶段之前就是符号引用，解析之后就是直接引用</li>
</ul>
<h5 id="1-2-3-2-解析内容"><a href="#1-2-3-2-解析内容" class="headerlink" title="1.2.3.2 解析内容"></a>1.2.3.2 解析内容</h5><ol>
<li><p>类或接口的解析</p>
</li>
<li><p>字段解析：解析出类的方法表的class_index项中索引的字段所属的类或接口的符号引用</p>
</li>
<li><p>类方法解析：首先解析出类的方法表的class_index项中索引的方法所属的类或接口的符号引用</p>
</li>
<li><p>接口方法解析：首先解析出类的方法表的class_index项中索引的方法所属的类或接口的符号引用。</p>
</li>
</ol>
<h3 id="1-3-初始化"><a href="#1-3-初始化" class="headerlink" title="1.3 初始化"></a>1.3 初始化</h3><blockquote>
<p>执行类中定义的java程序逻辑代码</p>
</blockquote>
<h4 id="1-3-1-触发条件"><a href="#1-3-1-触发条件" class="headerlink" title="1.3.1 触发条件"></a>1.3.1 触发条件</h4><p>以下四种情况触发执行类构造器clinit()方法</p>
<ol>
<li>new关键字实例化对象</li>
<li>访问一个类的静态字段(被final修饰、已在编译器把结果放入常量池的静态字段除外)</li>
<li>调用类的静态方法</li>
<li>使用java.lang.reflect包的方法对类进行反射调用的时候</li>
<li>jvm启动时，用户指定一个执行的主类(包含main方法的那个类)，虚拟机会先初始化这个类</li>
<li>当初始化一个类的时候，如果发现其父类还没有进行过初始化、则需要先出发其父类的初始化</li>
</ol>
<h3 id="1-4-使用"><a href="#1-4-使用" class="headerlink" title="1.4 使用"></a>1.4 使用</h3><h3 id="1-5-卸载"><a href="#1-5-卸载" class="headerlink" title="1.5 卸载"></a>1.5 卸载</h3><h2 id="二、其他"><a href="#二、其他" class="headerlink" title="二、其他"></a>二、其他</h2><h3 id="2-1-双亲委派机制"><a href="#2-1-双亲委派机制" class="headerlink" title="2.1 双亲委派机制"></a>2.1 双亲委派机制</h3><h3 id="2-2-实例化对象的方式"><a href="#2-2-实例化对象的方式" class="headerlink" title="2.2 实例化对象的方式"></a>2.2 实例化对象的方式</h3><ol>
<li>创建<ol>
<li>new</li>
<li>newInstance(要求有无参构造)</li>
<li>clone</li>
</ol>
</li>
<li>序列化<ol>
<li>加载文件</li>
<li>反序列化</li>
<li>网络请求</li>
</ol>
</li>
</ol>
<h3 id="2-3-newInstance与new"><a href="#2-3-newInstance与new" class="headerlink" title="2.3 newInstance与new"></a>2.3 <a href="https://www.cnblogs.com/zouxiangzhongyan/p/10722118.html">newInstance与new</a></h3><blockquote>
<p>spring中有很多的newInstance</p>
</blockquote>
<ol>
<li>newInstance要求<ol>
<li>这个类已经加载</li>
<li>这个类已经连接了</li>
<li>这两步可用Class.forname完成</li>
</ol>
</li>
<li>newInstance是通过反射创建对象的，在创建一个类的对象的时候，你可以对该类一无所知，一些开源框架比如Spring内部大都是通过反射来创建实例的，当然这种方法创建对象的时候必须拥有该类的句柄，甚至必要的时候还要有相关的权限设置（比如无参构造函数是私有的），而句柄是可以动态载入的，实际上JVM内部也是这样加载类的。该方法创建对象的时候，只会调用该类的无参数构造函数，不会调用其他的有参构造函数。</li>
<li>new  后面接类名参数，是最常见的创建实例的方式。这是必须要知道一个明确的类才能使用</li>
</ol>
<h4 id="2-3-2-解耦"><a href="#2-3-2-解耦" class="headerlink" title="2.3.2 解耦"></a>2.3.2 解耦</h4><blockquote>
<p>newInstance实际上是把new方式分解为两步</p>
</blockquote>
<ol>
<li>首先调用Class加载方法加载某个类</li>
<li>然后实例化。</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> Class a1 = Class.forName(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">BeanFactory a2 =  (BeanFactory) a1.newInstance();</span><br><span class="line">System.out.println(a2);</span><br><span class="line">Class b1 = Class.forName(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">BeanFactory b2 =  (BeanFactory) b1.newInstance();</span><br><span class="line">System.out.println(b2); <span class="comment">//两个l</span></span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String className = readfromXMlConfig;<span class="comment">//从xml 配置文件中获需要加载的类</span></span><br><span class="line">Class c = Class.forName（className）；</span><br><span class="line">factory = （AInterface）c.newInstance（）；<span class="comment">//这样，在不知道是实现类的类名的情况下创建到了实现类</span></span><br></pre></td></tr></table></figure>

<p>可以在调用class.forName时获得更好的灵活性（获得更宽泛的类名），提供给了一种降耦(降低耦合度)的手段。</p>
<h4 id="2-3-3-区别总结"><a href="#2-3-3-区别总结" class="headerlink" title="2.3.3  区别总结"></a>2.3.3  区别总结</h4><ul>
<li>newInstance: 方法级别，弱类型。低效率。只能调用无参构造。</li>
<li>new: 关键字级别，强类型。相对高效。能调用任何public构造。</li>
</ul>
<h4 id="2-3-4-newInstance用途"><a href="#2-3-4-newInstance用途" class="headerlink" title="2.3.4 newInstance用途"></a>2.3.4 newInstance用途</h4><p>是实现IOC、反射、依赖倒置 等技术方法的必然选择，new 只能实现具体类的实例化，不适合于接口编程。类里面就是经过这个类的默认构造函数构建了一个对象，若是没有默认构造函数就抛出InstantiationException, 若是没有访问默认构造函数的权限就抛出IllegalAccessException xml</p>
<h2 id="三、类加载器"><a href="#三、类加载器" class="headerlink" title="三、类加载器"></a>三、类加载器</h2><h3 id="3-1-三级"><a href="#3-1-三级" class="headerlink" title="3.1 三级"></a>3.1 三级</h3><h4 id="3-1-1-Bootstrap类加载器"><a href="#3-1-1-Bootstrap类加载器" class="headerlink" title="3.1.1 Bootstrap类加载器"></a>3.1.1 Bootstrap类加载器</h4><ul>
<li>作用：加载java.lib下面的核心类库<ul>
<li>rt.jar</li>
<li>resources.jar</li>
</ul>
</li>
<li>获取：System.getProperty(“sun.boot.class.path”)</li>
</ul>
<h4 id="3-1-2-Extension类加载器"><a href="#3-1-2-Extension类加载器" class="headerlink" title="3.1.2 Extension类加载器"></a>3.1.2 Extension类加载器</h4><ul>
<li>作用：加载java.lib.ext下的类</li>
<li>System.getProperty(“java.ext.dirs”)</li>
</ul>
<h4 id="3-1-3-System类加载器"><a href="#3-1-3-System类加载器" class="headerlink" title="3.1.3 System类加载器"></a>3.1.3 System类加载器</h4><ul>
<li>作用：加载javaclasspath下的类</li>
</ul>
<h3 id="3-2-双亲委派机制"><a href="#3-2-双亲委派机制" class="headerlink" title="3.2 双亲委派机制"></a>3.2 双亲委派机制</h3>]]></content>
      <categories>
        <category>java</category>
        <category>JVM</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/java/java%E9%AB%98%E7%BA%A7/jvm/%E7%BC%96%E8%AF%91%E8%BF%87%E7%A8%8B/</url>
    <content><![CDATA[<h3 id="编译过程"><a href="#编译过程" class="headerlink" title="编译过程"></a>编译过程</h3><ol>
<li><a href="https://www.cnblogs.com/code-duck/p/13568092.html">java编译过程.cnblog</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/206732617">java-操作系统.知乎</a><ol>
<li>运行环境 = 操作系统 + 硬件（主要是CPU)</li>
<li>操作系统屏蔽了除 CPU 外的硬件差异,并自身形成系统调用(一套Api)</li>
<li>但是不同操作系统api不同，所以为了</li>
</ol>
</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>spring静态资源配置</title>
    <url>/2022/03/08/spring/%E9%85%8D%E7%BD%AE/spring-properties/%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<h3 id="springBoot"><a href="#springBoot" class="headerlink" title="springBoot"></a>springBoot</h3><ol>
<li><p>默认资源文件目录</p>
<ol>
<li>classpath:/public/</li>
<li>classpath:/resources/</li>
<li>classpath:/static/</li>
<li>classpath:/META-INFO/resouces/</li>
</ol>
</li>
<li><p>自定义资源目录</p>
<p>在pom.xml添加配置</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211205152304095.png" alt="image-20211205152304095"></p>
</li>
<li><p>自定义2</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ImageMvcConfig</span> <span class="keyword">implements</span> <span class="title">WebMvcConfigurer</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> </span>&#123;</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/image/**&quot;</span>)</span><br><span class="line">                .addResourceLocations(<span class="string">&quot;classpath:/images/&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>自定义3—properties</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">mvc:</span></span><br><span class="line">    <span class="attr">static-path-pattern:</span> <span class="string">/image/**</span></span><br><span class="line">  <span class="attr">resources:</span></span><br><span class="line">    <span class="attr">static-locations:</span> <span class="string">classpath:/images/</span></span><br></pre></td></tr></table></figure>

<p><a href="https://blog.csdn.net/fei1234456/article/details/106801777">参考-说明</a>：</p>
<ul>
<li>static-path-pattern：静态资源<font color="red">访问路径前缀</font>，默认为/**，多个可以逗号分隔；</li>
<li>static-locations：静态资源<font color="red">放置目录</font></li>
</ul>
</li>
<li><p>路径约定</p>
<ul>
<li><p>表示一个目录.</p>
<ul>
<li>static-locations    classpath:/templates/ </li>
</ul>
</li>
<li><p>表示一个url：</p>
<ul>
<li>static-path-pattern，带pattern的就需要/**</li>
</ul>
</li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>pom常用依赖</title>
    <url>/2022/03/08/spring/%E9%85%8D%E7%BD%AE/pom/pom%E5%B8%B8%E7%94%A8%E4%BE%9D%E8%B5%96/</url>
    <content><![CDATA[<h3 id="1-简略版"><a href="#1-简略版" class="headerlink" title="1. 简略版"></a>1. 简略版</h3><ol>
<li>spring<ol>
<li>spring-boot-starter</li>
<li>spring-boot-starter-test</li>
<li>spring-boot-starter-web</li>
<li>spring-boot-devtools</li>
<li>spring-boot-starter-security</li>
<li>spring-security-test</li>
<li>spring-boot-configuration-processor</li>
</ol>
</li>
<li>mysql<ol>
<li>mysql-connector-java</li>
<li>druid</li>
<li>mybatis<ol>
<li>mybatis-spring-boot-starter</li>
<li>mybatis-plus-boot-starter</li>
<li>mybatis-plus-generator</li>
</ol>
</li>
<li>velocity-engine-core</li>
</ol>
</li>
<li>util<ol>
<li>lombok</li>
<li>commons-lang</li>
<li>fastjson</li>
<li>easyexcel</li>
<li>httpclient</li>
<li>swagger<ol>
<li>springfox-swagger2</li>
<li>springfox-swagger-ui<h3 id="2-完整版"><a href="#2-完整版" class="headerlink" title="2. 完整版"></a>2. 完整版</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--json--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.vaadin.external.google<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>android-json<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.20131108.vaadin1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--http请求类--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.httpcomponents<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>httpclient<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.5.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--日志--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-logging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--web--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--mybatis-plus--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-generator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 模板引擎 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.velocity<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>velocity-engine-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--连接池--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.vintage<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-vintage-engine<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-freemarker<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.vdurmont<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>emoji-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.56<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--swagger--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.xiaoymin<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>swagger-bootstrap-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--热部署--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--linux--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.ethz.ganymed<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ganymed-ssh2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>build210<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-io<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-io<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-lang<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-lang<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title>pom配置</title>
    <url>/2022/03/08/spring/%E9%85%8D%E7%BD%AE/pom/pom%E6%A0%BC%E5%BC%8F/</url>
    <content><![CDATA[<h3 id="基本依赖"><a href="#基本依赖" class="headerlink" title="基本依赖"></a>基本依赖</h3><ol>
<li></li>
</ol>
<h3 id="格式说明参考"><a href="#格式说明参考" class="headerlink" title="格式说明参考"></a>格式说明<a href="https://www.cnblogs.com/q1359720840/p/10465933.html">参考</a></h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--指定了当前pom的版本，4.0.0是固定的 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 主项目标识，用来定义当前maven属于哪个实际的项目 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>反写的公司网址 + 项目名<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 模块名，maven项目和实际的项目不是一一对应的关系，maven项目提现的是模块化的概念，一个实际项目往往会被划分为很多个模块 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>项目名 + 模块名<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 当前项目版本号，一般有三个数字组成 第一个数字：大版本号 第二个数字：分支版本号 第三个数字：先版本号 snapshot: 快照 alpha： </span></span><br><span class="line"><span class="comment">        内测版本 beta： 公测版本 Release： 稳定版本 GA： 正式发布版本 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1snapshot<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- maven项目打包方式，默认情况为jar，还可打包为war，zip，pom等 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span><span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 项目描述名 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span><span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 项目地址 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span><span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 项目描述 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span><span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开发人员列表 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">developers</span>&gt;</span><span class="tag">&lt;/<span class="name">developers</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 许可证信息 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">licenses</span>&gt;</span><span class="tag">&lt;/<span class="name">licenses</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 组织信息 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">organization</span>&gt;</span><span class="tag">&lt;/<span class="name">organization</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">&lt;!-- 依赖列表 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 依赖项目 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">type</span>&gt;</span><span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 依赖范围，控制依赖与三种依赖范围的关系 --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 开发中要使用某一个jar，就要将该jar包引入到项目的classpath中 --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- maven提供了三种classpath： 1.编译 2.测试 3.运行 --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 下面的test表明junit只存在于测试的classpath中 --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- maven为scope提供了六个属性：</span></span><br><span class="line"><span class="comment">                                    compile（默认，编译测试运行都有效）， </span></span><br><span class="line"><span class="comment">                                    provided（编译和测试）servlet, </span></span><br><span class="line"><span class="comment">                                    runtime（测试和运行）jdbc, </span></span><br><span class="line"><span class="comment">                                    test（测试）junit, </span></span><br><span class="line"><span class="comment">                                    system（编译和测试，与本机系统相关联，可移植性差）, </span></span><br><span class="line"><span class="comment">                                    import（导入的范围，只使用在dependencyManagerment中，表示从其他的pom中导入dependency的配置） --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 设置依赖是否可选 --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 有两个值，true和false，默认是false，继承，若为true，子项目必须显式的引用该依赖 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">optional</span>&gt;</span><span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 排除依赖传递的列表 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">&lt;!-- 依赖管理 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 这里定义的依赖不会被运行，即不会被引用为实际的依赖，主要是供子模块集成用 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">&lt;!-- 为构建行为提供相应的支持 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 插件列表 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 插件 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span><span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span><span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span><span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">&lt;!-- 用于子模块中对于父模块的继承 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 聚合运行多个maven项目 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span><span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>spring</category>
        <category>配置</category>
      </categories>
  </entry>
  <entry>
    <title>pom配置文件</title>
    <url>/2022/03/08/spring/%E9%85%8D%E7%BD%AE/pom/pom%E7%9F%A5%E8%AF%86/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、POM"><a href="#一、POM" class="headerlink" title="一、POM"></a>一、POM</h2><h3 id="1-1-转载-pom节点说明1"><a href="#1-1-转载-pom节点说明1" class="headerlink" title="1.1 转载-pom节点说明1"></a>1.1 <a href="https://blog.csdn.net/jiangyu1013/article/details/52424726">转载-pom节点说明1</a></h3><ol>
<li><p>modelVersion：声明项目描述符遵循哪一个POM模型版本。<br>模型本身的版本很少改变，虽然如此，但它仍然是必不可少的.<br>这是为了当Maven引入了新的特性或者其他模型变更的时候，确保稳定性。</p>
</li>
<li><p>parent：引入父级pom文件。</p>
</li>
<li><p>groupId：公司名称、组织名称、项目开发者，配置时生成路径也是由此生成（包名，如com.XXX）。</p>
</li>
<li><p>artifactId：项目通用名称。</p>
</li>
<li><p>version：对应项目版本号。</p>
<span id="more"></span></li>
<li><p>packaging：打包后的类型。如war、jar、maven-plugin、ejb、pom、ear、par、rar</p>
</li>
<li><p>name:用户描述项目的名称，可选。</p>
</li>
<li><p>url:项目主页的URL, Maven产生文档时用。</p>
</li>
</ol>
<h3 id="1-2-pom说明2"><a href="#1-2-pom说明2" class="headerlink" title="1.2 pom说明2"></a>1.2 pom说明2</h3><ol>
<li>exclusions：排除管理（写在dependency中）。</li>
<li>exclusion：具体要排除的依赖项</li>
<li>repositories:仓库管理。</li>
<li>repository：具体仓库（有id、name、url子元素）。</li>
<li>properties：自定义标签管理（可在其内自定义标签名、值，<br>用法同于el表达式：${标签名}得到其值），常用于集中定义依赖版本号。</li>
<li>scope：管理部署（可以使用5个值：<ol>
<li>compile，缺省值，适用于所有阶段，会随着项目一起发布。</li>
<li>provided，类似compile，期望JDK、容器或使用者会提供这个依赖。如servlet.jar。</li>
<li>runtime，只在运行时使用，如JDBC驱动，适用运行和测试阶段。</li>
<li>test，只在测试时使用，用于编译和运行测试代码。不会随项目发布。</li>
<li>system，类似provided，需要显式提供包含依赖的jar，Maven不会在Repository中查找它。</li>
</ol>
</li>
</ol>
<h3 id="1-3-pom说明3"><a href="#1-3-pom说明3" class="headerlink" title="1.3 pom说明3"></a>1.3 pom说明3</h3><ol>
<li>dependencies:依赖,jar包管理。</li>
<li>dependency：具体的依赖项。</li>
<li>dependencyManagement：依赖、jar包管理。</li>
</ol>
<h2 id="二、Maven内置了三大特性"><a href="#二、Maven内置了三大特性" class="headerlink" title="二、Maven内置了三大特性"></a>二、<a href="https://blog.csdn.net/bao19901210/article/details/52415402">Maven内置了三大特性</a></h2><h3 id="2-1-Maven六大属性类型"><a href="#2-1-Maven六大属性类型" class="headerlink" title="2.1 Maven六大属性类型"></a>2.1 Maven六大属性类型</h3><ol>
<li><p>内置属性：主要有两个常用内置属性——${basedir}表示项目根目录，即包含pom.xml文件的目录;${version}表示项目版本。</p>
</li>
<li><p>xml的$符号，用法同于el表达式</p>
</li>
<li><p>POM属性：pom中对应元素的值。例如                </p>
<ol>
<li><p>${project.build.sourceDirectory}:项目的主源码目录，默认为src/main/java/.                                                      </p>
</li>
<li><p>${project.build.testSourceDirectory}:项目的测试源码目录，默认为/src/test/java/.                                                 </p>
</li>
<li><p>${project.build.directory}:项目构建输出目录，默认为target/.                                                                 </p>
</li>
<li><p>${project.build.outputDirectory}:项目主代码编译输出目录，默认为target/classes/.                                                </p>
</li>
<li><p>${project.build.testOutputDirectory}:项目测试代码编译输出目录，默认为target/testclasses/.                                         </p>
</li>
<li><p>${project.groupId}:项目的groupId.                                                                                     </p>
</li>
<li><p>${project.artifactId}:项目的artifactId.                                                                                    ${project.version}:项目的version,于</p>
</li>
<li><p>${version}等价                                                                         </p>
</li>
<li><p>${project.build.finalName}:项目打包输出文件的名称，默认为</p>
</li>
<li><p>${project.artifactId}${project.version}.</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211009003422541.png" alt="image-20211009003422541"></p>
</li>
</ol>
</li>
<li><p>自定义属性：在pom中&lt;properties&gt;元素下自定义的Maven属性。</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211009002825691.png" alt="image-20211009002825691"></p>
</li>
<li><p>Settings属性：与POM属性同理。如${settings.localRepository}指向用户本地仓库的地址。</p>
</li>
<li><p>Java系统属性：所有Java系统属性都可以使用Maven属性引用，例如${user.home}指向了用户目录。可以通过命令行mvn help:system查看所有的Java系统属性</p>
</li>
<li><p>环境变量属性：所有环境变量都可以使用以env.开头的Maven属性引用。例如${env.JAVA_HOME}指代了JAVA_HOME环境变量的值。也可以通过命令行mvn help:system查看所有环境变量</p>
</li>
</ol>
<h3 id="2-2-profile"><a href="#2-2-profile" class="headerlink" title="2.2 profile"></a>2.2 profile</h3><blockquote>
<p> 前言,类似于application-prod.properties</p>
</blockquote>
<h3 id="2-3-资源过滤"><a href="#2-3-资源过滤" class="headerlink" title="2.3 资源过滤"></a>2.3 资源过滤</h3><blockquote>
<p>引入resources文件夹意外的资源</p>
</blockquote>
<ol>
<li><p>pom.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>spring</category>
        <category>配置</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JUtil/Strean/Nodes/</url>
    <content><![CDATA[<h2 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h2><h3 id="1-1-作用"><a href="#1-1-作用" class="headerlink" title="1.1 作用"></a>1.1 作用</h3><h3 id="1-2-原理"><a href="#1-2-原理" class="headerlink" title="1.2 原理"></a>1.2 原理</h3><h3 id="1-3-父"><a href="#1-3-父" class="headerlink" title="1.3 父"></a>1.3 父</h3><h2 id="二、属性"><a href="#二、属性" class="headerlink" title="二、属性"></a>二、属性</h2><h2 id="三、方法"><a href="#三、方法" class="headerlink" title="三、方法"></a>三、方法</h2><h2 id="四、细节"><a href="#四、细节" class="headerlink" title="四、细节"></a>四、细节</h2>]]></content>
  </entry>
  <entry>
    <title>StreamSupport</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JUtil/Strean/StreamSupport/</url>
    <content><![CDATA[<h2 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h2><h3 id="1-1-作用"><a href="#1-1-作用" class="headerlink" title="1.1 作用"></a>1.1 作用</h3><blockquote>
<p>Stream的工具类，final 私有构造</p>
<ul>
<li>用于创建和操纵流的低级实用程序方法</li>
</ul>
</blockquote>
<h3 id="1-2-原理"><a href="#1-2-原理" class="headerlink" title="1.2 原理"></a>1.2 原理</h3><h2 id="二、属性"><a href="#二、属性" class="headerlink" title="二、属性"></a>二、属性</h2><h2 id="三、方法"><a href="#三、方法" class="headerlink" title="三、方法"></a>三、方法</h2><h2 id="四、细节"><a href="#四、细节" class="headerlink" title="四、细节"></a>四、细节</h2>]]></content>
  </entry>
  <entry>
    <title>ArrayList</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JUtil/%E9%9B%86%E5%90%88/ArrayList/</url>
    <content><![CDATA[<blockquote>
<p>所有的List的关键所在都是E[]，有了E[]就可以互相转换</p>
</blockquote>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>Arrays</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JUtil/%E9%9B%86%E5%90%88/Arrays/</url>
    <content><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="-1"><a href="#-1" class="headerlink" title=""></a></h2><h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><h3 id="内置对象ArrayList"><a href="#内置对象ArrayList" class="headerlink" title="内置对象ArrayList"></a>内置对象ArrayList</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayList</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractList</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class">        <span class="keyword">implements</span> <span class="title">RandomAccess</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span></span></span><br><span class="line"><span class="class">    </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = -<span class="number">2764017481108945198L</span>;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">final</span> E[] a;</span><br><span class="line"></span><br><span class="line">        ArrayList(E[] array) &#123;</span><br><span class="line">            a = Objects.requireNonNull(array);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a.length;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> Object[] toArray() &#123;</span><br><span class="line">            <span class="keyword">return</span> a.clone();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">        <span class="keyword">public</span> &lt;T&gt; T[] toArray(T[] a) &#123;</span><br><span class="line">            <span class="keyword">int</span> size = size();</span><br><span class="line">            <span class="keyword">if</span> (a.length &lt; size)</span><br><span class="line">                <span class="keyword">return</span> Arrays.copyOf(<span class="keyword">this</span>.a, size,</span><br><span class="line">                                     (Class&lt;? extends T[]&gt;) a.getClass());</span><br><span class="line">            System.arraycopy(<span class="keyword">this</span>.a, <span class="number">0</span>, a, <span class="number">0</span>, size);</span><br><span class="line">            <span class="keyword">if</span> (a.length &gt; size)</span><br><span class="line">                a[size] = <span class="keyword">null</span>;</span><br><span class="line">            <span class="keyword">return</span> a;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> E <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a[index];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> E <span class="title">set</span><span class="params">(<span class="keyword">int</span> index, E element)</span> </span>&#123;</span><br><span class="line">            E oldValue = a[index];</span><br><span class="line">            a[index] = element;</span><br><span class="line">            <span class="keyword">return</span> oldValue;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">            E[] a = <span class="keyword">this</span>.a;</span><br><span class="line">            <span class="keyword">if</span> (o == <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.length; i++)</span><br><span class="line">                    <span class="keyword">if</span> (a[i] == <span class="keyword">null</span>)</span><br><span class="line">                        <span class="keyword">return</span> i;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.length; i++)</span><br><span class="line">                    <span class="keyword">if</span> (o.equals(a[i]))</span><br><span class="line">                        <span class="keyword">return</span> i;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> indexOf(o) != -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Spliterator&lt;E&gt; <span class="title">spliterator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> Spliterators.spliterator(a, Spliterator.ORDERED);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">forEach</span><span class="params">(Consumer&lt;? <span class="keyword">super</span> E&gt; action)</span> </span>&#123;</span><br><span class="line">            Objects.requireNonNull(action);</span><br><span class="line">            <span class="keyword">for</span> (E e : a) &#123;</span><br><span class="line">                action.accept(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">replaceAll</span><span class="params">(UnaryOperator&lt;E&gt; operator)</span> </span>&#123;</span><br><span class="line">            Objects.requireNonNull(operator);</span><br><span class="line">            E[] a = <span class="keyword">this</span>.a;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">                a[i] = operator.apply(a[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparator&lt;? <span class="keyword">super</span> E&gt; c)</span> </span>&#123;</span><br><span class="line">            Arrays.sort(a, c);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



]]></content>
  </entry>
  <entry>
    <title>Collection</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JUtil/%E9%9B%86%E5%90%88/Collection/</url>
    <content><![CDATA[<h2 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h2><h3 id="1-1-作用"><a href="#1-1-作用" class="headerlink" title="1.1 作用"></a>1.1 作用</h3><blockquote>
<p>所有Collection的父接口</p>
</blockquote>
<h3 id="1-2-原理"><a href="#1-2-原理" class="headerlink" title="1.2 原理"></a>1.2 原理</h3><h3 id="1-3-父"><a href="#1-3-父" class="headerlink" title="1.3 父"></a>1.3 父</h3><ol>
<li>  extends Iterable<E></li>
</ol>
<h2 id="二、属性"><a href="#二、属性" class="headerlink" title="二、属性"></a>二、属性</h2><h2 id="三、方法"><a href="#三、方法" class="headerlink" title="三、方法"></a>三、方法</h2><h3 id="3-1-基本方法"><a href="#3-1-基本方法" class="headerlink" title="3.1 基本方法"></a>3.1 基本方法</h3><ol>
<li><p>isEmpty</p>
</li>
<li><p>size</p>
</li>
<li><p>add(E e)、addAll</p>
</li>
<li><p>remove(Object o)</p>
<blockquote>
<p>基于arraycopy</p>
</blockquote>
</li>
<li><p>contains、containsAll</p>
</li>
<li><p>stream、parallelStream</p>
</li>
</ol>
<h3 id="3-2-关键方法"><a href="#3-2-关键方法" class="headerlink" title="3.2 关键方法"></a>3.2 关键方法</h3><ol>
<li><p>iterator() 返回迭代器 </p>
<blockquote>
<p>new一个</p>
</blockquote>
</li>
<li><p>toArray() 返回数组</p>
<blockquote>
<p>clone或者System.arraycopy</p>
</blockquote>
</li>
<li><p>toArray(E[]) 变成数组</p>
<blockquote>
<p>System.arraycopy</p>
</blockquote>
</li>
<li><p>removeIf(Predicate&lt;? super E&gt; filter) 过滤remove</p>
</li>
<li><p>equals</p>
<blockquote>
<p>迭代器比较</p>
</blockquote>
</li>
<li><p>hashCode</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> hashCode = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (E e : <span class="keyword">this</span>)</span><br><span class="line">    hashCode = <span class="number">31</span>*hashCode + (e==<span class="keyword">null</span> ? <span class="number">0</span> : e.hashCode());</span><br><span class="line"><span class="keyword">return</span> hashCode;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="4-细节"><a href="#4-细节" class="headerlink" title="4. 细节"></a>4. 细节</h2>]]></content>
  </entry>
  <entry>
    <title>hashmap</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JUtil/%E9%9B%86%E5%90%88/HashMap/</url>
    <content><![CDATA[<h2 id="一、原理"><a href="#一、原理" class="headerlink" title="一、原理"></a>一、原理</h2><p>基于哈希表的实现的<code>Map</code>接口。此实现提供了所有可选的map操作，并允许<code>null的</code>值和<code>null</code>键。（  <code>HashMap</code>类大致相当于<code>Hashtable</code> ，除了它是不同步的，并允许null）。这个类不能保证map的。</p>
<p>假设哈希函数在这些存储桶之间正确分散元素，这个实现为基本操作（ <code>get</code>和<code>put</code>  ）提供了恒定的时间性能。 收集视图的迭代需要与<code>HashMap</code>实例（桶数）加上其大小（键值映射数）的“容量”  <code>成正比</code> 。 因此，如果迭代性能很重要，不要将初始容量设置得太高（或负载因子太低）是非常重要的。 </p>
<p><code>HashMap的</code>一个实例有两个影响其性能的参数： <em>初始容量</em>和<em>负载因子</em> 。  <em>容量</em>是哈希表中的桶数，初始容量只是创建哈希表时的容量。  <em>负载因子</em>是在容量自动增加之前允许哈希表得到满足的度量。  当在散列表中的条目的数量超过了负载因数和电流容量的乘积，哈希表被<em>重新散列</em>  （即，内部数据结构被重建），使得哈希表具有桶的大约两倍。 </p>
<p>作为一般规则，默认负载因子（.75）提供了时间和空间成本之间的良好折中。  更高的值会降低空间开销，但会增加查找成本（反映在<code>HashMap</code>类的大部分操作中，包括<code>get</code>和<code>put</code>  ）。 在设置其初始容量时，应考虑map中预期的条目数及其负载因子，以便最小化重新组播操作的数量。  如果初始容量大于最大条目数除以负载因子，则不会发生重新排列操作。 </p>
<p>如果许多映射要存储在<code>HashMap</code>实例中，则以足够大的容量创建映射将允许映射的存储效率高于使其根据需要执行自动重新排序以增长表。  请注意，使用同一个<code>hashCode()</code>多个密钥是降低任何哈希表的<code>hashCode()</code>的一种方法。  为了改善影响，当按键是<a href="../../java/lang/Comparable.html"><code>Comparable</code></a>时，这个类可以使用键之间的比较顺序来帮助打破关系。 </p>
<p>当链表大于 8 并且容量大于 64 时，链表结构会转换成红黑树结构，大体结构如下图：</p>
<ol>
<li>基于equals</li>
</ol>
<h2 id="二、属性"><a href="#二、属性" class="headerlink" title="二、属性"></a>二、属性</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DEFAULT_INITIAL_CAPACITY = <span class="number">1</span> &lt;&lt; <span class="number">4</span>; <span class="comment">// 默认容量 16</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAXIMUM_CAPACITY = <span class="number">1</span> &lt;&lt; <span class="number">30</span>; <span class="comment">//最大容量</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">float</span> DEFAULT_LOAD_FACTOR = <span class="number">0.75f</span>;<span class="comment">//默认负载因子</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> TREEIFY_THRESHOLD = <span class="number">8</span>;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> UNTREEIFY_THRESHOLD = <span class="number">6</span>;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MIN_TREEIFY_CAPACITY = <span class="number">64</span>;</span><br><span class="line"><span class="keyword">transient</span> Node&lt;K,V&gt;[] table;<span class="comment">//表.分配时，长度始终为2的幂。</span></span><br><span class="line"><span class="keyword">transient</span> Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet;<span class="comment">//保存缓存的entrySet</span></span><br><span class="line"><span class="keyword">transient</span> <span class="keyword">int</span> size;<span class="comment">//现在容量</span></span><br><span class="line"><span class="keyword">transient</span> <span class="keyword">int</span> modCount;<span class="comment">//Fail-Fast机制</span></span><br><span class="line"><span class="keyword">int</span> threshold; <span class="comment">//要调整大小的下一个大小值（容量*负载系数）。</span></span><br><span class="line"><span class="keyword">final</span> <span class="keyword">float</span> loadFactor;<span class="comment">//f</span></span><br></pre></td></tr></table></figure>

<h2 id="三、-方法"><a href="#三、-方法" class="headerlink" title="三、 方法"></a>三、 方法</h2><h3 id="2-1-hash-key"><a href="#2-1-hash-key" class="headerlink" title="2.1 hash(key)"></a>2.1 hash(key)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span> h;</span><br><span class="line">       <span class="keyword">return</span> (key == <span class="keyword">null</span>) ? <span class="number">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class="number">16</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-put"><a href="#2-2-put" class="headerlink" title="2.2 put"></a>2.2 put</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> putVal(hash(key), key, value, <span class="keyword">false</span>, <span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">final</span> V <span class="title">putVal</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, <span class="keyword">boolean</span> onlyIfAbsent,</span></span></span><br><span class="line"><span class="params"><span class="function">               <span class="keyword">boolean</span> evict)</span> </span>&#123;</span><br><span class="line">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="keyword">int</span> n, i;</span><br><span class="line">    <span class="keyword">if</span> ((tab = table) == <span class="keyword">null</span> || (n = tab.length) == <span class="number">0</span>)</span><br><span class="line">        n = (tab = resize()).length;</span><br><span class="line">    <span class="keyword">if</span> ((p = tab[i = (n - <span class="number">1</span>) &amp; hash]) == <span class="keyword">null</span>)</span><br><span class="line">        tab[i] = newNode(hash, key, value, <span class="keyword">null</span>);</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        Node&lt;K,V&gt; e; K k;</span><br><span class="line">        <span class="keyword">if</span> (p.hash == hash &amp;&amp;</span><br><span class="line">            ((k = p.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">            e = p;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (p <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class="keyword">this</span>, tab, hash, key, value);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> binCount = <span class="number">0</span>; ; ++binCount) &#123;</span><br><span class="line">                <span class="keyword">if</span> ((e = p.next) == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    p.next = newNode(hash, key, value, <span class="keyword">null</span>);</span><br><span class="line">                    <span class="keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="number">1</span>) <span class="comment">// -1 for 1st</span></span><br><span class="line">                        treeifyBin(tab, hash);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                    ((k = e.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                p = e;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (e != <span class="keyword">null</span>) &#123; <span class="comment">// existing mapping for key</span></span><br><span class="line">            V oldValue = e.value;</span><br><span class="line">            <span class="keyword">if</span> (!onlyIfAbsent || oldValue == <span class="keyword">null</span>)</span><br><span class="line">                e.value = value;</span><br><span class="line">            afterNodeAccess(e);</span><br><span class="line">            <span class="keyword">return</span> oldValue;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ++modCount;</span><br><span class="line">    <span class="keyword">if</span> (++size &gt; threshold)</span><br><span class="line">        resize();</span><br><span class="line">    afterNodeInsertion(evict);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/b7b55fbaeb2948b5a50496d7a2f67c88.png" alt="b7b55fbaeb2948b5a50496d7a2f67c88"></p>
<h3 id="2-3-resize"><a href="#2-3-resize" class="headerlink" title="2.3 resize"></a>2.3 resize</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">final</span> Node&lt;K,V&gt;[] resize() &#123;</span><br><span class="line">    Node&lt;K,V&gt;[] oldTab = table;</span><br><span class="line">    <span class="keyword">int</span> oldCap = (oldTab == <span class="keyword">null</span>) ? <span class="number">0</span> : oldTab.length;</span><br><span class="line">    <span class="keyword">int</span> oldThr = threshold;</span><br><span class="line">    <span class="keyword">int</span> newCap, newThr = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (oldCap &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (oldCap &gt;= MAXIMUM_CAPACITY) &#123;</span><br><span class="line">            threshold = Integer.MAX_VALUE;</span><br><span class="line">            <span class="keyword">return</span> oldTab;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ((newCap = oldCap &lt;&lt; <span class="number">1</span>) &lt; MAXIMUM_CAPACITY &amp;&amp;</span><br><span class="line">                 oldCap &gt;= DEFAULT_INITIAL_CAPACITY)</span><br><span class="line">            newThr = oldThr &lt;&lt; <span class="number">1</span>; <span class="comment">// double threshold</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (oldThr &gt; <span class="number">0</span>) <span class="comment">// initial capacity was placed in threshold</span></span><br><span class="line">        newCap = oldThr;</span><br><span class="line">    <span class="keyword">else</span> &#123;               <span class="comment">// zero initial threshold signifies using defaults</span></span><br><span class="line">        newCap = DEFAULT_INITIAL_CAPACITY;</span><br><span class="line">        newThr = (<span class="keyword">int</span>)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (newThr == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">float</span> ft = (<span class="keyword">float</span>)newCap * loadFactor;</span><br><span class="line">        newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (<span class="keyword">float</span>)MAXIMUM_CAPACITY ?</span><br><span class="line">                  (<span class="keyword">int</span>)ft : Integer.MAX_VALUE);</span><br><span class="line">    &#125;</span><br><span class="line">    threshold = newThr;</span><br><span class="line">    Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])<span class="keyword">new</span> Node[newCap];</span><br><span class="line">    table = newTab;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; oldCap; ++j) &#123;</span><br><span class="line">        Node&lt;K,V&gt; e;</span><br><span class="line">        <span class="keyword">if</span> ((e = oldTab[j]) != <span class="keyword">null</span>) &#123;</span><br><span class="line">            oldTab[j] = <span class="keyword">null</span>;</span><br><span class="line">            <span class="keyword">if</span> (e.next == <span class="keyword">null</span>)</span><br><span class="line">                newTab[e.hash &amp; (newCap - <span class="number">1</span>)] = e;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (e <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                ((TreeNode&lt;K,V&gt;)e).split(<span class="keyword">this</span>, newTab, j, oldCap);</span><br><span class="line">            <span class="keyword">else</span> &#123; <span class="comment">// preserve order</span></span><br><span class="line">                Node&lt;K,V&gt; loHead = <span class="keyword">null</span>, loTail = <span class="keyword">null</span>;</span><br><span class="line">                Node&lt;K,V&gt; hiHead = <span class="keyword">null</span>, hiTail = <span class="keyword">null</span>;</span><br><span class="line">                Node&lt;K,V&gt; next;</span><br><span class="line">                <span class="keyword">do</span> &#123;</span><br><span class="line">                    next = e.next;</span><br><span class="line">                    <span class="keyword">if</span> ((e.hash &amp; oldCap) == <span class="number">0</span>) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (loTail == <span class="keyword">null</span>)</span><br><span class="line">                            loHead = e;</span><br><span class="line">                        <span class="keyword">else</span></span><br><span class="line">                            loTail.next = e;</span><br><span class="line">                        loTail = e;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">if</span> (hiTail == <span class="keyword">null</span>)</span><br><span class="line">                            hiHead = e;</span><br><span class="line">                        <span class="keyword">else</span></span><br><span class="line">                            hiTail.next = e;</span><br><span class="line">                        hiTail = e;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">while</span> ((e = next) != <span class="keyword">null</span>);</span><br><span class="line">                <span class="keyword">if</span> (loTail != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    loTail.next = <span class="keyword">null</span>;</span><br><span class="line">                    newTab[j] = loHead;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (hiTail != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    hiTail.next = <span class="keyword">null</span>;</span><br><span class="line">                    newTab[j + oldCap] = hiHead;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> newTab;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="四、细节"><a href="#四、细节" class="headerlink" title="四、细节"></a>四、细节</h2><ol>
<li>在散列表中的条目的数量超过了负载因数和电流容量的乘积，哈希表被<em>重新散列</em> （即，内部数据结构被重建），使得哈希表具有桶的大约两倍。</li>
<li>如果许多映射要存储在<code>HashMap</code>实例中，则以足够大的容量创建映射将允许映射的存储效率高于使其根据需要执行自动重新排序以增长表。  请注意，使用同一个<code>hashCode()</code>多个密钥是降低任何哈希表的<code>hashCode()</code>的一种方法。  为了改善影响，当按键是<a href="../../java/lang/Comparable.html"><code>Comparable</code></a>时，这个类可以使用键之间的比较顺序来帮助打破关系</li>
</ol>
<h3 id="HashMap和HashTable区别"><a href="#HashMap和HashTable区别" class="headerlink" title="HashMap和HashTable区别"></a>HashMap和HashTable区别</h3><ol>
<li>hashmap线程不安全</li>
<li>hashmap的key可以为null</li>
</ol>
<h3 id="HashMap、LinkedHashMap、TreeMap-区别"><a href="#HashMap、LinkedHashMap、TreeMap-区别" class="headerlink" title="HashMap、LinkedHashMap、TreeMap 区别"></a>HashMap、LinkedHashMap、TreeMap 区别</h3><ol>
<li>LinkedHashMap底层双向链表，有序</li>
<li>TreeMap 可以用于排序</li>
<li>HashMap</li>
</ol>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>hashset</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JUtil/%E9%9B%86%E5%90%88/HashSet/</url>
    <content><![CDATA[<h2 id="一、原理"><a href="#一、原理" class="headerlink" title="一、原理"></a>一、原理</h2><blockquote>
<p>底层是一个</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">transient</span> HashMap&lt;E,Object&gt; map;</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="二、方法"><a href="#二、方法" class="headerlink" title="二、方法"></a>二、方法</h2><h3 id="2-1-构造"><a href="#2-1-构造" class="headerlink" title="2.1 构造"></a>2.1 构造</h3><h4 id="2-1-1-由Collection"><a href="#2-1-1-由Collection" class="headerlink" title="2.1.1 由Collection"></a>2.1.1 由Collection</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">HashSet</span><span class="params">(Collection&lt;? extends E&gt; c)</span> </span>&#123;</span><br><span class="line">       map = <span class="keyword">new</span> HashMap&lt;&gt;(Math.max((<span class="keyword">int</span>) (c.size()/<span class="number">.75f</span>) + <span class="number">1</span>, <span class="number">16</span>));</span><br><span class="line">       addAll(c);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-1-2-由初始容量和负载因子"><a href="#2-1-2-由初始容量和负载因子" class="headerlink" title="2.1.2 由初始容量和负载因子"></a>2.1.2 由初始容量和负载因子</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">HashSet</span><span class="params">(<span class="keyword">int</span> initialCapacity, <span class="keyword">float</span> loadFactor)</span> </span>&#123;</span><br><span class="line">    map = <span class="keyword">new</span> HashMap&lt;&gt;(initialCapacity, loadFactor);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-1-3-由笨蛋-dummy-创建linkedHash"><a href="#2-1-3-由笨蛋-dummy-创建linkedHash" class="headerlink" title="2.1.3 由笨蛋(dummy)创建linkedHash"></a>2.1.3 由笨蛋(dummy)创建linkedHash</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">HashSet(<span class="keyword">int</span> initialCapacity, <span class="keyword">float</span> loadFactor, <span class="keyword">boolean</span> dummy) &#123;</span><br><span class="line">  	<span class="comment">//dummy主要是区分另一个构造函数</span></span><br><span class="line">    map = <span class="keyword">new</span> LinkedHashMap&lt;&gt;(initialCapacity, loadFactor);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-add"><a href="#2-2-add" class="headerlink" title="2.2 add"></a>2.2 add</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> map.put(e, PRESENT)==<span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="三、细节"><a href="#三、细节" class="headerlink" title="三、细节"></a>三、细节</h2><ol>
<li>可以加入null，多个n占用一个</li>
</ol>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>Node of Map</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JUtil/%E9%9B%86%E5%90%88/Node/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、属性"><a href="#一、属性" class="headerlink" title="一、属性"></a>一、属性</h2><ol>
<li>final int hash   hash值</li>
<li>final K key</li>
<li>V value</li>
<li>Node&lt;K,V&gt; next   下一个节点</li>
</ol>
<h2 id="二、方法"><a href="#二、方法" class="headerlink" title="二、方法"></a>二、方法</h2><h3 id="2-1-构造方法"><a href="#2-1-构造方法" class="headerlink" title="2.1 构造方法"></a>2.1 构造方法</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Node(<span class="keyword">int</span> hash, K key, V value, Node&lt;K,V&gt; next) &#123;</span><br><span class="line">        <span class="keyword">this</span>.hash = hash;</span><br><span class="line">        <span class="keyword">this</span>.key = key;</span><br><span class="line">        <span class="keyword">this</span>.value = value;</span><br><span class="line">        <span class="keyword">this</span>.next = next;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-1-hashcode"><a href="#2-1-hashcode" class="headerlink" title="2.1 hashcode"></a>2.1 hashcode</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hashCode(key) ^ Objects.hashCode(value);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-equals"><a href="#2-2-equals" class="headerlink" title="2.2 equals"></a>2.2 equals</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">this</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o <span class="keyword">instanceof</span> Map.Entry) &#123;</span><br><span class="line">            Map.Entry&lt;?,?&gt; e = (Map.Entry&lt;?,?&gt;)o;</span><br><span class="line">            <span class="keyword">if</span> (Objects.equals(key, e.getKey()) &amp;&amp;</span><br><span class="line">                Objects.equals(value, e.getValue()))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title>java集合</title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JUtil/%E9%9B%86%E5%90%88/%E9%9B%86%E5%90%88/</url>
    <content><![CDATA[<h3 id="Fail-Fast机制"><a href="#Fail-Fast机制" class="headerlink" title="Fail-Fast机制"></a>Fail-Fast机制</h3><blockquote>
<p>fail-fast,即快速失败机制，它是java集合中的一种错误检测机制，当多个线程在结构上对集合进行改变时，就有可能会产生fail-fast机制。</p>
</blockquote>
<blockquote>
<p>基于modCount和checkForComodification();</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="keyword">transient</span> <span class="keyword">int</span> modCount = <span class="number">0</span></span><br></pre></td></tr></table></figure>

<h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><ol>
<li>每次put、remove、update都会更改modeCount</li>
<li>每次使用迭代器.next都会使用checkForComodification()检错</li>
</ol>
<h4 id="避免Fail-Fast"><a href="#避免Fail-Fast" class="headerlink" title="避免Fail-Fast"></a>避免Fail-Fast</h4><ol>
<li>加上同步锁(synchronized)</li>
<li>使用juc中的集合类</li>
<li>使用迭代器的remove方法</li>
</ol>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/08/java/java%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/JUtil/%E9%9B%86%E5%90%88/%E9%9B%86%E5%90%88UML/</url>
    <content><![CDATA[<h3 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h3><p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/Collection.png" alt="Collection"></p>
<h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/Map.png" alt="Map"></p>
]]></content>
  </entry>
  <entry>
    <title>文件组件</title>
    <url>/2022/03/08/java/java%E7%BB%84%E4%BB%B6/%E6%96%87%E4%BB%B6/</url>
    <content><![CDATA[<h2 id="File-api"><a href="#File-api" class="headerlink" title="File  api"></a>File  api</h2><p><a href="https://blog.csdn.net/m0_37989184/article/details/93025734">参考</a></p>
<p>File类的常见方法（参考一位大牛的，不小心把链接关了）</p>
<ol>
<li><p>创建</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">createNewFile</span><span class="params">()</span></span>; <span class="comment">//创建文件</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">mkdir</span><span class="params">()</span></span>;创建文件夹</span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">mkdirs</span><span class="params">()</span></span>;创建多级文件夹。	</span><br></pre></td></tr></table></figure></li>
<li><p>删除</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">delete</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">deleteOnExit</span><span class="params">()</span></span>;在程序退出时删除文件。</span><br></pre></td></tr></table></figure></li>
</ol>
<span id="more"></span>

<ol start="3">
<li><p>判断</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">canExcute</span><span class="params">()</span></span>; 判断是否可执行</span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">exists</span><span class="params">()</span></span>; 文件事是否存在。</span><br><span class="line">isFile();文件</span><br><span class="line">isDirectory();文件夹</span><br><span class="line">isHidden();<span class="comment">//java能得到文件中的隐藏文件但是对隐藏文件时不能访问的</span></span><br><span class="line">isAbsolute();<span class="comment">//绝对路径即时不存在也能得到。</span></span><br><span class="line"><span class="number">4.</span>获取信息。</span><br><span class="line">getName();</span><br><span class="line">getPath();</span><br><span class="line">getParent();</span><br></pre></td></tr></table></figure></li>
<li><p>三种文件创建方式</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">File file = <span class="keyword">new</span> File(<span class="string">&quot;E:/...&quot;</span>);<span class="comment">//文件/文件夹路径对象</span></span><br><span class="line">File file = <span class="keyword">new</span> File(<span class="string">&quot;...&quot;</span> ,<span class="string">&quot;&quot;</span>...);<span class="comment">//父目录绝对路径 + 子目录名称</span></span><br><span class="line">File file = <span class="keyword">new</span> File(<span class="string">&quot;...&quot;</span>,<span class="string">&quot;...&quot;</span>);<span class="comment">//父目录File对象 + 子目录名称</span></span><br><span class="line">file.exists():判断文件/文件夹是否存在</span><br><span class="line">file.delete():删除文件/文件夹</span><br><span class="line">file.isFile():判读是否为文件</span><br><span class="line">file.createNewFile():创建文件</span><br><span class="line">file.getAbsolutePath():得到文件/文件夹的绝对路径</span><br><span class="line">file.getName():得到文件/文件夹的名字</span><br></pre></td></tr></table></figure></li>
</ol>
<p>​            </p>
<h3 id="Dir"><a href="#Dir" class="headerlink" title="Dir"></a>Dir</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">file.mkdir():创建文件夹(仅限一级目录)</span><br><span class="line">file.mkdirs():创建多及目录文件夹(包括但不限一级目录)</span><br><span class="line">file.isDirectory():判读是否为目录</span><br><span class="line">String[] gdir.list():得到目录的子目录\文件的名称(不是绝对路径)</span><br><span class="line">File[] dir.listFiles():得到目录的子目录\文件事是否存在。</span><br><span class="line">file.getParent():得到父目录的绝对路径String 不可以调用可以调用mkdir()方法</span><br><span class="line">file.getParentFile()：得到父目录的绝对路径的返回值是File型可以调用mkdir()方法</span><br></pre></td></tr></table></figure>

<h3 id="Path"><a href="#Path" class="headerlink" title="Path"></a>Path</h3><ol>
<li><p>分隔符问题</p>
<blockquote>
<p>windows下路径分割符为\ </p>
<p>但是需要写成一对\防止转义，打印还是打印一个。使用/也能创建文件</p>
<p>linux下是/</p>
</blockquote>
</li>
<li><p>spring—properies的classpath使用</p>
</li>
<li><p>路径</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.getProperty(<span class="string">&quot;user.dir&quot;</span>)<span class="comment">//获取project路径，未编译阶段的路径</span></span><br><span class="line">Constant.class.getResource(<span class="string">&quot;/&quot;</span>)<span class="comment">//project根路径(classes路径) </span></span><br><span class="line"> <span class="comment">//注意，这个方法获取的path的分隔符是/.   </span></span><br><span class="line"><span class="comment">// linux: file:/root/   windows: file:/D:/project/get-words/target/classes/ </span></span><br><span class="line">PathUtils.class.getName() <span class="comment">//获取类名，包括package</span></span><br><span class="line"><span class="keyword">new</span> File(PathUtils.class.getResource(<span class="string">&quot;&quot;</span>).getPath()) <span class="comment">//当前Class绝对路径,</span></span><br></pre></td></tr></table></figure></li>
<li><p>spring通过路径读取自定义配置(为解决windows,linux绝对路径问题)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String basePath=classesFilePath.substring(classesFilePath.contains(<span class="string">&quot;/&quot;</span>)?classesFilePath.indexOf(<span class="string">&quot;/&quot;</span>):classesFilePath.indexOf(<span class="string">&quot;\\&quot;</span>));</span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String basePath=classesFilePath.substring(<span class="number">5</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>rescource路径下的文件是项目编写阶段创建写出的，项目成jar包就没有rescource路径了。</p>
</li>
<li><p>rescource资源文件读取</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="module-access"><span class="module"><span class="identifier">Constant</span>.</span></span><span class="keyword">class</span>.get<span class="constructor">ClassLoader()</span>.get<span class="constructor">Resource(<span class="string">&quot;/txt/words.txt&quot;</span>)</span>;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="FileStream"><a href="#FileStream" class="headerlink" title="FileStream"></a>FileStream</h3><ol>
<li><p>input</p>
<ol>
<li><p>获得输出流</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">InputStream stream=<span class="keyword">new</span> FileInputStream(<span class="keyword">new</span> File(filePath));<span class="comment">//通过file</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>读取</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">byte</span>[]bytes=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">20</span>];</span><br><span class="line">stream.read(bytes);<span class="comment">//读文件</span></span><br><span class="line">String content =<span class="keyword">new</span> String(bytes);<span class="comment">//转换</span></span><br><span class="line">stream.close();<span class="comment">//关闭</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>output</p>
<ol>
<li>获取</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">FileOutputStream outputStream=<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;C:\\Users\\22453\\Desktop\\test.txt&quot;</span>); <span class="comment">//获得输出地址</span></span><br><span class="line">ObjectOutputStream outputStream1=<span class="keyword">new</span> ObjectOutputStream(outputStream);<span class="comment">//objectOut</span></span><br><span class="line">bf = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">&quot;C:\\Users\\22453\\Desktop\\test.txt&quot;</span>);</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>写入</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">outputStream1.writeObject(s);<span class="comment">//写入obj</span></span><br><span class="line">bf.write(<span class="string">&quot;csa&quot;</span>);</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h3 id="jar包资源文件读取问题"><a href="#jar包资源文件读取问题" class="headerlink" title="jar包资源文件读取问题"></a>jar包资源文件读取问题</h3><blockquote>
<p>基于inputstream的读取</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(getResources(<span class="string">&quot;txt/words&quot;</span>+i+<span class="string">&quot;.txt&quot;</span>), <span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> InputStream <span class="title">getResources</span><span class="params">(String path)</span> </span></span><br><span class="line"><span class="function">	return <span class="title">getClass</span><span class="params">()</span>.<span class="title">getClassLoader</span><span class="params">()</span>.<span class="title">getResourceAsStream</span><span class="params">(path)</span></span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="文件下载"><a href="#文件下载" class="headerlink" title="文件下载"></a>文件下载</h2><h3 id="response"><a href="#response" class="headerlink" title="response"></a>response</h3><ol>
<li><a href="https://blog.csdn.net/qq_37651267/article/details/91380351">content-type对应</a></li>
<li></li>
</ol>
<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><ol>
<li>后端通过response下载文件，这个controller就得返回void</li>
<li>post请求不能下载文件，对于需要上传一个body的下载请求，需要拆分成一个post请求得到文件地址，然后在发送一个get请求。</li>
<li></li>
</ol>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAYAAAByNR6YAAAAAXNSR0IArs4c6QAAIABJREFUeF7t3Q+cXFV99/HfuXdmd0J2NxAM/5HwxwdtNOzOndm4PBUXBVo1tiIioTVitWhL0SpRHv+gVcACogItSq1otaDRamstWFuLJZZqgJ07uwlNUf6G8kcQwc1uyM7uzD3nef32uZNnsu4uM9mb7MzuZ16vvirZM2fOfZ8zM98599xzjfBAAAEEEEAAAQQQSFTAJFoblSGAAAIIIIAAAggIAYtBgAACCCCAAAIIJCxAwEoYVKvr7+9PjY6OtoVhuGsvqzf5fP5Ya+2Tc6hjL196z6f19vYe/NrXvvZXH//4x20iFVIJAggggAACi0BgxoB1wgkntC9ZsuSAmQystc9t27ZtYurfzz77bP/ee+99QVtb23JjzBIR2VUul5898cQTn/nWt74VBUHwMhF5t3PO9zzvy4VC4ccLxVmP/f7771+TSqU+aq1daq1969DQ0PZGji8Ighc65zYaY3qMMe8qFAo39/b2royi6KDnqeencRgz3d3dx6RSqZWNvK5zrhJF0X8NDQ0NV5+3atWqjiVLlvzAOXeCtfYC3/fLU+u01t5njHlA/72zs9MfGRm5xRhzmjHmtYVC4fuNtIGyrSvgRMzmvr6DxsfGupI4ijZjnMlMjJ68eduzSdRHHQgggMD+FpgxYGWz2d/2PO9S51zbdI3yff/dd9999x01fzNBEPQaYz6iX8gislxEJgOWiOiH5E2dnZ2fHh0dfYWI/KOItDnn3lYsFr+5vw96X72eBqwHH3zwo8aYD2uANMbctGPHjnc98MAD4/W+5urVq5e2tbX9rXPujSJSFJG1InKJiLxltjqcc68oFotbRcQLgkDLf6Le14zLjYjIG8IwvL36vDVr1vxGpVK52zm3RUTu0cA3TZ2fds4d6nneUmPMB6Io+gIBq0H5BVD8R7nsn4i4dxkjnQkdjhMno+LJDdEBy248ddOmynT1BkFwuDFm/djY2LW1P/iy2ax+zkixWKz9jEqoaVSDAAIIPL/AbAHrHGPMV0QkM101tTMUOtvV1dX1VmPM1SKybIaXvVFELhCR35yvgPWyl73soPb29lOcc69zzv2kWCzq8SX6OPHEEzs7Ojr+SkTOFZlc43Z+GIZ/IyLRbC8UBMEHReStIvIzz/NuiqLo68aYdmPMxc6540Tk96Z5fkpEJmcZfd/vvvvuuzUIedls9oPGmP/T4IHt9Dzv9wYGBn4UP89ks9nzjTF6LJ8SEZ2J+6iIHC4i94vIE3E5DctvF5EDnXO/LSJ/QcBqUL6Fi+vM1X/kshcY467fF4dhRHY5537vlMLQd6erP5fLvUbHXqFQ2BgEwRuMMYeOjY19rb29/XQt39XVdcvIyMjFnud9v1AoDHZ3dx/oed73jDF6ynuP0GaM8fQHped5Zw4MDDy5L46HOhFAYPEI1BOwfOfctZ7n7XEqzxhzl34I6azNQw89pMHpyvjLXmdrNnqe9w/OudH43/qdc+0i8v75DFj5fP63rbX/rMHHOfeuYrH41/uiq4MgeIGIfF1E9EP+ZyLyujAMH5zttXK53FXOuYtFZEhEXuuc05mgirVW7R+fIbj+bw00UwKWnHTSSUemUqlDGzk2z/Os53kP3XXXXTqTJUEQaHC7WUTOcM6t6+rqum10dPSrIvJ6Y8xbC4XCt7WcfmH5vq+zXssJWI2IL4yyP+nrW14ulzYZI3rqfx89zD2nDBRXT6181apVbZlMRn+8/IaI/MIY8+n4fVK21npa3vO8nSLS6/v+X+rYJmDtoy6iWgQQ+DWBegKWzHYqL5fLneic+1cROUZEdjrnNnR1dX1505QpfQ1i8RqsU2tnsMbHx7+zZMmSY40xB4vIjqVLlz64adOmUm1L9bRZKpU63Pf9g6IoykRR9GylUnlk27Zt+uE5+QiCIO153mHlctlva2sbPeCAA3aMjo4e43leRut87rnnVojIadbaL8dP+XAURRuttbu2bt36tIg4XZw+PDx8lO/7h+ovWeecho0nBgcHf6l/b2T8BEEwOVPnnDvIGPPnYRj+mYjMuFC8NmBFUXSq7/vPhWH4a2ueatugv96dcxoYa2ewGmnmjGWDIDheRH4oIrr26w2lUmlLJpO5TUROFJEvicgj+mTn3KAx5jMErETYW66S27u7V/ppowG7oTV/jR7oKQODUz+r9EKQV+mp8Y6Ojsv18yZeM5iLx6W+/8QY02mtvau9vX3T5s2bn41/EOjM9ReNMc9NaUdaP+s8z9vADFajPUR5BBCYKjDngJXNZi80xlyrPxZFRL9oPzxbMAiCYHfA0jU91tpuY4yeTtOANWyMubVSqVxUXWydz+dPsdZ+Mv4A13VdOhP2rHOu4Pv+hQMDAw/pQfX09Bzj+/5G55yuyfiic+5XIqKn3X6ZSqXWVSoVPdX1UhE5JEZ4RkRGjTHfcs59pFQqdWYymaviWScto2vPdAbuW21tbX+6efPmsUaGj64B8TxPA5a2+VljzCsLhcJ/zVTH1IBVu9h8lufsEbCiKNKZrg9VTxs20t6asvfu2LHjCwceeOCbnXNfFBGdkXyDiPxcRP5NRI6qrdcY8w7n3LsJWHup3eJPm6+A1d/fnxkZGbnEGHO0iLwwnsH6inPuT6y11/i+P3lKXmeyPM/T9Yvf0osu9EfUjh07un3f75iBftfY2NjQdBfwtHhX0XwEENjPAvUELA1OVxoz+St18qG//JYuXTq4adMmm8vlvu6cO0dENND8ThiG/znbMdQELD0FdZ+unxARDTv6Ianrt3YZY86rnoLKZrNvjtd2/dw5V9J1SSKySi9a00XkHR0db9dfr/l8/jhrrbZR67ndObfKGKMfog/6vv+mKIpumClgjY2NXZLJZC7RoGWMKRtj7tGrJOPX+qmI/EmD2yV4uVzuCufcB+J1WGr218PDw++ZacF7EgGrXC4Pe553l4g0dHpwSmC6xfO8P4ii6Gsi8lsiMrn43RhzlLVWf/X/zDl3p66zEpHjNBw753S9F6cI9/Obtxlebr4CVvXYc7lcj3PuVWEYfqa3t/ekKIou1LWeNT/yJi/68Dxv0Fqrs+1nGmOOMcY86JzTGWU9na8PnaXWh6531B8T95RKpffVzpI3gzdtQACB1hGoJ2BNt8j9XhHpa2trm5iYmNDTg3rFzqP6QVcsFicv2Z/pUROwupxzA57nvd3zvJ9ba3Xh+edEpEPDSKFQmLxiTYOTXo2YSqUe2rx5c6mvry8zMTFxmYhsMMY8FUXRmsHBwUdqA1b8wflXzrmbfd8vpdPpn1YqFf0gnfYU4fLly3eNjIzcbozJGWN+EkXRGwYHB59+zWte0/6LX/xieRiGT812em/qsZ500kmrUqnUf8RXUlb//HNjzOt0oe10Ns0UsETkL621ut2ChtkRY8w655yus1urVzeOjIz887Jly3TR8W8ZY3SNli6CJ2C1zvs+sZY2YcD6vnNOtw6ZPKXvnDNxoLpAZ7Dy+fxh1trvGGMmpgtYzrkO3/fPqc6MJwZFRQggsOgE6glY+iWrv+5q1ys8lEqlznzqqacmDj744O+JyKtE5LEoil41NDSkV5jVE7A6nHPvKRaLGqomT/F5nqczUMfqIvkwDKtXzem+Tsv0Q1LXYFlr9fTdG40xOmu2e+3RlBmswbgtu/d00rK1a5ZqF7nrYtklS5Z82zn3+ngd2aejKPon/aDeunXr1HUasw6Svr6+JRMTE7rw/A+1Lr0Czzn3PmOMrmX66jPPPPNH27dv32ONWdy23YvcdQ3W3pwijK8irLZPf7kf2tnZ+bTO8OkaNRH5fNyuyYAchuEOPdUyOjoa1Z7WDYIgKyJ6ebv+wnfOuRuMMRuUW8OXBmDnnF49uMQY81vOuZsIWIvus2PygOcrYMWb+b5XPwd0naNeTOKc+7Yx5uTpZrCMMQM1Aesz8RXSZedcda3W5My77l3n+/7lBKzFOZ45agSSFKgnYOkvwPdXKpVbqy+cTqej173udY9v2rTJGxkZ+XtjzO/oAnWd3SgWi/9eZ8DaYx+s+JflpngR9e6AFQTBGfGeTrq4Wk8hTl4dVH1UtyeYMoN1fbFY1HVBezxmClhaSPf9MsboVXO6Fkwfw865ez3P+3ChUNCtC+pa5J7NZnVWZ2O8OPzGiYmJi9va2vRKp991zo0bYy4Mw1AX2u+x4D2JGazagKWL1J1zf6ubgFprP+Z5nm6rsEfAcs4d4XneVdbafy0Wi/q3yWPUqyCNMV9yzqn1K0Xkz0VEr3DUU676b/8jIkc7537s+/46a61uKMoMVpLvzBapa74CVpVnmlOEs85gxT+muqvrFKcJWKWurq6hqRfatEh30EwEEGgigXoC1qxXEQZB8DER0Svk9Iv3i52dne+Z7cOpdpF77dWJ0wWsl7/85SvL5bLOpOjC6k3OuasmJiYG29vbzxKRyZmv6QKWMeZThULh1/aBmi1g6VqpbDb7Mg1Uzjn9ANZTkzrrc38URWfUsyN7b2/vsVEU6akzvWR99ynBIAjWiIjO9Gl4e0jXgcSbgu4eCkkGrHi2Svcke0+8yevZIqK/0HcHrHK53J9Opz8clxlzzr3l+OOP/ye90jO+/L1XRN4mImd7nvfGKIqO9zzvPufcdfFaNh07n4qi6Eq2aWiid/R+bkqzBKxUKvVFvWDGWrt+phmsUqlUbG9v17WYtXdFmLoGqyr4h8+3tcp+publEECgxQTmHLB6e3tzURRpeDhEZ2h0X6ZKpfKJ2lNr+oXvnHvJ8ccfv+2hhx46ZbqNRqcLWNls9i26kF1NnXN9xWLxznjfLQ11+n97HbCMMRcVCgW9+nHqzNTkqTXdIFREPiIiY57n/W7NBpzTdvHJJ598yPj4uLZVZ9y0vVePj49fEl+NpIve3++cu1xEUs65zb7vn1V7KXiCAUuD4u/rabx4J/2/7OzsvFhPA06dwWpra/MnJia+EV85+ZDv+2+szoLFIUtD7Jt1kXtnZ+cdmzZtinp6el7ueZ6GSN0E9U2VSmWAgNVi7/oEmzvfAUuv1jXG6DjVU9a6xECXFuxe5K6nEnfu3Kl7yX0ziiLdlLRvyuHPFLAeYJF7ggOFqhBYhALPG7DinY3/0zn38BSfOzs7O2987LHH/K6uriv01Fc846PFHjLG6Bqmx5xzv2GM+V0R+c5sO7lPF7ByuZxeoaYbdurjSmutno7UK9d0jdPklXKNzGDl8/lXRlH077pjs4jolXCXxovzHxWRPxURPb2pVyuqiwaLjxljdG+vtRruZhofPT09KzzP07Cm203o40dRFJ1Zu45q9erVh6TT6X8QEd0cVAPYD40xbw/DUE+36fqwRNZgxfd61C+b4+KtLF6vQW6mNVi5XK7XOaftOtIY8y/OufVhGP6ypvxkwNJb6MT/prfg0dOFW8rl8muWLFlSKpfL3/A8T3fIflulUvkcO7kvnk+S+dxoVJXz+Xy3fkYVCoW7473bzuzs7Lx2fHy8a3x8/Np4G4dHyuXynzS6nnLx9CJHigAC+0LgeQPWTLfKEZHJW9/o4uj49jDvExE9LTfTDaJnvVXOdAFr9erVR6XTaQ09L4pvNaP3NdRF56Hujt5owIo3GdT1Qi+vwdR26d5RetWfbpaoC/rVRQOcniL8eiqV+uPqDudTOyFenK9rqnR/L33etKcA41OQeqrwn4wxuumpzijdGZ8mfWAvApbJ5XJv0XVWVQdjzMMadowxesuaZ3T7jOqaOA1Hetsb55ze1mb3Ivc4NOkC9iviBe2f7+rqen/NjNdkwDruuOP+4+GHH36b7uofX+n5R4VCQffJ0p3jD29ra9P1eMNLly79BwLWvnirNmed832rnOZUoVUIIIDA/wsE0z7itVK6Uee0N3vWNUX6S7Fmx3avu7s7SKVS77HW6izT0jhEaCD6qed51w0MDPx3LpfTX5yTp8p0Vqp6c+G+vr7lNb84fxiGoZbRBdd6RZvONB2pV+V5nne9tVZPReqMkz4m10roTV9FRL/8DzHGfKNQKHxhugPL5XIvdc5pmDjSOVcxxnyzXC7/VTqd1tOBekWRLuTW04Z6BeLfl0qlG2fadLCnp0cXievi/574tX6h9+ULw1B3V592UXxPT8+5nufppqdd8XO+u3PnzvWdnZ26D9fkrXKmu4ow3qVaN/+srh/RBf96GvMwESmlUqlgYmJCN2rVq/w0YF2RyWSuK5VKei9DnbHr0v3FdP8wERnMZDKv/PGPf6wbqYrW3d7e/ncistrzvL/o6Oj4i9qAZa1dp/d4M8Z81jm3zPO8b3V0dLxN19rpKZiRkRG9QEAvQtA1ZtovB+htc4rFom7hwWMRCMzXzZ4XAS2HiAACLSowY8Caw/GYVatWpdPp9AHt7e12yZIlu6beNqfRuuNLspeWSqWxJHZYjtdxdZTL5crWrVt1VmwyDFVfJ5VKuRe+8IXP6YLv2dqqWzKMj49/whjzXt1o1RjztkKhoKFixlvi6I2xly1bpjN9eqrtXyuVyju2bNny+PPNYMUBS3ed1/A09XFrZ2fn2Rp4tFwmkzm5VCr9ZNu2bc8FQaBrsXTLiOpDj/WaMAz1vpC7Q2B81WFbsVjUjVVd7SnCeLd2DU4aQEPP895ccxn75EaO8fFUX+OxdDr9ijvvvFNvEM1jEQjoTNbmvr6DxsfGqj8c5nTUbcY4k5kYPXnztmfnVBFPRgABBOZJYF8ErHk6lPl52fj06JXOub8vFou6yPZ5t3OIg9z5URTdVt03LAgC3chTF+jeXyqV3j11B+mPf/zj3i233KLr3PQUn+4Mr/tT6X5aelrwI1u3bp26Rm4SJJvNnmOMqW5ZoW0LS6XSpdu2zf7FFS8O1uCkN6zW0787rLU6G3apbuxaqx1vpTF50YGWE5FPV2cm56dXeFUEEEAAAQTmV4CAlYC/zvY8342Zp3kZtd8dxuJZNa+zs9PNNOOnM2Y7d+6c3Fnf9303PDxc2r59u54unS3U6QyTbhAqs9U9HYPOhqXT6VR84+lKf3+/P0Pbdr9GGIaVekJmAuxUgQACCCCAQNMKELCatmtoGAIIIIAAAgi0qgABq1V7jnYjgAACCCCAQNMKELCatmtoGAIIIIAAAgi0qgABq1V7jnYjgAACCCCAQNMKELCatmtoGAIIIIAAAgi0qgABq1V7jnYjgAACCCCAQNMKELCatmtoGAIIIIAAAgi0qgABq1V7jnYjgAACCCCAQNMKELCatmtoGAIIIIAAAgi0qgABq1V7jnYjgAACCCCAQNMKELCatmtoGAIIIIAAAgi0qgABq1V7jnYjgAACCCCAQNMKELCatmtoGAIIIIAAAgi0qgABq1V7jnYjgAACCCCAQNMKELCatmtoGAIIIIAAAgi0qgABq1V7jnYjgAACCCCAQNMKELCatmtoGAIIIIAAAgi0qgABq1V7jnYjgAACCCCAQNMKELCatmtoGAIIIIAAAgi0qgABq1V7jnYjgAACCCCAQNMKELCatmtoGAIIIIAAAgi0qgABq1V7jnYjgAACCCCAQNMKELCatmtoGAIIIIAAAgi0qgABq1V7jnYjgAACCCCAQNMKELCatmtoGAIIIIAAAgi0qgABq1V7jnYjgAACCCCAQNMKELCatmtoGAIIIIAAAgi0qgABq1V7jnYjgAACCCCAQNMKELCatmtoGAIIIIAAAgi0qgABq1V7jnYjgAACCCCAQNMKELCatmtoGAIIIIAAAgi0qgABq1V7jnYjgAACCCCAQNMKtETAyufzh1lrbxWRm8IwvE418/n80dbaq5xzR+h/G2MuCsNwUERc02rTMAQQQAABBBBYFAJNH7D6+/tTo6Ojl4nIB0XkvRqwVq1a1ZbJZK42xtxaKBRuC4KgV0SuqFQq67ds2fL4oug5DhIBBBBAAAEEmlag6QNWPp/PW2vfJyI7ROSnGrCy2exLjDHXW2vXDQ4OPh0HrptF5MYwDH/QtNo0DAEEEEAAAQQWhUBTB6zVq1cvTafTX/Q87xrn3Jucc09owAqC4DxjzFnOuXVhGO7Snsrlcp91zt0fhuENi6LnOEgEEEAAAQQQaFqBpg1Y8azUJcYY29HRcfnOnTs/WQ1Y2Wz2ncaYvIhcEIZhOQ5Yuh5rMoA1rTYNQwABBBBAAIFFIdC0ASuXy50rIqeNjY396bZt23bmcrndAUoDlud5Z6TT6fWbN28e057K5/OXOefuKxQKN83Wc0EQvH9iYuJL99xzz68WRQ9zkAgggAACCCCw3wWaMmDFs1dXiEi2RuR4ERkXkU26uN05d0GpVDpLw5eIeLlc7kpr7R3FYvEWfU53d/dK3/c3OucOq1Vdvnz5URs2bHhyxYoVlf2uzQsigAACCCCwSAVyudyxi+nQmzJgTdcBtTNYa9asObRSqWz0PO+8gYGBR4MgOFxEvmqtPX9wcPARfX5/f39meHh4j3Cl/97W1nbH6aeffu7atWsfW0wdzbEigAACCCAwnwJ9fX3b5/P19/drt2TAUqR8Pn+OtfY059xGY8wZInJvGIZ6etDOhpjNZh+21p46NDS0qDp6fw8sXg8BBBBAAIHFLNAyASufzx/ned7EXXfdNTnzpPtj7dixo9v3/Q5r7VPFYvHeejqSgFWPEmUQQAABBBBAYC4CLROw5nKQtc8lYCUlST0IIIAAAgggMJMAAYuxgQACCCCAAAIIJCxAwEoYlOoQQAABBBBAAAECFmMAAQQQQAABBBBIWICAlTAo1SGAAAIIIIAAAgQsxgACCCCAAAIIIJCwAAErYVCqQwABBBBAAAEECFiMAQQQQAABBBBAIGEBAlbCoFSHAAIIIIAAAggQsBgDCCCAAAIIIIBAwgIErIRBqQ4BBBBAAAEEECBgMQYQQAABBBBAAIGEBQhYCYNSHQIIIIAAAgggQMBiDCCAAAIIIIAAAgkLELASBqU6BBBAAAEEEECAgMUYQAABBBBAAAEEEhYgYCUMSnUIIIAAAggggAABizGAAAIIIIAAAggkLEDAShiU6hBAAAEEEEAAAQIWYwABBBBAAAEEEEhYgICVMCjVIYAAAggggAACBCzGAAIIIIAAAgggkLAAASthUKpDAAEEEEAAAQQIWIwBBBBAAAEEEEAgYQECVsKgVIcAAggggAACCBCwGAMIIIAAAggggEDCAgSshEGpDgEEEEAAAQQQIGAxBhBAAAEEEEAAgYQFCFgJg1IdAggggAACCCBAwGIMIIAAAggggAACCQsQsBIGpToEEEAAAQQQQICAxRhAAAEEEEAAAQQSFiBgJQxKdQgggAACCCCAAAGLMYAAAggggAACCCQsQMBKGJTqEEAAAQQQQAABAhZjAAEEEEAAAQQQSFiAgJUwKNUhgAACCCCAAAIELMYAAggggAACCCCQsAABK2FQqkMAAQQQQAABBAhYjAEEEEAAAQQQQCBhAQJWwqBUhwACCCCAAAIIELAYAwgggAACCCCAQMICBKyEQakOAQQQQAABBBAgYDEGEEAAAQQQQACBhAUIWAmDUh0CCCCAAAIIIEDAYgwggAACCCCAAAIJCxCwEgalOgQQQAABBBBAgIDFGEAAAQQQQAABBBIWIGAlDEp1CCCAAAIIIIAAAYsxgAACCCCAAAIIJCxAwEoYlOoQQAABBBBAAAECFmMAAQQQQAABBBBIWICAlTAo1SGAAAIIIIAAAgQsxgACCCCAAAIIIJCwAAErYVCqQwABBBBAAAEECFiMAQQQQAABBBBAIGEBAlbCoFSHAAIIIIAAAggQsBgDCCCAAAIIIIBAwgIErIRBqQ4BBBBAAAEEECBgMQYQQAABBBBAAIGEBZo5YPm5XC5wzn1YRJaJyLCIvD8MwwfVIJ/PH22tvco5d4T+tzHmojAMB0XEzWaUzWYfttaeOjQ0tD1hS6pDAAEEEEAAAQQmBZo6YPX09Bw1ODj4qIjYIAguEJEXh2H4nlWrVrVlMpmrjTG3FgqF24Ig6BWRKyqVyvotW7Y8TsBidCOAAAIIIIDAfAo0c8DawyUIgjNEZK0GrGw2+xJjzPXW2nWDg4NPx4HrZhG5MQzDHxCw5nNI8doIIIAAAggg0BIBa/Xq1UvT6fRfG2O+UigU/i0IgvOMMWc559aFYbhLuzGXy33WOXd/GIY3ELAY2AgggAACCCAwnwJNHbCCIDheZ6WMMZ4x5jrP8+6+6667Hstms+80xuRF5IIwDMtxwNL1WE+EYXgdAWs+hxSvjQACCCCAAAJNHbBqusfL5XJn6oxVuVx+WyqV+n3P885Ip9PrN2/ePKbl8vn8Zc65+wqFwk0ELAY2AggggAACCMynQKsELA1QhznnvhFF0XmpVOoEa+3FpVLprG3btu0UEQ1gV1pr7ygWi7coaHd390rf9zc65w6rBV6+fPlRGzZseHLFihWV+YTntRFAAAEEEFhMArlc7tjFdLytFLBWRVH0uVQqdZYxJlWpVDZ6nnfewMDAo0EQHC4iX7XWnj84OPiIdmB/f39meHh4j3Cl/97W1nbH6aeffu7atWsfW0wdzbEigAACCCAwnwJ9fX2Lanukpg1Y3d3dL0qlUq8QkYd0QDjn3mKM+ZdCofDt+JTgOdba05xzG40xeoXhvWEY6ulByynC+XwL8doIIIAAAggg0LQBS/fo6u7uPiaVSq3UbqpUKtuHhoZ0dmpyI9H+/v7Ujh07un3f77DWPlUsFu+tpzvZaLQeJcoggAACCCCAwFwEmjlgzeW4ZnwuAWufsFIpAggggAACCNQIELAYDggggAACCCCAQMICBKyEQakOAQQQQAABBBAgYDEGEEAAAQQQQACBhAUIWAmDUh0CCCCAAAIIIEDAYgwggAACCCCAAAIJCxCwEgalOgQQQAABBBBAgIDFGEAAAQQQQAABBBIWIGAlDEp1CCCAAAIIIIAAAYsxgAACCCCAAAIIJCxAwEoYlOoQQAABBBBAAAECFmMAAQQQQAB6F1A6AAAgAElEQVQBBBBIWICAlTAo1SGAAAIIIIAAAgQsxgACCCCAAAIIIJCwAAErYVCqQwABBBBAAAEECFiMAQQQQAABBBBAIGEBAlbCoFSHAAIIIIAAAggQsBgDCCCAAAIIIIBAwgIErIRBqQ4BBBBAAAEEECBgMQYQQAABBBBAAIGEBQhYCYNSHQIIIIAAAgggQMBiDCCAAAIIIIAAAgkLELASBqU6BBBAAAEEEECAgMUYQAABBBBAAAEEEhYgYCUMSnUIIIAAAggggAABizGAAAIIIIAAAggkLEDAShiU6hBAAAEEEEAAAQIWYwABBBBAAAEEEEhYgICVMCjVIYAAAggggAACBCzGAAIIIIAAAgggkLAAASthUKpDAAEEEEAAAQQIWIwBBBBAAAEEEEAgYQECVsKgVIcAAggggAACCBCwGAMIIIAAAggggEDCAgSshEGpDgEEEEAAAQQQIGAxBhBAAAEEEEAAgYQFCFgJg1IdAggggAACCCBAwGIMIIAAAggggAACCQsQsBIGpToEEEAAAQQQQICAxRhAAAEEEEAAAQQSFiBgJQxKdQgggAACCCCAAAGLMYAAAggggAACCCQsQMBKGJTqEEAAAQQQQAABAhZjAAEEEEAAAQQQSFiAgJUwKNUhgAACCCCAAAIELMYAAggggAACCCCQsAABK2FQqkMAAQQQQAABBAhYjAEEEEAAAQQQQCBhAQJWwqBUhwACCCCAAAIIELAYAwgggAACCCCAQMICBKyEQakOAQQQQAABBBAgYDEGEEAAAQQQQACBhAUIWAmDUh0CCCCAAAIIIEDAYgwggAACCCCAAAIJCxCwEgalOgQQQAABBBBAgIDFGEAAAQQQQAABBBIWIGAlDEp1CCCAAAIIIIAAAYsxgAACCCCAAAIIJCxAwEoYlOoQQAABBBBAAAECFmMAAQQQQAABBBBIWKBpA1Z/f3/queeeW2+tfbuIVETEeZ73fwYGBgbUIJ/PH22tvco5d4T+tzHmojAMB7XcbEbZbPZha+2pQ0ND2xO2pDoEEEAAAQQQQGBSoJkDVmZkZGRVV1fXlk2bNlWCIPhNY8wnS6XSm51zv8pkMlcbY24tFAq3BUHQKyJXVCqV9Vu2bHmcgMXoRgABBBBAAIH5FGjagDUVJZ/PH+ac+0YURecZYw4wxlxvrV03ODj49KpVq9oymczNInJjGIY/IGDN55DitRFAAAEEEECglQLWqiiKPpdKpc6KomitMeYs59y6MAx3aTfmcrnPOufuD8PwBgIWAxsBBBBAAAEE5lOgFQKW6e7uPsbzvM8bY34YhuFnstnsO40xeRG5IAzDchywdD3WE2EYXkfAms8hxWsjgAACCCCAQNMHrGw2+ypjjM5K/UOpVPrktm3bdmrA8jzvjHQ6vX7z5s1j2o35fP4y59x9hULhJgIWAxsBBBBAAAEE5lOgmQOWHwTB63VdlXPugmKx+HdVqHw+/2pr7cWlUuksDVwi4uVyuSuttXcUi8VbtFx3d/dK3/c3OucOqwVevnz5URs2bHhyxYoVemUiDwQQQAABBBDYDwK5XO7Y/fAyTfMSTRuw1qxZc1SlUvmGtfbjg4ODt4tIVFVbs2bNoZVKZaPneecNDAw8GgTB4SLyVWvt+YODg49ouf7+/szw8PAe4Ur/va2t7Y7TTz/93LVr1z7WNL1AQxBAAAEEEFjgAn19fYtqe6SmDVj5fD5vrb3MGPMZEZlcZ6UP59zPwjD8eT6fP8dae5pzbqMx5gwRuTcMQz09aGcbo+yDtcDfwRweAggggAACTSDQtAGru7v7QN/3X2qMSdU6VQOWbkS6Y8eObt/3O6y1TxWLxXvr8SRg1aNEGQQQQAABBBCYi0DTBqy5HBQzWPtKj3oRQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaECBgNYBFUQQQQAABBBBAoB4BAlY9SpRBAAEEEEAAAQQaEGj6gJXNZl9ijHmHiIyEYXi5iFg9vnw+f7S19irn3BH638aYi8IwHBQRN9vxZ7PZh621pw4NDW1vwImiCCCAAAIIIIBA3QJNG7BWrlyZOfjggz/mnBuIA9bd1YC1atWqtkwmc7Ux5tZCoXBbEAS9InJFpVJZv2XLlscJWHX3PwURQAABBBBAYB8ING3Aqh5rEARpEfm8iDxaDVjxrNb11tp1g4ODT8eB62YRuTEMwx8QsPbBSKFKBBBAAAEEEKhboCUDVhAE5xljznLOrQvDcJcebS6X+6xz7v4wDG8gYNXd/xREAAEEEEAAgX0g0JIBK5vNvtMYkxeRC8IwLMcBS9djPRGG4XUErH0wUqgSAQQQQAABBOoWaNmA5XneGel0ev3mzZvH9Gjz+fxlzrn7CoXCTQSsuvufgggggAACCCCwDwRaMmDl8/lXW2svLpVKZ23btm2niHi5XO5Ka+0dxWLxFnXq7u5e6fv+RufcYbVuy5cvP2rDhg1PrlixorIPPKkSAQQQQAABBKYRyOVyxy4mmJYMWGvWrDm0Uqls9DzvvIGBgUeDIDhcRL5qrT1/cHDwEe3A/v7+zPDw8B7hSv+9ra3tjtNPP/3ctWvXPraYOppjRQABBBBAYD4F+vr6FtX2SC0ZsHSA5PP5c6y1pznnNhpjzhCRe8Mw1NODk/tkzfRgH6z5fHvx2ggggAACCCwOgaYPWLqHaC6X+1+VSmV8aGhIZ6cmNxLt7+9P7dixo9v3/Q5r7VPFYvHeerqMgFWPEmUQQAABBBBAYC4CrRCw5nJ8v/ZcAlainFSGAAIIIIAAAtMIELAYFggggAACCCCAQMICBKyEQakOAQQQQAABBBAgYDEGEEAAAQQQQACBhAUIWAmDUh0CCCCAAAIIIEDAYgwggAACCCCAAAIJCxCwEgalOgQQQAABBBBAgIDFGEAAAQQQQAABBBIWIGAlDEp1CCCAAAIIIIAAAYsxgAACCCCAAAIIJCxAwEoYlOoQQAABBBBAAAECFmMAAQQQQAABBBBIWICAlTAo1SGAAAIIIIAAAgQsxgACCCCAAAIIIJCwAAErYVCqQwABBBBAAAEECFiMAQQQQAABBBBAIGEBAlbCoFSHAAIIIIAAAggQsBgDCCCAAAIIIIBAwgIErIRBqQ4BBBBAAAEEECBgMQYQQAABBBBAAIGEBQhYCYNSHQIIIIAAAgggQMBiDCCAAAIIIIAAAgkLELASBqU6BBBAAAEEEECAgMUYQAABBBBAAAEEEhYgYCUMSnUIIIAAAggggAABizGAAAIIIIAAAggkLEDAShiU6hBAAAEEEEAAAQIWYwABBBBAAAEEEEhYgICVMCjVIYAAAggggAACBCzGAAIIIIAAAgggkLAAASthUKpDAAEEEEAAAQQIWIwBBBBAAAEEEEAgYQECVsKgVIcAAggggAACCBCwGAMIIIAAAggggEDCAgSshEGpDgEEEEAAAQQQIGAxBhBAAAEEEEAAgYQFCFgJg1IdAggggAACCCBAwGIMIIAAAggggAACCQsQsBIGpToEEEAAAQQQQICAxRhAAAEEEEAAAQQSFiBgJQxKdQgggAACCCCAAAGLMYAAAggggAACCCQsQMBKGJTqEEAAAQQQQAABAhZjAAEEEEAAAQQQSFiAgJUwKNUhgAACCCCAAAIELMYAAggggAACCCCQsAABK2FQqkMAAQQQQAABBAhYjAEEEEAAAQQQQCBhAQJWwqBUhwACCCCAAAIIELAYAwgggAACCCCAQMICBKyEQakOAQQQQAABBBAgYDEGEEAAAQQQQACBhAUIWAmDUh0CCCCAAAIIIEDAYgwggAACCCCAAAIJCxCwEgalOgQQQAABBBBAgIDFGEAAAQQQQAABBBIWIGAlDEp1CCCAAAIIIIAAAYsxgAACCCCAAAIIJCxAwEoYlOoQQAABBBBAAAECFmMAAQQQQAABBBBIWKBlA1Y+nz/aWnuVc+4INTHGXBSG4aCIuNmMstnsw9baU4eGhrYnbEl1CCCAAAIIIIDApEBLBqxVq1a1ZTKZq40xtxYKhduCIOgVkSsqlcr6LVu2PE7AYnQjgAACCCCAwHwKtGTAymazLzHGXG+tXTc4OPh0HLhuFpEbwzD8AQFrPocUr40AAggggAACLRmwgiA4zxhzlnNuXRiGu7Qbc7ncZ51z94dheAMBi4GNAAIIIIAAAvMp0JIBK5vNvtMYkxeRC8IwLMcBS9djPRGG4XUErPkcUrw2AggggAACCLRswPI874x0Or1+8+bNY9qN+Xz+MufcfYVC4SYCFgMbAQQQQAABBOZToCUDVj6ff7W19uJSqXTWtm3bdoqIl8vlrrTW3lEsFm9R0O7u7pW+7290zh1WBTbGZIwxh7S3t+/0PM/OJ3yrvvbY2FgXfnvfe/jtvZ0+Ez/85iYwt2cz/ubm99xzzw0vpqv4WzJgrVmz5tBKpbLR87zzBgYGHg2C4HAR+aq19vzBwcFHdAj09/dnhoeHd4cr/Tff9zVg/fDII488/5BDDnlibkNlcT57cHDwe/jtfd/jt/d2+kz88JubwNyezfibm18Yht8hYM3NcL88O5/Pn2OtPc05t9EYc4aI3BuGoZ4enHVmin2w5tY9+OE3N4G5PZvxh9/cBOb2bMYffo0ItOQMVjxDldqxY0e37/sd1tqnisXivfUcOG+QepRmLoMffnMTmNuzGX/4zU1gbs9m/OHXiEDLBqxGDrK2bBAEm6MoOped3PdOEL+9c6s+Cz/85iYwt2cz/vCbm8Dcnr3Yxt+iC1i6+P3AAw98ctOmTaW5DZXF+Wz85tbv+OE3N4G5PZvxh9/cBOb27MU2/hZdwJrb8ODZCCCAAAIIIIDA8wsQsJ7faM4lgiBYIyKv6OzsvHbTpk2V2gr7+/tTo6Oj7xWR74Rh+KD+LQiC40XkzOnK69/11kAHHHDAoXoF5Zwb12QV5PP546IoOqhYLIa1Tevp6enzPG9nGIb3zNbk7u7uF/m+f5WIHBSX+0r14ofF7DqTWS6XWy8i/1UoFPRG6dLX17e8XC6vKRQK35/6nMXop+/PkZGR9ZVK5e+2bt36XI2JFwTBeufcM8Vi8dYmexvNe3NWrlyZOfjggz8mIl+qfq7NpVFxfeeXy+Uvp9NpvTr8N6vv6/hWae8olUo3xdv2zOWlmu25k+NMRH4ahuFdtY3LZrNr9b8Zf83WZf+/PQSs/dQ38e7zt4Rh+PPalwyCIC0in/d9//q77757i/5t9erVS9va2nRn+k+FYfg/1fLxh8wpzrk/M8b86Jlnnrl0+/btC+pU5+rVqw9Jp9OfM8bcEm8a6/X09Jzqed57jTEbCoXCz+KQ2ZHJZK4RkRNiH19EXiQiX3/mmWc+Mp3LAnetfhC/rWZ8HRH/791bkjjnPlP9QI63O/nL+I4Iv9Syvb29B0dR9CW9eXoYhneLiKvWt8D9ZvwkyOVyb7LWHlUsFq9bs2bNkVEUTY45a+2hIrJBRC7V8B9fbPOz+Auxth9q6z5QRF5mjLm8o6Pj8qk/uPbTx1HiL6P3h/U8Tz12P5xzGgBebK29xvf9qPoHdfJ9/1fW2u8YYyZE5ABr7VZjjI7T3xWRZ+KyGRH5eRRFb0+lUn9mrT3bGPOw7mfonHuBiFzred6Ac26piLzDWnuz7/vP7tq1a+tCClpr1qx5UaVSubxUKr2j9rj0OyUOWH89NfiLyKIaf4kP6IQqJGAlBDlTNblc7l16z8T4778yxuiO8x8UkUP035xzxhjzv4wxjzvnvmuMeTouf4CI6G2ANugvl7gefdPc7py7qd6rJvfx4SVWfe3MkzGmwzl3pO7Mb4zxROQ34g9d/QDeZYy5pDrjUm1AEATqdYO19mPVvdBqG1fTDwvSNZfL9TjnLtcvq9kCVo3fliAI/sgYs1ODbC6Xe6eOu3g8HhOPzUeMMRqwiiKis6tnx/UvmnGpDvEPmyPDMHwom83+oYgs9TxvaOrgf76rmXUGMN5W5pZSqXTNQgoB0wWsmT4cqgHLOXfJ8PDwhuXLl7+4Uqm8RwOWMeYn1dnTnp6eYzzPu1RE/jiu60oR+ajv+yujKNIg9mnP87oXcsAKguASY8zpzrljReQ/nHO3GWPOiz32+AFljLm+UCj8/UzuC3n8JfZFlHBFBKyEQWeqrqen5yTP8/6gVCpdvG3bNv3VNvmYbgZL/33NmjVHRVH0NWPMBdba3xcRPW343uoMmM70bN269enaGYb9dCj77WVyudxrnHP5MAw1OOyxv5meuqlu06ENsta2i8iHjDH6/2tn9R4olUrvq36ZLVTXIAh0lk+/eO7UmYQoivRuBb2xzd26nUkURb/yfT/nnHvI87x7nXOfGBsb25BOp19QLpd/mclkdBbwhiiKLhgaGhqerqMXql8dP5AON8ZcbYyx1trtYRhuCoLgIv1hVCgUvvE8bwqdXXylzrgYY77W0dHx2YUyczX1uLPZ7JeNMfqDaPIWZtWHc67N87xnhoeHz37ggQfG8/n8YdbazxhjviIiL7TWnjzTDJaIvCWuR8u+VERSInJz9XPhhBNOaF+2bNnlURR9cqZxu98+tPbRC033/THDDNZ0LVg0428f8e91tQSsvaar/4nxGoE/11+vurYoXssyuYYgCAL9UtvjFGEcvC51zm0rFovfrH2l6potY8yrnXPrwzCcPLWzEB+NBixjzIXW2gunm8Gq+gRBsCBdu7u7D0yn0xldvzZbwBIRnSHd5fv+uZ7nPaYzBtbaSzKZzKVjY2MaYmcNWAvVb7b3T/z+/YSI3Oh53ilRFOmdI86omXnW23WJMeYbhULhC1Pr6u3t7Yui6G+cc+8tFos/eL7NkFv5vdxowBKRh0Rk3DmnMy/neJ5313QzWGEYjmez2WONMS91zpWstT8dGhrSu3a4hR6wpn5/VMdHvQFrMY2/ZnvvELD2cY9oINq5c6eeJvxDz/POsta+IZVKfS2KokuNMbquQNcb7A5YeoufkZGRjxpjzvI8b10URe+OouhjBx100FM6Y+N53rtEZEm5XH7XlEW3+/hI9n31umhT11nVvNLBItLpnKueqtI/7V60Xtui+BThF51z/+R53lO1f/N9/4ElS5b8cjG46ikFEXm1iDygt4VSB+ec/reuGyqWSqUP6QxqfMpUZwaWi4gG9WIQBMucc/9sjNH1Mvp/k2tgdAahs7PTLga/aUa5HwTBHzjncsYY3cz4YGvtj3zfX2GtHfd9/8B4Rut2fe4Ma5EmL3KZuhZJZxQHBwf1oo2Wvy9q/Lmln086ZmZ86JorXSOlBXzfPyCVSv1v/d/FYvG78dgdN8ZMLubWNW7GmN8RkfM9z8tba3Ume5mI6IVCu+LTZTozuMfj+U6V7ftPsuReoeb7Q4/zQ1EURalUSpeXHBCvcdNgf6u1ttTV1TU0MjJy7DRr4Rb8+EtOPNmaCFjJev5abXpLnyiKftMYc6ox5lFdazA0NHR/Pp9/vbVWP4z+sTZgZbPZT+rCUGPMS4wxw1EU6XqtAz3P+4BeSWKt/cKyZcuGFuophlrA2Waw9JSYiKhNW/wcnQk8zDn30ekCVrlc1nUcC9a15qqtvucZ0tWAqmHgDb7v/2xgYOC/NYeddNJJR/q+r8H/3WEY7qpdA+Oc+8hC9pvJrKen5zTP8/42PuV1ted545VK5RnP864QkVF9b8Z/+4WIXOmce3IxfsHFV/9eElvNOASdc28wxnw1LnCic06DvJ7a1zVtv3TOacDqc85d45zrqAYs59zq+Dkv0M9FY8xRIvIzXYu5kK8i7O3tPTOKoteJyLkisjGKoss1YFlrDzHG6EU+7TozKiJPELD28Zf5XlRPwNoLtEaeksvl1pXL5TvS6fRnROROEXmJc+59bW1tmYmJidfrVW+1Aau3t/ek8fHxX6ZSKb2SS0//Vcrl8ifa29srNdsyePl8/hXOuQOmu5y+kfY1S1n9gHbOvbC2Pc65NcaYE/XqIM/zdv/Kn24x8UyL3PXDN51OH9HW1rZsMbrOFFjz+fzLrbW6dkhPszw9Pj7+x5lMRhe3v7Wjo+O9GuDjU9m6yPh83/dftBj9NOQbYw7WL3hr7XPOuXbP8zZWtwvJ5/N/UDuDNd37Kf6h8Mb4ak29QGDBPfT9a619ZxiGH45not5UvRowvmhFA9QFIqKL2f+9GrB0FlD/d3UGy/O8Qedc4Jx7TETu8TxPA8btvu/racGpM1gf8jxPf1jpldgL8irCeFZfT+triNKxc0VXV9f9O3bseJPO6umMnnNuU7FY1O+RaWdCF8P4a9Y3FAFrP/SMnnrRtS1tbW0Xjo2NHVwulx+pLnSfbpF7XP5vUqnUe6IoOnBsbOy+avlVq1Z1tLe3X2eM0UWiHxgcHNTZh5Z/7KuApTsH+75f/eDXfliwrtOcYp06LvSU67d1cfDq1atfkEqlju7q6toSz4Z6uVzuT3Wh8cDAwN/pjJaG/SiKLiqVSufr+FuM41IBqzOpnZ2dnxodHb2qUql8asuWLY/r3whY/2+ITQ1YxpiB6o+/eBxdWE/A0ueNjY3dkclkdPuQu4wxt4+NjT3c0dExeeqxXC6fojNY5XL5vvb2ds859+KFHLD0mKt+qVTqkrGxMZdOp9+uV7Faa/XKQv0OTzvnRorFos4M/lrIImDN39cjAWs/2FcD1nRXZ80WsDzPu2BgYOBJbaJeNdjW1qa/7HTzvu+HYagzCwv6MdspwqkH3tfXt2RiYuLzInJ57caG+Xz+ZOdcb6FQuLYaEBara61nPp9faa3VdVk6q2A9z7suiqK36inseG2fyefzr3LOnVkzozUZUBebX9XNWquL3HWNm64hOiceg7rgXa+Y06sud69xqx2f2Wz2TGPMaxfrDFZs8T3dOHl0dPT9IvI9Y8yxuq7NOaf7Wp1rjNEZKz1F+IxzTrcG2Swia51z/+h5nu4PeJkucdM1cPEarB3ViwoW+iL3asDauXPnRR0dHe/3PO+/BwYGvlld5D4+Pv4VvUgl3uJCN73dI2QthvHXrF+EBKz90DOzBazpgkFtECiXy526M7lz7mhjzM3GmH8pFAr3LeTtGapd0kjA0l9y8a7k73bOTV7VpQ9jjG7Z8IFCofBfC9lVZzanbLw63cjePYOlAatSqXTqIuuXvvSlK9rb268xxuiVrnrRxbXOOV1g3BmHgskNRxey32wfAzoOdecUtTHG7Ig3wJ3cgHWmGawpa+KOMMZ8svZ5++FjZ7++RM0M1oe6u7uPWbJkycjmzZufjX8cLtXNg0XkGGPMU5VK5Y88zztc16pVKpXtejVgf39/++jo6JeMMStF5EJdW6V3FRgfH3+HztAUi8U/17riWdrhMAz/s3qAiylgLV269Niurq7/1lnn2qsI4zMbRxeLRd2I2S628bdfB3sDL0bAagBrb4vqDtjpdPp9pVLp2up+TEEQ6C/fa3XD0amXd8flP9jW1nZNuVw+2zm3It7zZW+b0JLPi28x9OLqLTHmehCL3XU6z5pbNd0x9VYcU70Xq5+6Oee69erdSqXyxdqrd+Pw9eTUjW/nOlYX2/PjhepvKpfL353t6ujqLbNKpdLDs/yg+OFC+ryc6RZV3Cqn+d8lBKzm7yNaiAACCCCAAAItJkDAarEOo7kIIIAAAggg0PwCBKzm7yNaiAACCCCAAAItJkDAarEOo7kIIIAAAggg0PwCBKzm7yNaiAACCCCAAAItJkDAarEOo7kIIIAAAggg0O9AHTAAAAJKSURBVPwCBKzm7yNaiAACCCCAAAItJkDAarEOo7kIIIAAAggg0PwCBKzm7yNaiAACCCCAAAItJkDAarEOo7kIIIAAAggg0PwCBKzm7yNaiAACCCCAAAItJkDAarEOo7kIIIAAAggg0PwCBKzm7yNaiAACCCCAAAItJkDAarEOo7kIIIAAAggg0PwCBKzm7yNaiAACCCCAAAItJkDAarEOo7kIIIAAAggg0PwCBKzm7yNaiAACCCCAAAItJkDAarEOo7kIIIAAAggg0PwCBKzm7yNaiAACCCCAAAItJkDAarEOo7kIIIAAAggg0PwCBKzm7yNaiAACCCCAAAItJkDAarEOo7kIIIAAAggg0PwCBKzm7yNaiAACCCCAAAItJkDAarEOo7kIIIAAAggg0PwCBKzm7yNaiAACCCCAAAItJkDAarEOo7kIIIAAAggg0PwCBKzm7yNaiAACCCCAAAItJkDAarEOo7kIIIAAAggg0PwCBKzm7yNaiAACCCCAAAItJkDAarEOo7kIIIAAAggg0PwCBKzm7yNaiAACCCCAAAItJkDAarEOo7kIIIAAAggg0PwCBKzm7yNaiAACCCCAAAItJkDAarEOo7kIIIAAAggg0PwCBKzm7yNaiAACCCCAAAItJkDAarEOo7kIIIAAAggg0PwCBKzm7yNaiAACCCCAAAItJkDAarEOo7kIIIAAAggg0PwCBKzm7yNaiAACCCCAAAItJkDAarEOo7kIIIAAAggg0PwCBKzm7yNaiAACCCCAAAItJvB/ASEfTY+86bepAAAAAElFTkSuQmCC" alt="bb"></p>
<p><img src="data:image/png;base64,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e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VKkeRWUAAAZnSURBVIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K0DA8rc3VIYAAggggAACgQoQsAJtHGUjgAACCCCAgL8CBCx/e0NlCCCAAAIIIBCoAAEr0MZRNgIIIIAAAgj4K/D/ADgaVVNDGVrZAAAAAElFTkSuQmCC" alt="cc"></p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAYAAAByNR6YAAAAAXNSR0IArs4c6QAAIABJREFUeF7t3X+cnFddL/BznpndbNomgVtKVVRQinJNSTc7u40BlMQfoMC92EL5IbfY0vJLvCDyEgSuWlREULFcFG4BSwGtQKX+APWKIPEH9La7s0lDU7lYaOXnhRIgTZrdzcw8577OOhOn2/zYJKdsSt/7Twk7+51n3vN9nvk855znmRj8ECBAgAABAgQIFBWIRaspRoAAAQIECBAgEAQsTUCAAAECBAgQKCwgYBUGVY4AAQIECBAgIGDpAQIECBAgQIBAYQEBqzCocgQIECBAgAABAUsPECBAgAABAgQKCwhYhUGVI0CAAAECBAgIWHqAAAECBAgQIFBYQMAqDKocAQIECBAgQEDA0gMECBAgQIAAgcICAlZhUOUIECBAgAABAgKWHiBAgAABAgQIFBYQsAqDKkeAAAECBAgQELD0AAECBAgQIECgsICAVRhUOQIECBAgQICAgKUHCBAgQIAAAQKFBQSswqDKESBAgAABAgQELD1AgAABAgQIECgsIGAVBlWOAAECBAgQICBg6QECBAgQIECAQGEBAaswqHIECBAgQIAAAQFLDxAgQIAAAQIECgsIWIVBlSNAgAABAgQICFjL7IEUQtzWap0eer3TlvknR3xYHWOqUtqzdceOb5Sop0YRgbj+8RecObK/M1aiWqM5Us93w9d2bbtmX4l6J1ONS6+++szuQlxdYptGq0bd7a76+pWXPGlviXorWeOjl13WXJc++8AY69ES29FsntIbW9v4ysNe9KaFEvXuazWumJkZ2Xfn57+tGk2NEq89pU7njoUzvnzZ1q3dEvXU+NYWELCW+f7+4+T4L8ZYPSuFVCRghRBSCOGOEOLv/PD07B/3/73MrfGw0gKPePQT7t8YW315CmFTiGlVmfqxTiF8LtXxFZ/4yDXXlam5slWee8X71nVW1b8XQtocQiwSRFMIKYbw+ZTSr1x18TO2rewrPP5n3/naF9y/caD72ymGHwohFAlYIYReDPErKaQXn/0rb5s+/q277/3l5f/4pxtiM74lxHhmCKFIwAohdEII19cj6WUvmXzyl+57ql7xsQgIWEfRSiFU/zQ1/vIQ4m8eC+zyH5v2pio95THX3/ihQ/3Nxo0bf6CqqpeHEL67//s3r1mz5s+2bdt2j55BtVqtrSGE/75nz55n3HLLLUc8ez733HPP6fV6H08p7YgxHuhv51XtdvvdIYR6+Rb/8chWqzUSQnhzCOFz7Xb7N463znKf+5wfu+CKENNzl/v4Y3lcDPGrvU79Q5/Y9v5PLv27ycnJjSml94cQvhBCyO9p9rum1+t9eMeOHf+Wg/fGjRsfHGO8ptFoPH16evozx/Lch3vsli1bxvbt2/fgmZmZfz0W24uues/vxRB+vsQ23L1G3BvqtOUdz3767NLfTU1NfVtd19tijHtTSoMRwY/0e+OEN6fVap0SY3xPXdcfnJ2dfevExMTTQgiPm52dffZyit/42xee2pgbe08I4YnLefwxPyaFz9apt3XDZVfe7f3v739X9Xq9rTv+Y0S8arVa/yM/z9H2n1artS6E8Ocxxl+YmZnZfszbdvQ/yNvy+yGEjWNjY4/92Mc+dtiRymM57hzpad/w8Q88qAoHcr+cdfTNO65H/EM9H3/qJVvPu8sMxNTU1Pq6rt+TUnrq7Ozsvwwqb9q0aW2v17s2hPD2uq7XVlX1xJTS09vt9v7hZx8fH79fo9H4aIzxlTMzM39zXFt2hD+ampp6ZF3Xf1lV1Qunp6ffd7gT+2/28bf06zxZ6glYR3kn/rHV+vZQpY+GkL7/nnrTUkoffczMjh9ZWv/ss88+c9WqVW9PKb1qdnZ2Z/791NTUd5166qlfOgkD1nurqtoyPT39/wo5xcnJye/rdrsLg6BRqO7dyjzisU9+eJXijQVHHe6+qSm+/8YPX/OUwwSsN4QQfqrdbu/ZsmVLc8+ePVNVVT271+u9fseOHf/6kIc8ZOz000//gTVr1ty8bdu2+RIOGzdu3FxV1Uv27Nlz4dEC9OD5nvvO9313J9SfDCkUmRo85OtI4S+uvOhp58UY8wjvwZ9BwGo0Gk+74YYb8ntV+qfRarV+IITw1Xa7/aVjDVg7f+3Zm6vQ+GgIodDo591fXozhRet/+W1vWvqbEw1YuefuvPPOs/fv33/Lrl27ik9nt/Ix9N8D3KkxxvzB/g+He/NKBazLP37ts2IMVxYcuVq6yQdSDD/68z94/j8P/2IoSP3VzMzMGwcnLzl49Xq9t46MjJzf7XarEMID2u32zXmE8psZsFqt1stjjD+eUvrymjVrLjnc8UTAKnN4EbCO4vj3kxu+vxkXD5z5IHHP/KRw+w/PbH/gYQ6cefpwS7vd/uohnrzauHHjIxqNxv1DCPvn5uZ27Nq1a3EEadOmTd/Z6/UWz94ajcYt119//efz/56amvreuq67dV3nvwnbt2//xJYtW6o777wzj6ScmlLanXf8Vqv1w3kEq6qqF3e73e+pqqru9Xo3DZ0hH9yc/gH+kAErP19VVQc6nc6aqqrO7PV6+9atW7djEBDXr19/2imnnLIhpTTa7Xa/MDIyMtrpdL6wY8eOPcMBa8OGDWeMjo7ev9Fo3JlfV13X82vXrs11BoFj8QMyxnh6HkW7/fbbZ2+77bZlhZENP37+f42h+ot75s09WPXj3S/Grbt2XTMY4Vv8RX8E62DAGjx6cnLy8SGEHz/ttNN+8bbbbmsOAtbtt99er169ejzG+NkQwvd2Op0v5gC6fv36UweO+XfDI12bN2/+T51OZ0OunVL6v/3/Pi3GeH5d16/u9Xqf2Llz51eO9vqf/c73bk0p/f3RHnciv08h3TC6cMfWtz7veXc5sz9CwFoM4jHGTl3X+QP89Lquvzw7O/upQT/0/z0YTYjj4+MPbjabD8nb2e12b+sH+DzKctwBa9ern/OTKYa/PpHXvoy/ffPZv/K2Fx5PwBofH187MjLyoBDC7m63+33NZrO7f//+nTlQHSpgbdiw4YGNRuPhjUajGu6nPPK5d+/e7PTZqqryCVCz1+t98gj9k9+fC0MIz08p7YoxrjnttNMuGtpvF9+/fHyNMd6ZUrpfSukFg5Hz/ojO2fn4M9jeZTiFN153bR71ftVyHnvcj0npmS9+5JOvXvr3k5OTTw8hXNpoNM6//vrr7+jv55eklM5pt9sv6gfOgwErHwNXr149mR+XezXGePXwCFZ+fIxx8QQ/77/5BGDwnId7nw71mh796Efff//+/e9LKf1JVVWvqOv6Sdu3b88hb/Gn3weLnwP5RCOllEeqP9sfAU2D96nX6309f24cy8j3cRvfy/9QwDrKG7iSAau/Q3wwxrhjfn7+JYPwNNgZ9u3b9wt1XX9bCOGDVVU9LqX0+Xa7/aZWq/XQ/OEcY8xTUt+eUvrphYWFS2+66aYvT05Ovi6l9JSqqn6x2+1+enR09NZut5vPtD4XY/z7uq5XNRqNm+u6zuHsHSGEP00p/XWM8VEhhO+Yn59/8fB25G05UsDqP9/5KaXfrKrq1rzTVlX1J9PT0+/dsGHDqc1m8y15TUMI4V9ijHlaMh+MLw4h5DPDg1OEExMTF8QYXx9jvKKu6/8TY3x8SmlhdnZ28SA6MTHx1Kqq8tqX96eUHptHEnbv3v2q5YSsR/zYeU+qYuPP7+F9+ZgC1jnnnPOgZrP57m63e2FVVc3BFGEO0nmqLISQp/be1Ov1PtXpdL46NjZ2eQjhn3JAzlM9IYRXtNvt68fHxx/WaDRen1J6T1VVXw4hrO52u7dUVfWEYw1YF1959Y+EqvrIPel0rAFr6Ez73JTSq/O25Q+P/AERQri6ruuvZ4sQwmtnZ2c/mAN/t9vd2Gg0dtd1fWZVVRf1er1Lqqr6xolMEe56zXN+MvXu2YCVUnrLI3717T97PAGr1Wo9Znh/rqpqcz52LCwsvHRsbCyPSB6cImy1WptSSq+sqirva72qqi5OKf1NnvKfmpp6SF3XfxtCuCmE8JYY43emlM4bHF+WbtujHvWoNfPz838VY8wj8Tfl/Tf33fT09Of6++2PxBh/Lsb4lpRSniJ/aQghj+I+aWxs7H6rVq3K+/y1dV3nqeFq+/btH15O/11+3bWviSG8cjmPPd7H1KH3316y+YJ8AnyXn02bNp3Z6XSubTQaz52ent61fv360bGxsXfkYJN7cGJi4rmDKcLR0dGxAwcOvD0fA2OM+TiYA86vxRifmqcI+/tvDovvSmlx/e9Pxxifn0PWkd6nQ4WfHPxSWlwG8dQY42tCCDfMzMz8Yd74PEr+gAc8IO8/p9Z1fW0+GU4p5ed9Zw5YExMTW2KMj40x/u98Mtwf6b3bVP7xWn6r/p2AdRIHrLxpeYQjhHB5Sul7Uko/+7Wvfe3DOTRs3LjxnKqqXtXpdC7euXPnnePj4w9pNBp5Lc9T2+32pwcvK08p1nV9dUrpDbOzs3+WA09d1+tmZ2ef3z/APbGqqvPn5uaePxyc+kP1eWTl8XlnPlz9oYC1dA3WpXk7DvF854UQznvoQx968Wc+85l8hjQxGKrOB+OFhYUPppQuO0zAemGn0/nJ/HpbrdYjQgh/0Gg0zuv1ennk7YqRkZHn5JG6XGdubi4f4F45PT191IXBJ2PAGh6x6XQ6+cN/cQ3WIGDFGC+bmZnJa37yyN3LQghr16xZ88t5ZLDVav1MPhCPjY09ZX5+/tfzQGW73X7ncKsfz1TMyRCwhtZg5ZHA3xrqk1NyH+VBqX379uX9ZcPY2NgTPvaxj+VeyT75pONn2+12XqS8+NMfScgBPwf5f74PBKxD7s/9MLoYsFJKOfh8KE8fD6byJicnvz+ldE1d1/+l2Ww2csCqqurS/Ps8Jdbtdj+UUnpdPr4sPZz215BekY9L8/Pzu3PQyIFpZmbm/f3wlde9/cb27dsXLwKZmJg4Lwe6b3zjGxesXbv2Z2KMT56fn3/ysU5drmTA6vfW/4wx3pgDTH+U+nfqun769u3bbx8OWDHGZwxGtvLfPfKRj3zgwsJCXjv20tNOO+3v9u3b99shhL+bmZlZHB1ttVq/3t8H8vTnYd+n7du35/WbB3/6ay6vykEuT11OTEzkE6xn7d69+8L8eZLXZqWUfvnAgQNPycfXzZs3r+50Ou9OKe3MAavVal0ZY/zIzMxMXlfrZ5kCAtZJHrDy5uUh5FWrVuWzh3w2d93c3NwLxsbG8khPXvx+a35MPquIMY43Go1Hzs/P3zIyMvIHIYQHhxDy1OPD87B7XrzbH1H6YrvdzqNWeYfNB4LppTvO0g/gI62BWcYI1vDzLS6e7/V6z242m3nB57bZ2dm8remss85atW7duj/JIzOHCljDi47zSESv18uLSS/Ia79CCL8bQlhc0xBjrFJK+bVf3G638/TuEX9O1oCVUro2pXRhntJdGrAGa5EGH3AhhFPy9E//hZ6eHfLIZVVV/6vT6Tznxhtv/NS3QsBaugbrEGtFck/nxd3fNQhU+QMtxjiV/z06OppD/OUxxvz778gXj6SULooxfuA+ELAOXrQyvD/3er3bBiNY/VGkxROXG264YbGf8oftwsLCu6uqek2Mcc9gv8sf4ksvDli6o+U1PyGEB7Xb7XwyVU9OTuapssfOz89feMoppzwspfTeTqfzuBtvvDFf5JGXMEz1er1fuOOOOy5au3btuTHGHCz+otPpPC9/8B9tXx78fqUD1sTExBNzeBodHb10YWEhu/XWrFnzinwCtCRg/V4+1g2Ov/lYPzY29v4Y4+WdTmdns9nM69XyaOxc/7V9Zw6oKaU/GpxgHup9WnqxQqvVengI4b15YX1efJ8vnKmq6m+qqnpBDsqtVusFMcaHzczM5NHvcMEFFzRuvfXWX8uzBP2AlWcKnhVCuGLNmjWX39NrgJf7Pp/sjxOw7gUBa7CJmzZteli3280fBPms5weHd4jBY/I8+t69e18bQviJEMKLBkElpTR9qIA1OTmZzy4P7uCDOvfCgPXTx3Omm1/vyRiwJicnc2h8Vh5ZHB0dzWsw7jKCtTRgHWoEoT/N+KfdbvdnBKx/D1gxxpfl4JlSenmermm1Wq9OKd18bw5YeQF1SumqkZGRx1133XVfW/IBubfdbr++P0V43AHrwIEDeQT016uqymsgF09sjhaw+iNUf5mnpYcCQjOf+KWUHpfXdx0pYOWLLyYnJ5+XUsrrzh6a/zs7O/uu5az9WemAlWcO8glSr9d7aVVVlw+PCB5jwDrc/ntwBH84YA3ep3a7nddIHfzpB9scnobXWuYTjL/MwW/v3r3POVLA2rx58/36Jyb5uFTnJQbT09P5hPYuF6Oc7IHnm719Ata9KGD1D1hXd7vdl46Ojj5geEh3KBgNLjd/Rx6yH6yByGc8hwlYBxdfHmmEo/QI1ujo6DMPHDiQ15McnCLsT9nkM9Z8ILjbGqzDjWDFGE+pqupdw2s7jmVHOtkCVl6bNjIyclVK6e2zs7N/O3ybhsEU4SBgDQJ1Sqmxdu3alw2fWfZ/l9du5LUfHxg2GR4pWO5VhCfDFOGJjmDFGH8/3xaj3W5/KK+NWb169Tvrus7TY/faEaz+1Pofp5Rek9fd5fe5P03+R1VV5ank7Uc6YVoygnW4KcIcbJ5QVVW+3cCyAtbU1NRj6jrfMy08dnCRzvBUVUopT3PldXIHpwj7QeCCvAZr0Jf5Io2FhYU8erL1jjvueOpy+nWlA9bgdeZbMsQYG3m6fnB7iiNNEfaXdOQpwp/LU4R79+495P7barUecJgpwsX3afiiqKVrwAbHgYmJiR+KMb6xruvHNZvNPJp4cIpw8LkRQvjw8G0+zj333O/r9Xp5qvmGo93+41iOwd+qjxWwTuKA1V+sni9Zn+lv5qNSSmt279592amnntocGxt7U77yJi9KzGeDvV7vu2ZnZ985OTl5UUrpJ+q6viJf6RNC+KV88D1UwMoHrwMHDuR1KJ+OMX5oySL3Q57xLr1Mvj9F+IH+AvbFM+gQwpdmZmY+NTk5+VsppbtNEearhPqLWN8eY/yzuq5vywvXQwj5VgaHXOR+uICVz6QnJycvSyk9KMa4uOg0pXTW/Pz8e5azdmOlA1Z+n2KMr87vZQgh35Pokrqu35pHWPJrOVLAyr/v90leRPyufCFBvlKr1+ul/PeD9R8ppbcOFrnPzc39U7PZXJcX0eeFyp1O5x+WcxXhyRCwYox5TcriGsN8NdPevXs/uW7dunyPpcH90o44RRhjzP31YyGEvL7knBDCC/MHy705YGWLiYmJvFj80hhjvjClk0eIYowLMzMzeT1jNrnLfe0ON0WYw1ie3sr3SarrOk/dd2KMecTvmsFFAssJWEMB44tLg39/sXWext1SVdWP1nX9jDwllpc55MX1Mcb5HLDWrl2bt7lZVdW+uq7zCOQ3Zmdn37acD+OVDlh5G/sBM9/L6tXtdvt1Q8Hm4CL3/v7+3hhjHiH8dEopX6jzssEi9/77+kshhDfm40Ov1zu92Wxuz1cJH+l9GjbqB6mr+rfRWby4IP/0T+Tymtffzeu+Vq9e/baU0hdijB/s9Xr56u9fDSH8YQ5SGzdufGaz2fxSr9dr5H7I6xYHYX4578d99TEC1kkcsPo7wcHLpZdeHjt8We3wbQuG//+U0uC+VHvyYvXBbRMGt23Iz5GvIDnjjDMm+ge4xds0jI+Pr8mXdU9PT+fL2+v+2f743NzczUtDy/BlxkOciwFramoq3+LhwOD58mXXw3UHlxnnv2s2m7fmez81Go03TE9PzxzqNg0zMzOLtxkYXC6+e/fum/Mizf79o/IatMU77c/Nzc0sJ1wtGq/gbRqGb1PRD4bdpbfDGL4P1uA2DUvfh8Hl7DHG5pLbEiwu5j7EZd6Ll8f3er1864wjXWZ/8C1dyds0DPqvv9ZscZvy/nDWWWfddOutt541dL+00L8Nw6rcfzlr91//2vzv9evXj+TbXOQ6+fYDjUYjX/6/f+fOnbuHb9OQ+zLfFmTQb0f7gFjJ2zT0t+0ut59YejuUpfvd8P58xhlnzC+9D9bhbvOydL/rX2Rx8PYWA6fB/lhV1ReGbyuQf99fU3p2vs1Kvihhz549i/ttfj/HxsY+1+12vz0fd4ZvH7P09Rzt/VjJ2zQMtq1/Zd6Gbrf7qeHb2yy9TcPw/jk6Onrz3Nzcd4+NjX2mP917uNuKLE7NHe59GvbJ9eu6ftDw7XGGwt5/HhkZ2ZuPz8PH8aqq/q2u63zrnMX7EI6Pj69rNBpn5+PL8G1/jvY+3Nd/L2AdpQNW8kaj3+rN2R89W9U/ADc2bty4taqqn2s0GpcM1hV8MwxW8kaj34zXV+o5VvJGo6Vewz1VZyVvNHpPvaZ7c92VutHovdnMtpcXELCOYrrSX5VT/i0/eSr2A9YzQwjn5zPhfFlzt9v93Xv6zu2HElipr8o5ed6N5W3JSn1VzvK2buUetZJflbNyr/rkfeaV+qqck1fElq2EgIC1THVf9rxMqHvpw3zZ8/LeOF/2fHine+rLnlMKt+evyfFlz8vr0cGj8pc9VyPVm1MI+WbMvuz52Pg8uoCAgLVMxBRC3NZqnR56vcU1Pif6U8eYqpT2bP2PL2c90ZL+/sQF4vrHX3DmyP7O2ImXCqHRHKnnu+Fru7ZdU/z73Ups34nUuPTqq8/sLsQi30k4WjXqbnfV16+85EmH/RLgE9nWb+bffvSyy5rr0mcfGGOd73Z9wj/N5im9sbWNrzzsRW864heun/ATfYsWuGJmZmSh+5Uze2kh3x7ihH9S6nTuWDjjy5dt3ZrvOu+HwBEFBCwNQoAAAQIECBAoLCBgFQZVjgABAgQIECAgYOkBAgQIECBAgEBhAQGrMKhyBAgQIECAAAEBSw8QIECAAAECBAoLCFiFQZUjQIAAAQIECAhYeoAAAQIECBAgUFhAwCoMqhwBAgQIECBAQMDSAwQIECBAgACBwgICVmFQ5QgQIECAAAECApYeIECAAAECBAgUFhCwCoMqR4AAAQIECBAQsPQAAQIECBAgQKCwgIBVGFQ5AgQIECBAgICApQcIECBAgAABAoUFBKzCoMoRIECAAAECBAQsPUCAAAECBAgQKCwgYBUGVY4AAQIECBAgIGDpAQIECBAgQIBAYQEBqzCocgQIECBAgAABAUsPECBAgAABAgQKCwhYhUGVI0CAAAECBAgIWHqAAAECBAgQIFBYQMAqDKocAQIECBAgQEDA0gMECBAgQIAAgcICAlZhUOUIECBAgAABAgKWHiBAgAABAgQIFBYQsAqDKkeAAAECBAgQELD0AAECBAgQIECgsICAVRhUOQIECBAgQICAgKUHCBAgQIAAAQKFBQSswqDKESBAgAABAgQELD1AgAABAgQIECgsIGAVBlWOAAECBAgQICBg6QECBAgQIECAQGEBAaswqHIECBAgQIAAAQFLDxAgQIAAAQIECgsIWIVBlSNAgAABAgQICFh6gAABAgQIECBQWEDAKgyqHAECBAgQIEBAwNIDBAgQIECAAIHCAgJWYVDlCBAgQIAAAQIClh4gQIAAAQIECBQWELAKgypHgAABAgQIEBCw9AABAgQIECBAoLCAgFUYVDkCBAgQIECAgIClBwgQIECAAAEChQUErMKgyhEgQIAAAQIEBCw9QIAAAQIECBAoLCBgFQZVjgABAgQIECAgYOkBAgQIECBAgEBhAQGrMKhyBAgQIECAAAEBSw8QIECAAAECBAoLCFiFQZUjQIAAAQIECAhYeoAAAQIECBAgUFhAwCoMqhwBAgQIECBAQMDSAwQIECBAgACBwgICVmFQ5QgQIECAAAECApYeIECAAAECBAgUFhCwCoMqR4AAAQIECBAQsPQAAQIECBAgQKCwgIBVGFQ5AgQIECBAgICApQcIECBAgAABAoUFBKzCoMoRIECAAAECBAQsPUCAAAECBAgQKCwgYBUGVY4AAQIECBAgIGDpAQIECBAgQIBAYQEBqzCocgQIECBAgAABAUsPECBAgAABAgQKCwhYhUGVI0CAAAECBAgIWHqAAAECBAgQIFBYQMAqDKocAQIECBAgQEDA0gMECBAgQIAAgcICAlZhUOUIECBAgAABAgKWHiBAgAABAgQIFBYQsAqDKkeAAAECBAgQELD0AAECBAgQIECgsICAVRhUOQIECBAgQICAgKUHCBAgQIAAAQKFBQSswqDKESBAgAABAgQELD1AgAABAgQIECgsIGAVBlWOAAECBAgQICBg6QECBAgQIECAQGEBAaswqHIECBAgQIAAAQFLDxAgQIAAAQIECgsIWIVBlSNAgAABAgQICFh6gAABAgQIECBQWEDAKgyqHAECBAgQIEBAwNIDBAgQIECAAIHCAgJWYVDlCBAgQIAAAQIClh4gQIAAAQIECBQWELAKgypHgAABAgQIEBCw9AABAgQIECBAoLCAgFUYVDkCBAgQIECAgIClBwgQIECAAAEChQUErMKgyhEgQIAAAQIEBCw9QIAAAQIECBAoLCBgFQZVjgABAgQIECAgYOkBAgQIECBAgEBhAQGrMKhyBAgQIECAAAEBSw8QIECAAAECBAoLCFiFQZUjQIAAAQIECAhYeoAAAQIECBAgUFhAwCoMqhwBAgQIECBAQMDSAwQIECBAgACBwgICVmFQ5QgQIECAAAECApYeIECAAAECBAgUFhCwCoMqR4AAAQIECBAQsPQAAQIECBAgQKCwgIBVGFQ5AgQIECBAgICApQcIECBAgAABAoUFBKzCoMoRIECAAAECBAQsPUCAAAECBAgQKCwgYBUGVY4AAQIECBAgIGDpAQIECBAgQIBAYQEBqzCocgQIECBAgAABAUsPECBAgAABAgQKCwhYhUGVI0CAAAECBAgIWHqAAAECBAgQIFBYQMAqDKocAQIECBAgQEDA0gMECBAgQIAAgcICAlZhUOWhTu1CAAAMUUlEQVQIECBAgAABAgKWHiBAgAABAgQIFBYQsAqDKkeAAAECBAgQELD0AAECBAgQIECgsICAVRhUOQIECBAgQICAgKUHCBAgQIAAAQKFBQSswqDKESBAgAABAgQELD1AgAABAgQIECgsIGAVBlWOAAECBAgQICBg6QECBAgQIECAQGEBAaswqHIECBAgQIAAAQFLDxAgQIAAAQIECgsIWIVBlSNAgAABAgQICFh6gAABAgQIECBQWEDAKgyqHAECBAgQIEBAwNIDBAgQIECAAIHCAgJWYVDlCBAgQIAAAQIClh4gQIAAAQIECBQWELAKgypHgAABAgQIEBCw9AABAgQIECBAoLCAgFUYVDkCBAgQIECAgIClBwgQIECAAAEChQUErMKgyhEgQIAAAQIEBCw9QIAAAQIECBAoLCBgFQZVjgABAgQIECAgYOkBAgQIECBAgEBhAQGrMKhyBAgQIECAAAEBSw8QIECAAAECBAoLCFiFQZUjQIAAAQIECAhYeoAAAQIECBAgUFhAwCoMqhwBAgQIECBAQMDSAwQIECBAgACBwgICVmFQ5QgQIECAAAECApYeIECAAAECBAgUFhCwCoMqR4AAAQIECBAQsPQAAQIECBAgQKCwgIBVGFQ5AgQIECBAgICApQcIECBAgAABAoUFBKzCoMoRIECAAAECBAQsPUCAAAECBAgQKCwgYBUGVY4AAQIECBAgIGDpAQIECBAgQIBAYQEBqzCocgQIECBAgAABAUsPECBAgAABAgQKCwhYhUGVI0CAAAECBAgIWHqAAAECBAgQIFBYQMAqDKocAQIECBAgQEDA0gMECBAgQIAAgcICAlZhUOUIECBAgAABAgKWHiBAgAABAgQIFBYQsAqDKkeAAAECBAgQELD0AAECBAgQIECgsICAVRhUOQIECBAgQICAgKUHCBAgQIAAAQKFBQSswqDKESBAgAABAgQELD1AgAABAgQIECgsIGAVBlWOAAECBAgQICBg6QECBAgQIECAQGEBAaswqHIECBAgQIAAAQFLDxAgQIAAAQIECgsIWIVBlSNAgAABAgQICFh6gAABAgQIECBQWEDAKgyqHAECBAgQIEBAwNIDBAgQIECAAIHCAgJWYVDlCBAgQIAAAQIClh4gQIAAAQIECBQWELAKgypHgAABAgQIEBCw9AABAgQIECBAoLCAgFUYVDkCBAgQIECAgIClBwgQIECAAAEChQUErMKgyhEgQIAAAQIEBCw9QIAAAQIECBAoLCBgFQZVjgABAgQIECAgYOkBAgQIECBAgEBhAQGrMKhyBAgQIECAAAEBSw8QIECAAAECBAoLCFiFQZUjQIAAAQIECAhYeoAAAQIECBAgUFhAwCoMqhwBAgQIECBAQMDSAwQIECBAgACBwgICVmFQ5QgQIECAAAECApYeIECAAAECBAgUFhCwCoMqR4AAAQIECBAQsPQAAQIECBAgQKCwgIBVGFQ5AgQIECBAgICApQcIECBAgAABAoUFBKzCoMoRIECAAAECBAQsPUCAAAECBAgQKCwgYBUGVY4AAQIECBAgIGDpAQIECBAgQIBAYQEBqzCocgQIECBAgAABAUsPECBAgAABAgQKCwhYhUGVI0CAAAECBAgIWHqAAAECBAgQIFBYQMAqDKocAQIECBAgQEDA0gMECBAgQIAAgcICAlZhUOUIECBAgAABAgKWHiBAgAABAgQIFBYQsAqDKkeAAAECBAgQELD0AAECBAgQIECgsICAVRhUOQIECBAgQICAgKUHCBAgQIAAAQKFBQSswqDKESBAgAABAgQELD1AgAABAgQIECgsIGAVBlWOAAECBAgQICBg6QECBAgQIECAQGEBAaswqHIECBAgQIAAAQFLDxAgQIAAAQIECgsIWIVBlSNAgAABAgQICFh6gAABAgQIECBQWEDAKgyqHAECBAgQIEBAwNIDBAgQIECAAIHCAgJWYVDlCBAgQIAAAQIClh4gQIAAAQIECBQWELAKgypHgAABAgQIEBCw9AABAgQIECBAoLCAgFUYVDkCBAgQIECAgIClBwgQIECAAAEChQUErMKgyhEgQIAAAQIEBCw9QIAAAQIECBAoLCBgFQZVjgABAgQIECAgYOkBAgQIECBAgEBhAQGrMKhyBAgQIECAAAEBSw8QIECAAAECBAoLCFiFQZUjQIAAAQIECAhYeoAAAQIECBAgUFhAwCoMqhwBAgQIECBAQMDSAwQIECBAgACBwgICVmFQ5QgQIECAAAECApYeIECAAAECBAgUFhCwCoMqR4AAAQIECBAQsPQAAQIECBAgQKCwgIBVGFQ5AgQIECBAgICApQcIECBAgAABAoUFBKzCoMoRIECAAAECBAQsPUCAAAECBAgQKCwgYBUGVY4AAQIECBAgIGDpAQIECBAgQIBAYQEBqzCocgQIECBAgAABAUsPECBAgAABAgQKCwhYhUGVI0CAAAECBAgIWHqAAAECBAgQIFBYQMAqDKocAQIECBAgQEDA0gMECBAgQIAAgcICAlZhUOUIECBAgAABAgKWHiBAgAABAgQIFBYQsAqDKkeAAAECBAgQELD0AAECBAgQIECgsICAVRhUOQIECBAgQICAgKUHCBAgQIAAAQKFBQSswqDKESBAgAABAgQELD1AgAABAgQIECgsIGAVBlWOAAECBAgQICBg6QECBAgQIECAQGEBAaswqHIECBAgQIAAAQFLDxAgQIAAAQIECgsIWIVBlSNAgAABAgQICFh6gAABAgQIECBQWEDAKgyqHAECBAgQIEBAwNIDBAgQIECAAIHCAgJWYVDlCBAgQIAAAQIClh4gQIAAAQIECBQWELAKgypHgAABAgQIEBCw9AABAgQIECBAoLCAgFUYVDkCBAgQIECAgIClBwgQIECAAAEChQUErMKgyhEgQIAAAQIEBCw9QIAAAQIECBAoLCBgFQZVjgABAgQIECAgYOkBAgQIECBAgEBhAQGrMKhyBAgQIECAAAEBSw8QIECAAAECBAoLCFiFQZUjQIAAAQIECAhYeoAAAQIECBAgUFhAwCoMqhwBAgQIECBAQMDSAwQIECBAgACBwgICVmFQ5QgQIECAAAECApYeIECAAAECBAgUFhCwCoMqR4AAAQIECBAQsPQAAQIECBAgQKCwgIBVGFQ5AgQIECBAgICApQcIECBAgAABAoUFBKzCoMoRIECAAAECBAQsPUCAAAECBAgQKCwgYBUGVY4AAQIECBAgIGDpAQIECBAgQIBAYQEBqzCocgQIECBAgAABAUsPECBAgAABAgQKCwhYhUGVI0CAAAECBAgIWHqAAAECBAgQIFBYQMAqDKocAQIECBAgQEDA0gMECBAgQIAAgcICAlZhUOUIECBAgAABAgKWHiBAgAABAgQIFBYQsAqDKkeAAAECBAgQELD0AAECBAgQIECgsICAVRhUOQIECBAgQICAgKUHCBAgQIAAAQKFBQSswqDKESBAgAABAgQELD1AgAABAgQIECgsIGAVBlWOAAECBAgQICBg6QECBAgQIECAQGEBAaswqHIECBAgQIAAAQFLDxAgQIAAAQIECgsIWIVBlSNAgAABAgQICFh6gAABAgQIECBQWEDAKgyqHAECBAgQIEBAwNIDBAgQIECAAIHCAgJWYVDlCBAgQIAAAQIClh4gQIAAAQIECBQWELAKgypHgAABAgQIEBCw9AABAgQIECBAoLCAgFUYVDkCBAgQIECAgIClBwgQIECAAAEChQUErMKgyhEgQIAAAQIEBCw9QIAAAQIECBAoLCBgFQZVjgABAgQIECAgYOkBAgQIECBAgEBhAQGrMKhyBAgQIECAAAEBSw8QIECAAAECBAoLCFiFQZUjQIAAAQIECAhYeoAAAQIECBAgUFhAwCoMqhwBAgQIECBAQMDSAwQIECBAgACBwgICVmFQ5QgQIECAAAECApYeIECAAAECBAgUFhCwCoMqR4AAAQIECBAQsPQAAQIECBAgQKCwgIBVGFQ5AgQIECBAgICApQcIECBAgAABAoUFBKzCoMoRIECAAAECBAQsPUCAAAECBAgQKCwgYBUGVY4AAQIECBAgIGDpAQIECBAgQIBAYQEBqzCocgQIECBAgAABAUsPECBAgAABAgQKCwhYhUGVI0CAAAECBAgIWHqAAAECBAgQIFBYQMAqDKocAQIECBAgQOD/A39v/4EZILe8AAAAAElFTkSuQmCC" alt="cc"></p>
]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
</search>
