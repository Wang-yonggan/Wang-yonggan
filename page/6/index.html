<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/chrome2.svg">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"wang-yonggan.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="学无止境">
<meta property="og:type" content="website">
<meta property="og:title" content="十二峒">
<meta property="og:url" content="https://wang-yonggan.github.io/page/6/index.html">
<meta property="og:site_name" content="十二峒">
<meta property="og:description" content="学无止境">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="勇敢">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://wang-yonggan.github.io/page/6/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>十二峒</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">十二峒</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">取上得中，取中得下</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://gitee.com/wang_yonggan" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wang-yonggan.github.io/2021/09/29/java/java8%E6%96%B0%E7%89%B9%E6%80%A7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/t.png">
      <meta itemprop="name" content="勇敢">
      <meta itemprop="description" content="学无止境">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="十二峒">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/29/java/java8%E6%96%B0%E7%89%B9%E6%80%A7/" class="post-title-link" itemprop="url">java8新特性</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-09-29 17:09:10" itemprop="dateCreated datePublished" datetime="2021-09-29T17:09:10+08:00">2021-09-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-10-06 18:13:14" itemprop="dateModified" datetime="2021-10-06T18:13:14+08:00">2021-10-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/java%E9%AB%98%E9%98%B6/" itemprop="url" rel="index"><span itemprop="name">java高阶</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    
      <a title="changyan" href="/2021/09/29/java/java8%E6%96%B0%E7%89%B9%E6%80%A7/#SOHUCS" itemprop="discussionUrl">
        <span id="url::https://wang-yonggan.github.io/2021/09/29/java/java8%E6%96%B0%E7%89%B9%E6%80%A7/" class="cy_cmt_count" data-xid="2021/09/29/java/java8新特性/" itemprop="commentCount"></span>
      </a>
    
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>3k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>3 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="java8新特性"><a href="#java8新特性" class="headerlink" title="java8新特性"></a>java8新特性</h1><h3 id="一、lambda-参数式函数-代码更少"><a href="#一、lambda-参数式函数-代码更少" class="headerlink" title="一、lambda(参数式函数) 代码更少"></a>一、lambda(参数式函数) 代码更少</h3><p>fun1(fun2())</p>
<ol>
<li><p>参数式函数，参数式lambda。</p>
</li>
<li><p>java中 lambda是实现了函数的对象，而不像其他语言一样是一个函数。一般用于接口，这个接口只有一个函数需要重写。这个接口的实例就是lambda。</p>
</li>
<li><p>但是用到的lambda还是写的那个重写的函数，也就是说我们需要某个功能的时候，我们可以根据四大函数式接口写出自己的函数，将这个接口传入，就完成了一个功能器。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021/09/29/java/java8%E6%96%B0%E7%89%B9%E6%80%A7/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wang-yonggan.github.io/2021/09/29/java/springBoot/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/t.png">
      <meta itemprop="name" content="勇敢">
      <meta itemprop="description" content="学无止境">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="十二峒">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/29/java/springBoot/" class="post-title-link" itemprop="url">springBoot</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-09-29 10:51:11" itemprop="dateCreated datePublished" datetime="2021-09-29T10:51:11+08:00">2021-09-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-10-05 21:00:35" itemprop="dateModified" datetime="2021-10-05T21:00:35+08:00">2021-10-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/javaWeb/" itemprop="url" rel="index"><span itemprop="name">javaWeb</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/javaWeb/spring/" itemprop="url" rel="index"><span itemprop="name">spring</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    
      <a title="changyan" href="/2021/09/29/java/springBoot/#SOHUCS" itemprop="discussionUrl">
        <span id="url::https://wang-yonggan.github.io/2021/09/29/java/springBoot/" class="cy_cmt_count" data-xid="2021/09/29/java/springBoot/" itemprop="commentCount"></span>
      </a>
    
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>130</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="spring-boot-starter"><a href="#spring-boot-starter" class="headerlink" title="spring-boot-starter"></a>spring-boot-starter</h3><ol>
<li>可以认为starter是一种服务（和JS的插件类似）——使得使用某个功能的开发者不需要关注各种依赖库的处理，不需要具体的配置信息，由Spring Boot自动通过classpath路径下的类发现需要的Bean，并织入bean</li>
</ol>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021/09/29/java/springBoot/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wang-yonggan.github.io/2021/09/29/project/springboot_%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/t.png">
      <meta itemprop="name" content="勇敢">
      <meta itemprop="description" content="学无止境">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="十二峒">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/29/project/springboot_%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F/" class="post-title-link" itemprop="url">springBoot秒杀系统</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-09-29 10:14:55" itemprop="dateCreated datePublished" datetime="2021-09-29T10:14:55+08:00">2021-09-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-10-06 13:57:19" itemprop="dateModified" datetime="2021-10-06T13:57:19+08:00">2021-10-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">项目</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    
      <a title="changyan" href="/2021/09/29/project/springboot_%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F/#SOHUCS" itemprop="discussionUrl">
        <span id="url::https://wang-yonggan.github.io/2021/09/29/project/springboot_%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F/" class="cy_cmt_count" data-xid="2021/09/29/project/springboot_秒杀系统/" itemprop="commentCount"></span>
      </a>
    
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>493</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="技术介绍"><a href="#技术介绍" class="headerlink" title="技术介绍"></a>技术介绍</h3><ol>
<li>秒杀 两个问题：并发读，并发写。防止最坏的情况发生。<ol>
<li>稳  高可用 最坏情况planb</li>
<li>准  一致性</li>
<li>快  高性能， 效率</li>
</ol>
</li>
<li> <img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20210930003833352.png" alt="image-20210930003833352"></li>
<li><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20210930003801073.png" alt="image-20210930003800497"></li>
<li><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20210930003852477.png" alt="image-20210930003852477"></li>
</ol>
<h3 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h3><ol>
<li><p>创建项目加入依赖</p>
<p>mybatisplus,mysql,thymeleaf,springwebm,lomok</p>
</li>
<li><p>配置resources</p>
<ol>
<li><p>application</p>
<ol>
<li>datasource<ol>
<li>driver-url-username-password</li>
<li>连接池</li>
</ol>
</li>
<li>logging debug</li>
<li>mybatis-plus</li>
</ol>
</li>
<li><p>mapper</p>
</li>
<li><p>templates</p>
<ol>
<li><p>html—&gt;thymeleaf命名空间</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>    <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>logging</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">level:  com.examapl.springkill.mapper:</span> <span class="string">debug</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>登录功能</p>
<ol>
<li><p>MD5加密(实质是一种消息摘要算法)</p>
</li>
<li><p>步骤</p>
<ol>
<li><p>依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">commons-codec</span><br><span class="line">commons-lang3</span><br></pre></td></tr></table></figure></li>
<li><p>二次加密步骤</p>
<ol>
<li><p>```<br>根据公有盐第一次转化为md5密码—m1</p>
<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">2</span>. ```</span><br><span class="line">   根据m1和数据库的私有盐进行二次加密-</span><br></pre></td></tr></table></figure></li>
<li><pre><code>封装函数方便直接得到m2
</code></pre>
</li>
</ol>
</li>
<li><p>二次加密优点</p>
</li>
</ol>
</li>
<li></li>
</ol>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wang-yonggan.github.io/2021/09/28/java/jvm/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/t.png">
      <meta itemprop="name" content="勇敢">
      <meta itemprop="description" content="学无止境">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="十二峒">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/28/java/jvm/" class="post-title-link" itemprop="url">jvm</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-09-28 00:05:18" itemprop="dateCreated datePublished" datetime="2021-09-28T00:05:18+08:00">2021-09-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-10-02 23:43:36" itemprop="dateModified" datetime="2021-10-02T23:43:36+08:00">2021-10-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/java%E9%AB%98%E9%98%B6/" itemprop="url" rel="index"><span itemprop="name">java高阶</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    
      <a title="changyan" href="/2021/09/28/java/jvm/#SOHUCS" itemprop="discussionUrl">
        <span id="url::https://wang-yonggan.github.io/2021/09/28/java/jvm/" class="cy_cmt_count" data-xid="2021/09/28/java/jvm/" itemprop="commentCount"></span>
      </a>
    
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>333</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id=""><a href="#" class="headerlink" title=""></a></h3><ol>
<li>OOM，栈溢出</li>
<li>jvm常用调优</li>
<li>内存快照</li>
<li>怎么分析dump文件</li>
<li>类加载器</li>
<li>jar包</li>
<li></li>
</ol>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021/09/28/java/jvm/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wang-yonggan.github.io/2021/09/27/java/java_web/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/t.png">
      <meta itemprop="name" content="勇敢">
      <meta itemprop="description" content="学无止境">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="十二峒">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/27/java/java_web/" class="post-title-link" itemprop="url">java-web</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-09-27 23:48:03" itemprop="dateCreated datePublished" datetime="2021-09-27T23:48:03+08:00">2021-09-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-10-06 12:08:26" itemprop="dateModified" datetime="2021-10-06T12:08:26+08:00">2021-10-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/javaWeb/" itemprop="url" rel="index"><span itemprop="name">javaWeb</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    
      <a title="changyan" href="/2021/09/27/java/java_web/#SOHUCS" itemprop="discussionUrl">
        <span id="url::https://wang-yonggan.github.io/2021/09/27/java/java_web/" class="cy_cmt_count" data-xid="2021/09/27/java/java_web/" itemprop="commentCount"></span>
      </a>
    
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>8.8k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>8 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="web-网页"><a href="#web-网页" class="headerlink" title="web(网页)"></a>web(网页)</h3><ol>
<li>静态web <ol>
<li>html css</li>
<li>静态文件</li>
<li>模板引擎</li>
<li>即所有的数据都不变化</li>
</ol>
</li>
<li>动态web 这个叫javaWeb<ol>
<li>提供给人的数据会根据用户的请求而会变化</li>
</ol>
</li>
<li>web的组成<ol>
<li>html css js</li>
<li>jsp servlet</li>
<li>java</li>
<li>jar</li>
<li>配置文件</li>
<li>服务器</li>
</ol>
</li>
</ol>
<h3 id="tomacat"><a href="#tomacat" class="headerlink" title="tomacat"></a>tomacat</h3><ol>
<li><p>下载</p>
</li>
<li><p>日志换成中文乱码解决</p>
<p>conf/logging.properties:</p>
<p>encoding = UTF-8–&gt;GBK</p>
</li>
<li><p>文件结构</p>
<ol>
<li>bin 可执行文件</li>
<li>conf 配置文件</li>
<li>lib jar依赖</li>
<li>log日志</li>
<li>webapps web项目</li>
<li>运行时数据</li>
</ol>
</li>
<li><p>配置java_home </p>
</li>
<li><p>启动: start-up.bat</p>
</li>
<li><p>关闭: shut-down.bat || ctrl+c || 叉掉</p>
</li>
<li><p>路径：webapps=localhost:8080</p>
</li>
<li><p>tomcat部署web项目的几种方法</p>
<ol>
<li><p>直接将web项目放在webapps下</p>
</li>
<li><p>简化：将web项目压缩成zip并改后缀为war包，这个war包会自动解压缩</p>
<p>缺点：每次都要移动文件，无法配置虚拟目录</p>
</li>
<li><p>servlet.xml–&gt; &lt;host&gt;&lt;Context docBase:”实际目录” path”虚拟地址”/&gt;&lt;/host&gt;</p>
<p>缺点：配置servlet.xml不安全。</p>
</li>
<li><p>热部署：conf\Catalina\localhost下创建bbb.xml，并添加</p>
<p>&lt;Context docBase:”path” path”url”/&gt;</p>
<p>访问bbb就ok</p>
</li>
</ol>
</li>
<li><p>两个jar</p>
<ol>
<li>jsp-api.jar</li>
<li>servlet-api.jar</li>
</ol>
</li>
</ol>
<h3 id="javaWeb项目结构"><a href="#javaWeb项目结构" class="headerlink" title="javaWeb项目结构"></a>javaWeb项目结构</h3><ol>
<li><p>文件结构</p>
<ol>
<li>根目录(parent)<ol>
<li>WEN-INF目录<ol>
<li>web.xml:web核心配置</li>
<li>Classes:字节码文件（java编译后）</li>
<li>lib:依赖jar包</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li><p>web+idea</p>
<ol>
<li><p>启动idea,配置启 添加本地tomcat</p>
<p>配置</p>
<ol>
<li>虚拟目录</li>
<li>端口</li>
</ol>
</li>
<li><p>添加facet的Web</p>
<ol>
<li>配置文件path:web.xml</li>
<li>资源目录 path:webapp</li>
</ol>
</li>
<li><p>在启动配置的tomcat的部署下方配置上下文以配置路径</p>
</li>
<li><p>热部署–&gt;debug方式启动</p>
</li>
<li><p>右键new servlet</p>
<p>javaProject.iml/pom.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sourceRoots</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">url</span>=<span class="string">&quot;file://$MODULE_DIR$/src&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">url</span>=<span class="string">&quot;file://$MODULE_DIR$/src/main/java&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">sourceRoots</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h3 id="tomcat-其他"><a href="#tomcat-其他" class="headerlink" title="tomcat 其他"></a>tomcat 其他</h3><ol>
<li>index.html优先级高于jsp</li>
</ol>
<h3 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h3><ol>
<li><p>server applet——&gt;运行在服务器的小程序</p>
</li>
<li><p>动态资源：java类若要一直运行在tomcat，那么它就得实现servlet规范(接口)，这样才能被tomcat识别。</p>
</li>
<li><p>servlet接口方法</p>
<ol>
<li><p>init: serlvet创建的时候运行，只运行一次,不是启动的时候，而是第一次访问的时候。</p>
</li>
<li><p>service:提供服务的方法，运行多次</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">访问mapping的</span><br><span class="line"><span class="number">8080</span>+虚拟目录+url-<span class="built_in">pattern</span></span><br><span class="line">就会运行该函数</span><br></pre></td></tr></table></figure></li>
<li><p>getServletInfo：获取serlvet版本信息</p>
</li>
<li><p>getServletConfig</p>
</li>
<li><p>destroy:正常关闭时运行一次</p>
</li>
</ol>
</li>
<li><p>配置</p>
<ol>
<li><p>servlet.class</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(ServletRequest ,ServletResponse )</span></span></span><br><span class="line"><span class="function"></span>&#123;System.out.println(<span class="string">&quot;servlet启动&quot;</span>);&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>web.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>serveletName<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span><span class="comment">&lt;!--名字--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.wyg.web.servlet.ServletDemo<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span><span class="comment">&lt;!--servlet类--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span><span class="comment">&lt;!--映射--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>serveletName<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/demox1<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span><span class="comment">&lt;!--路径--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>原理步骤</p>
<ol>
<li>访问url</li>
<li>扫描mapping找到对应servlet.name进而找到servlet.class的全限定类名</li>
<li>反射class.forname(servlet.class).newInstance创建出对象servlet</li>
<li>调用servlet.service</li>
</ol>
</li>
<li><p>servlet生命周期</p>
<ol>
<li><p>被创建加载：init 加载资源</p>
<p>默认第一次访问url</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">web.xml-&gt;指定启动时加载并赋予优先级，值为<span class="number">2</span>表示可能是依赖其他servlet启动才能启动。</span><br><span class="line">&lt;<span class="keyword">load</span>-<span class="keyword">on</span>-startup&gt;<span class="number">2</span>&lt;/<span class="keyword">load</span>-<span class="keyword">on</span>-startup&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>被调用–&gt;service</p>
</li>
<li><p>被销毁–&gt;destory 释放资源</p>
</li>
</ol>
</li>
<li><p>注意:</p>
<ol>
<li>servlet是容易并发的对象(单例)，所以尽量不要定义成员变量，确保线程安全。</li>
<li>url-pattern必须前缀”/“</li>
</ol>
</li>
<li><p>servlet配置项地址：CATALINA_BASE(tomcat启动的时候输出)</p>
</li>
<li><p>servlet(&gt;=3.0) 注解型配置</p>
<ol>
<li><p>servlet类上加@WebServlet(urlPatterns=”/demo”)</p>
</li>
<li><p>urlPatterns可省略</p>
</li>
<li><p>可以加入映射数组</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;user/demo&quot;</span></span><br><span class="line"><span class="string">&quot;user/*&quot;</span> 通配符任意</span><br><span class="line"><span class="string">&quot;/*&quot;</span> 任意，优先级最低</span><br><span class="line"><span class="string">&quot;*.do&quot;</span>任意.<span class="keyword">do</span>结尾 </span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h3 id="servlet体系结构"><a href="#servlet体系结构" class="headerlink" title="servlet体系结构"></a>servlet体系结构</h3><ol>
<li><p>父子关系：接口Servlet–&gt;抽象GenericServlet–&gt;抽象HttpServlet</p>
</li>
<li><p>genericServlet</p>
<ol>
<li>其他方法默认空实现</li>
<li>只需实现service方法</li>
</ol>
</li>
<li><p>httpServlet:</p>
<ol>
<li><p>url请求</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String method=req.<span class="function">getMethod</span></span><br><span class="line"><span class="function"><span class="title">if</span><span class="params">(method.eq(<span class="string">&quot;get&quot;</span>)</span>)...</span></span><br><span class="line"><span class="function"><span class="keyword">else</span>...</span></span><br></pre></td></tr></table></figure></li>
<li><p>这样每次都判断很麻烦，所以httpServlet对它进行了一个封装，这个封装就是重写service方法判断是get还是post,然后调用对应方法，只需重写doGet/doPost方法</p>
</li>
<li><p>默认deGet方法</p>
</li>
</ol>
</li>
</ol>
<h3 id="Http"><a href="#Http" class="headerlink" title="Http"></a>Http</h3><ol>
<li><p>Hyper Text Transfer Protocol 超文本传输协议，客户端&lt;—&gt;服务端 数据交换格式</p>
<ol>
<li> 基于TCP/IP的高级协议</li>
<li>默认端口80</li>
<li>一次请求对应一次响应</li>
<li>无状态，每个请求独立，不能数据交换</li>
<li>各个版本<ol>
<li>1.0 每个请求都要一次建立连接，断开连接</li>
<li>1.1 请求复用，请求完等一会，等其他的请求复用这个连接</li>
</ol>
</li>
</ol>
</li>
<li><p>请求消息格式</p>
<ol>
<li><p>请求行</p>
<ol>
<li><p>组成请求方式 请求url 请求协议</p>
</li>
<li><p>GET /login.html HTTP/1.1</p>
</li>
<li><p>请求方式</p>
<ol>
<li>Get：请求参数在请求行中,url有限制，不安全（参数可见）</li>
<li>Post: 请求参数在请求体中，url可无限大，安全。</li>
</ol>
</li>
</ol>
</li>
<li><p>请求头</p>
<p>k:v</p>
<p>请求名称：请求头值</p>
<p>get:</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211003214231021.png" alt="image-20211003214231021"></p>
<p>post:</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211003214506976.png" alt="image-20211003214506976"></p>
<p>user-agent：浏览器版本信息（解决浏览器兼容）。</p>
<p>accept:可接受的文件格式</p>
<p>referer: 告诉服务器我从哪里来，</p>
<ol>
<li>防盗链，防止别人盗取链接。</li>
<li>访问统计。</li>
<li>如果直接访问而不是通过连接访问，那么这个值就是null</li>
</ol>
<p>connection: keep-live 1.1版本的请求复用</p>
</li>
<li><p>请求空行，分割请求体和请求头的</p>
</li>
<li><p>请求体(正文,post才有)，封装post请求参数的</p>
</li>
</ol>
</li>
<li><p>响应消息格式</p>
<ol>
<li><p>响应行</p>
<p>HTTP /2.0 200 OK</p>
<p>协议:版本 状态码</p>
<p>状态码</p>
<ol>
<li>1xx: 服务端未接受全部请求消息</li>
<li>2xx: 成功</li>
<li>3xx: 不在我这。<ol>
<li>302 重定向，在别人哪</li>
<li>304 访问缓存(成功了)，在浏览器的缓存中</li>
</ol>
</li>
<li>4xx: 客户端错误<ol>
<li>401 需要身份认证</li>
<li>403 服务器收到了请求，但拒绝执行，可能是没权限</li>
<li>404 url写错了</li>
<li>405 没有这个get/post方法</li>
<li>414 url过长</li>
</ol>
</li>
<li>5xx: 服务端错误<ol>
<li>500:java报错(1/0)</li>
<li></li>
</ol>
</li>
</ol>
</li>
<li><p>响应头</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211004025720770.png" alt="image-20211004025720770"></p>
<ol>
<li>content-type 响应编码格式(text/html;charset=utf-8)</li>
<li>content-disposition 响应数据格式<ol>
<li>in-line: 当前页面直接显示</li>
<li>attachment:附件(超链接下载)</li>
</ol>
</li>
</ol>
</li>
<li><p>响应空行</p>
</li>
<li><p>响应体</p>
<p>data: html  string json 图片二进制数据</p>
</li>
</ol>
</li>
<li><p>url:统一资源定位符:<a target="_blank" rel="noopener" href="http://localhost:8080/d2%E4%B8%AD%E5%8D%8E%E4%BA%BA%E6%B0%91%E5%85%B1%E5%92%8C%E5%9B%BD">http://localhost:8080/d2中华人民共和国</a></p>
<p>uri:统一资源标识符:/d2 共和国</p>
</li>
</ol>
<h3 id="Request-Response原理："><a href="#Request-Response原理：" class="headerlink" title="Request,Response原理："></a>Request,Response原理：</h3><ol>
<li><p>一次请求响应步骤</p>
<ol>
<li>tomcat会根据请求url的路径创建servlet对象</li>
<li>tomcat创建Request和Response对象，并且request封装请求消息数据</li>
<li>tomcat将request和response两个对象传给service，并调用service方法</li>
<li>service根据request获取请求消息，使用response设置响应消息</li>
<li>服务器再给浏览器响应之前，会从response获取响应消息</li>
<li>其中resp.getWriter.write(“html”)会返回一个页面，但</li>
</ol>
</li>
<li><p>Request功能</p>
<ol>
<li><p>获取请求消息</p>
<ol>
<li><p>获取请求行</p>
<p>GET /login.html HTTP/1.1</p>
<ol>
<li><p>获取虚拟目录</p>
<p>String getContextPath</p>
</li>
<li><p>获取请求URL</p>
<p>getRequestURL </p>
<p><a target="_blank" rel="noopener" href="http://localhost:8080/d2">http://localhost:8080/d2</a></p>
</li>
<li><p>获取请求URI</p>
<p>getRequestURI</p>
<p>d2</p>
</li>
<li><p>获取请求方式：</p>
<p>String getMethod</p>
<p>GET</p>
</li>
<li><p>获取请求参数</p>
<p>String getQueryString</p>
<p>username=aaa</p>
</li>
<li><p>获取Servlet路径</p>
<p>getServletPath</p>
<p>/d2</p>
</li>
<li><p>获取Ip地址</p>
<p>getRemoteAddr</p>
<p>0:0:0:0:0:0:0:1</p>
</li>
</ol>
</li>
<li><p>获取请求头数据</p>
<ol>
<li><p>通过请求头获取请求头值</p>
<p>getHeader(string name)</p>
</li>
<li><p>获取所有请求头名称</p>
<p>Enumeration getHeaderNames</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211003223205963.png" alt="image-20211003223205963"></p>
</li>
</ol>
</li>
<li><p>获取请求体信息(只有Post才有)</p>
<ol>
<li><p>获取字符流/字节流</p>
<p>getReader/getInputStream</p>
</li>
<li><p>从流中解析得数据</p>
</li>
</ol>
</li>
</ol>
</li>
<li><p>其他功能</p>
<ol>
<li><p>获取请求参数通用方式(无论get/post，优点：方法统一)</p>
<ol>
<li><p>根据参数名称获取参数值</p>
<p>getParameter(string name)</p>
</li>
<li><p>根据参数名称获取数组getParameterValues(string name)</p>
</li>
<li><p>获取所有参数名称</p>
<p>getParamaterNames</p>
</li>
<li><p>获取参数map集合</p>
<p>getParameterMap</p>
</li>
</ol>
</li>
<li><p>请求转发</p>
<p>服务器资源跳转方式</p>
<ol>
<li>获取转发对象RequestDispatcher getRequestDispatcher(string path)</li>
<li>调用对象方法<ol>
<li>forword(req,resp): 请求抓发,第一个servlet只Writer了resp的头,</li>
<li>include( req , resp): 请求包含—两个请求都Writer了resp体</li>
</ol>
</li>
<li>特点<ol>
<li>浏览器只有一次请求，其他请求在服务器进行</li>
<li>浏览器地址不变</li>
<li>只能转发得到当前服务器内部资源</li>
</ol>
</li>
</ol>
</li>
<li><p>共享数据</p>
<ol>
<li>域对象：一个有作用范围的对象，在这个范围能够共享数据</li>
<li>request对象：代表一次请求的范围，一般用于请求转发多个资源中共享数据。</li>
<li>共享方法：<ol>
<li>setAttribute(“age”,obj)</li>
<li></li>
</ol>
</li>
</ol>
</li>
<li><p>获取ServletContext getServletContext</p>
</li>
</ol>
</li>
<li><p>Response</p>
<ol>
<li><p>设置响应消息</p>
<ol>
<li><p>响应行</p>
<ol>
<li>setStatus(200)</li>
</ol>
</li>
<li><p>响应头</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set<span class="constructor">Header(<span class="params">string</span> <span class="params">name</span>,<span class="params">string</span> <span class="params">value</span>)</span></span><br></pre></td></tr></table></figure></li>
<li><p>响应体(stream)</p>
<ol>
<li>获取输出流 PrintWriter</li>
<li>调用outStream输出到浏览器</li>
</ol>
</li>
</ol>
</li>
<li><p>重定向步骤</p>
<ol>
<li><p>A没干–&gt;302+url of B–&gt;但是告诉浏览器B能干</p>
</li>
<li><p>```java<br>resp.sendRedirect(“/d6”);</p>
<figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   <span class="number">3</span>. 异步编程：<span class="function"><span class="title">get1</span>--&gt;</span><span class="function"><span class="title">post1</span>--&gt;</span>重定向--&gt;<span class="function"><span class="title">post1</span>--&gt;</span>get1;post2....</span><br><span class="line"></span><br><span class="line">   <span class="number">4</span>. 重定向是两次请求，所以重定向地址不是request域，也因为没传入req,resp.</span><br><span class="line"></span><br><span class="line">   <span class="number">5</span>. <span class="function"><span class="title">d5</span>-&gt;</span><span class="function"><span class="title">d6</span>-&gt;</span>d5不会让服务器崩溃，会让他一直工作</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>. 响应数据到浏览器</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>. String/txt/html</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>PrintWriter printWriter=resp.getWriter();<br>printWriter.write(“<h>hello-write</h>“);</p>
<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">2</span>. 乱码：编码和解码的标准不一样。</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>. 设置resp的编码格式</span><br><span class="line"></span><br><span class="line">   <span class="number">2</span>. 告诉浏览器解码方式(建议)</span><br><span class="line"></span><br><span class="line">      ```java</span><br><span class="line">      resp.setHeader(<span class="string">&quot;content-type&quot;</span>,<span class="string">&quot;text/html;charaset=utf-8&quot;</span>)<span class="comment">;</span></span><br></pre></td></tr></table></figure></li>
<li><p>字节流</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ServletOutputStream outputStream=resp.getOutputStream();</span><br><span class="line">outputStream.write(<span class="string">&quot;你不好&quot;</span>.getBytes(StandardCharsets.UTF_8));</span><br></pre></td></tr></table></figure></li>
<li><p>制作验证码</p>
<ol>
<li><p>简单图片</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">BufferedImage image=<span class="keyword">new</span> BufferedImage(w,h,BufferedImage.TYPE_INT_RGB);<span class="comment">//创建图片对象</span></span><br><span class="line"><span class="keyword">int</span> n=<span class="number">4</span>;<span class="comment">//画布加入4个字母</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">	Random ran=<span class="keyword">new</span> Random();</span><br><span class="line">	<span class="keyword">int</span> index=ran.nextInt(<span class="number">26</span>);</span><br><span class="line">	<span class="keyword">char</span> c= (<span class="keyword">char</span>) (index+<span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">	g.drawString(c+<span class="string">&quot;&quot;</span>,<span class="number">20</span>+w/<span class="number">5</span>*i,h/<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line">ImageIO.write(image,<span class="string">&quot;jpg&quot;</span>,resp.getOutputStream());<span class="comment">//传入到流</span></span><br></pre></td></tr></table></figure></li>
<li><p>点击图片刷新–&gt;前端调用刷新函数</p>
</li>
</ol>
</li>
<li><p>下载资源步骤(content-disposition: 附件-attachment;)</p>
<ol>
<li>href—&gt;servlet, 超链接指向servlet</li>
<li>设置响应头：文件类型+打开方式</li>
<li>servlet.context.getRealName，通过context获取真实路径</li>
<li>OutStream(InputStream(RealName)) 传到response的输出流</li>
<li>资源需要放在web下，而不是WEB-INF下</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">String filename = req.getParameter(<span class="string">&quot;filename&quot;</span>);</span><br><span class="line">        String mimeType = context.getMimeType(filename);</span><br><span class="line">        resp.setHeader(<span class="string">&quot;content-type&quot;</span>,mimeType);</span><br><span class="line">        resp.setHeader(<span class="string">&quot;content-disposition&quot;</span>,<span class="string">&quot;attachment;filename=&quot;</span>+filename);</span><br><span class="line">        String realPath1 = context.getRealPath(filename);</span><br><span class="line">        FileInputStream inputStream = <span class="keyword">new</span> FileInputStream(realPath1);</span><br><span class="line">        ServletOutputStream outputStream = resp.getOutputStream();</span><br><span class="line">        <span class="keyword">byte</span>[] buffers = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span> * <span class="number">8</span>];</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> ((len = inputStream.read(buffers)) != -<span class="number">1</span>) &#123;outputStream.write(buffers,<span class="number">0</span>,len);</span><br><span class="line">        &#125;<span class="comment">//访问/d8?filename=a.jpg</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="ServletContext"><a href="#ServletContext" class="headerlink" title="ServletContext"></a>ServletContext</h3><ol>
<li><p>存活于整个web应用，程序–容器间通信</p>
</li>
<li><p>作用</p>
<ol>
<li><p>获取mime类型</p>
<ol>
<li>大类型/小类型 text/html  image/jpg</li>
<li>context.getMimeType(String src)</li>
</ol>
</li>
<li><p>域共享数据</p>
<ol>
<li>setAttribute</li>
<li>getAtrribute</li>
<li>removeAtrribute</li>
<li>范围：所有用户，所有请求的数据，王存李取。(很少用)</li>
</ol>
</li>
<li><p>获取文件真实路径</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">context.getRealPath(<span class="string">&quot;a.txt&quot;</span>);<span class="comment">//web资源路径直接写</span></span><br><span class="line">context.getRealPath(<span class="string">&quot;/WEB-INF/classes/a.txt&quot;</span>);<span class="comment">//src下的需要指定WEB-INFO/classes</span></span><br></pre></td></tr></table></figure>

<p>jpath</p>
<pre><code>├── index.html
├── index.jsp
├── login.html
└── WEB-INF
    ├── classes
    │   └── com
    │       └── wyg
    └── web.xml
</code></pre>
</li>
</ol>
</li>
<li><p>获取ServletContext</p>
<ol>
<li><p>两种方式，两个相等</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ServletContext context=req.getServletContext();</span><br><span class="line">ServletContext context2=<span class="keyword">this</span>.getServletContext();</span><br></pre></td></tr></table></figure></li>
<li></li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="Request体系结构"><a href="#Request体系结构" class="headerlink" title="Request体系结构"></a>Request体系结构</h3><ol>
<li><p>接口ServletRequest—&gt;接口HttpServletRequest</p>
</li>
<li><p>实现类</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">request:</span><br><span class="line">org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.connector</span><span class="selector-class">.RequestFacade</span></span><br><span class="line">response:</span><br><span class="line">org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.connector</span>.ResponseFacade</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="一些理解"><a href="#一些理解" class="headerlink" title="一些理解"></a>一些理解</h3><ol>
<li>tomcat，</li>
<li>servlet 一种规范，实现这个规范的Class能够随时接受Requeset,Response，就好象一直运行在tomcat上一样。</li>
<li>request 一种规范，将浏览器的请求数据进行封装，其中httoRequest将http协议的请求进行封装，这个封装体可以把这些数据到处共享。</li>
<li>response</li>
<li>其他<ol>
<li>@WebServlet(“”)请求模式路径</li>
<li></li>
</ol>
</li>
</ol>
<h3 id="issue"><a href="#issue" class="headerlink" title="issue"></a>issue</h3><ol>
<li><p>Request请求参数乱码</p>
<ol>
<li><p>tomcat&gt;8 get方式不会乱码(url)</p>
</li>
<li><p>post(stream)-&gt;设置流的编码–&gt;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>Response设置编码</p>
</li>
</ol>
<h3 id="数据交互类型"><a href="#数据交互类型" class="headerlink" title="数据交互类型"></a>数据交互类型</h3><ol>
<li><p>BeanUtils</p>
<p>map–&gt;obj</p>
<ol>
<li>解析map–&gt;封装javaBean</li>
</ol>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="module-access"><span class="module"><span class="identifier">BeanUtils</span>.</span></span>populate(obj,map)</span><br></pre></td></tr></table></figure>

<ol>
<li>getProperty</li>
<li>setProperty</li>
</ol>
</li>
<li><p>javaBean</p>
<ol>
<li><p>public修饰class setter getter</p>
</li>
<li><p>空参构造器</p>
</li>
<li><p>成员变量Private</p>
<ol>
<li><p>属性 有同名setter(setName) getter</p>
<p>哪怕类没有这个成员变量，可以理解为属性是一对setter/getter的驼峰方法</p>
</li>
<li><p>成员变量 可以是属性，也可以不是，可以理解为类的变量。</p>
</li>
<li><p>一般情况下属性==成员变量</p>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="会话"><a href="#会话" class="headerlink" title="会话"></a>会话</h2><ol>
<li>会话功能：在会话范围内共享数据</li>
<li>一次会话就是从浏览器打开到关闭期间客户端与服务端的请求和响应</li>
<li>http无状态，无法进行数据交换，无法识别身份，</li>
</ol>
<h3 id="cookie-客户端会话技术"><a href="#cookie-客户端会话技术" class="headerlink" title="cookie 客户端会话技术"></a>cookie 客户端会话技术</h3><ol>
<li><p>cookie特点</p>
<ol>
<li>保存在浏览器内存中</li>
<li>key-value,Respones.Header，</li>
<li>可设置存活时间</li>
<li>安全性低</li>
<li>大小有限(每个域名一个大小)</li>
<li>不可跨域性</li>
</ol>
</li>
<li><p>作用</p>
<ol>
<li>登陆记录(欢迎回来，你上一次访问的时间是。。。cookie.set(cookie.getOrDefault(“lastTime”,0)))</li>
<li>页面间数据传递</li>
<li>保存用户信息</li>
</ol>
</li>
<li><p>使用步骤</p>
<ol>
<li><p>创建cookie</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cookie c=<span class="keyword">new</span> Cookie(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;hello&quot;</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>发送cookie–&gt;想听头 set-cookie:””</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.addCookie(c);</span><br></pre></td></tr></table></figure></li>
<li><p>获取cookie</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cookie[]cookies=request.getCookies();</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>发送多个cookie</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211006110443252.png![image-20211006110900739](https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211006110900739.png" alt="image-20211006110443252"></p>
<p>–&gt;下一次request的时候重复的会被统一(默认用最后一个)</p>
<p><img src="https://job-wyg.oss-cn-beijing.aliyuncs.com/image-20211006110648442.png" alt="image-20211006110648442"></p>
</li>
<li><p>cookie保存时间</p>
<ol>
<li>默认浏览器关闭</li>
<li>持久化存储 cookie.setMaxAge(60<em>60</em>24*30) <ol>
<li>整数：关闭浏览器n秒后才消失，上面是一个月</li>
<li>负数：默认</li>
<li>零：删除此cookie</li>
</ol>
</li>
</ol>
</li>
<li><p>cookie中文问题(tomcat&gt;8)</p>
<p>在浏览器中显示有问题，但是再次发送到java还是可以看到中文</p>
</li>
<li><p>cookie共享问题</p>
<ol>
<li>多个tomcat(服务器)默认情况下是不共享的</li>
<li>可以使用setPath设置范围(“/“)范围最大</li>
</ol>
</li>
</ol>
<h3 id="session-服务端会话技术"><a href="#session-服务端会话技术" class="headerlink" title="session 服务端会话技术"></a>session 服务端会话技术</h3><ol>
<li>特点<ol>
<li>存储一次会话所有的数据</li>
<li>很大，任意类型</li>
<li>基于cookie</li>
<li>服务器关闭前tomcat会自动持久化到本地</li>
</ol>
</li>
<li>原理<ol>
<li>第一次访问 创建session,setId,setAttr</li>
<li>响应到浏览器set-cookie:JSESSIONID</li>
<li>再次访问根据cookie的sessionId获取session</li>
</ol>
</li>
<li>存活时间<ol>
<li>关闭浏览器消失—&gt;可以通过延长cookie存活时期而持久化存储</li>
<li>session钝化—&gt;服务器关闭时持久化(序列化)   tomcat会自动进行—&gt;tomcat/work…./localhost/…/Session.ser</li>
<li>session活化—&gt;服务器读取持久化session到内存</li>
<li>session失效时间<ol>
<li>服务器关闭</li>
<li>自杀:session.invalidate();</li>
<li>默认30分钟web.xml-&gt;&lt;session-config-timeout&gt;</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="token"><a href="#token" class="headerlink" title="token"></a>token</h3>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="勇敢"
      src="/images/t.png">
  <p class="site-author-name" itemprop="name">勇敢</p>
  <div class="site-description" itemprop="description">学无止境</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">44</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://gitee.com/wang_yonggan" title="Gitee → https:&#x2F;&#x2F;gitee.com&#x2F;wang_yonggan" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>Gitee</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:2245316014@qq.com" title="E-Mail → mailto:2245316014@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">勇敢</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">67k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">1:01</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script size="300" alpha="0.6" zIndex="-1" src="/lib/canvas-ribbon/canvas-ribbon.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  <script id="cy_cmt_num" src="https://changyan.sohu.com/upload/plugins/plugins.list.count.js?clientId=cyvGB7eAg"></script>


</body>
</html>
